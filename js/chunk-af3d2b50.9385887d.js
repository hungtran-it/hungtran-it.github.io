(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-af3d2b50","chunk-af3d2b50","chunk-af3d2b50","chunk-af3d2b50"],{"2b8c":function(t,e,i){var n=i("be09"),i=t.exports={WebVTT:i("d02c4"),VTTCue:i("b03c"),VTTRegion:i("f97d")};n.vttjs=i,n.WebVTT=i.WebVTT;var r=i.VTTCue,a=i.VTTRegion,s=n.VTTCue,o=n.VTTRegion;i.shim=function(){n.VTTCue=r,n.VTTRegion=a},i.restore=function(){n.VTTCue=s,n.VTTRegion=o},n.VTTCue||i.shim()},"36c6":function(t,e){var i=function(t){return 9e4*t},n=function(t,e){return t*e},r=function(t){return t/9e4},a=function(t,e){return t/e};t.exports={ONE_SECOND_IN_TS:9e4,secondsToVideoTs:i,secondsToAudioTs:n,videoTsToSeconds:r,audioTsToSeconds:a,audioTsToVideoTs:function(t,e){return i(t/e)},videoTsToAudioTs:function(t,e){return r(t)*e},metadataTsToSeconds:function(t,e,i){return r(i?t:t-e)}}},"560b":function(t,e,i){"use strict";i("c460")},"58f1":function(t,e,i){"use strict";var n=(r.isSettingTrue=function(t){return""===t||!0===t||1===t},r.prototype.getElementListener=function(){if(this.fullPageListening)return window.document;if("string"==typeof this.settings["mouse-event-element"]){var t=document.querySelector(this.settings["mouse-event-element"]);if(t)return t}return this.settings["mouse-event-element"]instanceof Node?this.settings["mouse-event-element"]:this.element},r.prototype.addEventListeners=function(){this.onMouseEnterBind=this.onMouseEnter.bind(this),this.onMouseMoveBind=this.onMouseMove.bind(this),this.onMouseLeaveBind=this.onMouseLeave.bind(this),this.onWindowResizeBind=this.onWindowResize.bind(this),this.onDeviceOrientationBind=this.onDeviceOrientation.bind(this),this.elementListener.addEventListener("mouseenter",this.onMouseEnterBind),this.elementListener.addEventListener("mouseleave",this.onMouseLeaveBind),this.elementListener.addEventListener("mousemove",this.onMouseMoveBind),(this.glare||this.fullPageListening)&&window.addEventListener("resize",this.onWindowResizeBind),this.gyroscope&&window.addEventListener("deviceorientation",this.onDeviceOrientationBind)},r.prototype.removeEventListeners=function(){this.elementListener.removeEventListener("mouseenter",this.onMouseEnterBind),this.elementListener.removeEventListener("mouseleave",this.onMouseLeaveBind),this.elementListener.removeEventListener("mousemove",this.onMouseMoveBind),this.gyroscope&&window.removeEventListener("deviceorientation",this.onDeviceOrientationBind),(this.glare||this.fullPageListening)&&window.removeEventListener("resize",this.onWindowResizeBind)},r.prototype.destroy=function(){clearTimeout(this.transitionTimeout),null!==this.updateCall&&cancelAnimationFrame(this.updateCall),this.reset(),this.removeEventListeners(),this.element.vanillaTilt=null,delete this.element.vanillaTilt,this.element=null},r.prototype.onDeviceOrientation=function(t){var e,i;null!==t.gamma&&null!==t.beta&&(this.updateElementPosition(),0<this.gyroscopeSamples&&(this.lastgammazero=this.gammazero,this.lastbetazero=this.betazero,null===this.gammazero?(this.gammazero=t.gamma,this.betazero=t.beta):(this.gammazero=(t.gamma+this.lastgammazero)/2,this.betazero=(t.beta+this.lastbetazero)/2),--this.gyroscopeSamples),e=this.settings.gyroscopeMaxAngleX-this.settings.gyroscopeMinAngleX,i=this.settings.gyroscopeMaxAngleY-this.settings.gyroscopeMinAngleY,e=e/this.width,i=i/this.height,e=(t.gamma-(this.settings.gyroscopeMinAngleX+this.gammazero))/e,i=(t.beta-(this.settings.gyroscopeMinAngleY+this.betazero))/i,null!==this.updateCall&&cancelAnimationFrame(this.updateCall),this.event={clientX:e+this.left,clientY:i+this.top},this.updateCall=requestAnimationFrame(this.updateBind))},r.prototype.onMouseEnter=function(){this.updateElementPosition(),this.element.style.willChange="transform",this.setTransition()},r.prototype.onMouseMove=function(t){null!==this.updateCall&&cancelAnimationFrame(this.updateCall),this.event=t,this.updateCall=requestAnimationFrame(this.updateBind)},r.prototype.onMouseLeave=function(){this.setTransition(),this.settings.reset&&requestAnimationFrame(this.resetBind)},r.prototype.reset=function(){this.event={clientX:this.left+this.width/2,clientY:this.top+this.height/2},this.element&&this.element.style&&(this.element.style.transform="perspective("+this.settings.perspective+"px) rotateX(0deg) rotateY(0deg) scale3d(1, 1, 1)"),this.resetGlare()},r.prototype.resetGlare=function(){this.glare&&(this.glareElement.style.transform="rotate(180deg) translate(-50%, -50%)",this.glareElement.style.opacity="0")},r.prototype.updateInitialPosition=function(){var t;0===this.settings.startX&&0===this.settings.startY||(this.onMouseEnter(),this.fullPageListening?this.event={clientX:(this.settings.startX+this.settings.max)/(2*this.settings.max)*this.clientWidth,clientY:(this.settings.startY+this.settings.max)/(2*this.settings.max)*this.clientHeight}:this.event={clientX:this.left+(this.settings.startX+this.settings.max)/(2*this.settings.max)*this.width,clientY:this.top+(this.settings.startY+this.settings.max)/(2*this.settings.max)*this.height},t=this.settings.scale,this.settings.scale=1,this.update(),this.settings.scale=t,this.resetGlare())},r.prototype.getValues=function(){var t=void 0,e=void 0,e=this.fullPageListening?(t=this.event.clientX/this.clientWidth,this.event.clientY/this.clientHeight):(t=(this.event.clientX-this.left)/this.width,(this.event.clientY-this.top)/this.height),t=Math.min(Math.max(t,0),1);return e=Math.min(Math.max(e,0),1),{tiltX:(this.reverse*(this.settings.max-t*this.settings.max*2)).toFixed(2),tiltY:(this.reverse*(e*this.settings.max*2-this.settings.max)).toFixed(2),percentageX:100*t,percentageY:100*e,angle:Math.atan2(this.event.clientX-(this.left+this.width/2),-(this.event.clientY-(this.top+this.height/2)))*(180/Math.PI)}},r.prototype.updateElementPosition=function(){var t=this.element.getBoundingClientRect();this.width=this.element.offsetWidth,this.height=this.element.offsetHeight,this.left=t.left,this.top=t.top},r.prototype.update=function(){var t=this.getValues();this.element.style.transform="perspective("+this.settings.perspective+"px) rotateX("+("x"===this.settings.axis?0:t.tiltY)+"deg) rotateY("+("y"===this.settings.axis?0:t.tiltX)+"deg) scale3d("+this.settings.scale+", "+this.settings.scale+", "+this.settings.scale+")",this.glare&&(this.glareElement.style.transform="rotate("+t.angle+"deg) translate(-50%, -50%)",this.glareElement.style.opacity=""+t.percentageY*this.settings["max-glare"]/100),this.element.dispatchEvent(new CustomEvent("tiltChange",{detail:t})),this.updateCall=null},r.prototype.prepareGlare=function(){var t,e;this.glarePrerender||((t=document.createElement("div")).classList.add("js-tilt-glare"),(e=document.createElement("div")).classList.add("js-tilt-glare-inner"),t.appendChild(e),this.element.appendChild(t)),this.glareElementWrapper=this.element.querySelector(".js-tilt-glare"),this.glareElement=this.element.querySelector(".js-tilt-glare-inner"),this.glarePrerender||(Object.assign(this.glareElementWrapper.style,{position:"absolute",top:"0",left:"0",width:"100%",height:"100%",overflow:"hidden","pointer-events":"none"}),Object.assign(this.glareElement.style,{position:"absolute",top:"50%",left:"50%","pointer-events":"none","background-image":"linear-gradient(0deg, rgba(255,255,255,0) 0%, rgba(255,255,255,1) 100%)",transform:"rotate(180deg) translate(-50%, -50%)","transform-origin":"0% 0%",opacity:"0"}),this.updateGlareSize())},r.prototype.updateGlareSize=function(){var t;this.glare&&(t=2*(this.element.offsetWidth>this.element.offsetHeight?this.element.offsetWidth:this.element.offsetHeight),Object.assign(this.glareElement.style,{width:t+"px",height:t+"px"}))},r.prototype.updateClientSize=function(){this.clientWidth=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,this.clientHeight=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight},r.prototype.onWindowResize=function(){this.updateGlareSize(),this.updateClientSize()},r.prototype.setTransition=function(){var t=this;clearTimeout(this.transitionTimeout),this.element.style.transition=this.settings.speed+"ms "+this.settings.easing,this.glare&&(this.glareElement.style.transition="opacity "+this.settings.speed+"ms "+this.settings.easing),this.transitionTimeout=setTimeout(function(){t.element.style.transition="",t.glare&&(t.glareElement.style.transition="")},this.settings.speed)},r.prototype.extendSettings=function(t){var e,i={reverse:!1,max:15,startX:0,startY:0,perspective:1e3,easing:"cubic-bezier(.03,.98,.52,.99)",scale:1,speed:300,transition:!0,axis:null,glare:!1,"max-glare":1,"glare-prerender":!1,"full-page-listening":!1,"mouse-event-element":null,reset:!0,gyroscope:!0,gyroscopeMinAngleX:-45,gyroscopeMaxAngleX:45,gyroscopeMinAngleY:-45,gyroscopeMaxAngleY:45,gyroscopeSamples:10},n={};for(e in i)if(e in t)n[e]=t[e];else if(this.element.hasAttribute("data-tilt-"+e)){var r=this.element.getAttribute("data-tilt-"+e);try{n[e]=JSON.parse(r)}catch(t){n[e]=r}}else n[e]=i[e];return n},r.init=function(t,e){(t=(t=t instanceof Node?[t]:t)instanceof NodeList?[].slice.call(t):t)instanceof Array&&t.forEach(function(t){"vanillaTilt"in t||(t.vanillaTilt=new r(t,e))})},r);function r(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),!(t instanceof Node))throw"Can't initialize VanillaTilt because "+t+" is not a Node.";this.width=null,this.height=null,this.clientWidth=null,this.clientHeight=null,this.left=null,this.top=null,this.gammazero=null,this.betazero=null,this.lastgammazero=null,this.lastbetazero=null,this.transitionTimeout=null,this.updateCall=null,this.event=null,this.updateBind=this.update.bind(this),this.resetBind=this.reset.bind(this),this.element=t,this.settings=this.extendSettings(e),this.reverse=this.settings.reverse?-1:1,this.glare=r.isSettingTrue(this.settings.glare),this.glarePrerender=r.isSettingTrue(this.settings["glare-prerender"]),this.fullPageListening=r.isSettingTrue(this.settings["full-page-listening"]),this.gyroscope=r.isSettingTrue(this.settings.gyroscope),this.gyroscopeSamples=this.settings.gyroscopeSamples,this.elementListener=this.getElementListener(),this.glare&&this.prepareGlare(),this.fullPageListening&&this.updateClientSize(),this.addEventListeners(),this.reset(),this.updateInitialPosition()}"undefined"!=typeof document&&(window.VanillaTilt=n).init(document.querySelectorAll("[data-tilt]")),t.exports=n},"7baa":function(t,e,i){"use strict";var n=i("58f1"),r=i.n(n),n={name:"Tilt",data:function(){return{}},mounted:function(){r.a.init(this.$refs.tiltRef,this.options)},props:{options:Object,parallax:Boolean}},i=(i("560b"),i("2877")),n=Object(i.a)(n,function(){var t=this.$createElement;return(this._self._c||t)("div",{ref:"tiltRef",class:this.parallax?"preserve":"",attrs:{id:"tiltMe"}},[this._t("default")],2)},[],!1,null,null,null);e.a=n.exports},"81c0":function(t,e){var a=Math.pow(2,32);t.exports=function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength),i={version:t[0],flags:new Uint8Array(t.subarray(1,4)),references:[],referenceId:e.getUint32(4),timescale:e.getUint32(8)},n=12;0===i.version?(i.earliestPresentationTime=e.getUint32(n),i.firstOffset=e.getUint32(n+4),n+=8):(i.earliestPresentationTime=e.getUint32(n)*a+e.getUint32(n+4),i.firstOffset=e.getUint32(n+8)*a+e.getUint32(n+12),n+=16);var r=e.getUint16(n+=2);for(n+=2;0<r;n+=12,r--)i.references.push({referenceType:(128&t[n])>>>7,referencedSize:2147483647&e.getUint32(n),subsegmentDuration:e.getUint32(n+4),startsWithSap:!!(128&t[n+8]),sapType:(112&t[n+8])>>>4,sapDeltaTime:268435455&e.getUint32(n+8)});return i}},8484:function(t,e,i){"use strict";i.d(e,"a",function(){return R}),i.d(e,"b",function(){return O}),i.d(e,"c",function(){return j}),i.d(e,"d",function(){return $});function n(t){return!!t&&"object"==typeof t}function h(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return e.reduce(function(e,i){return"object"!=typeof i||Object.keys(i).forEach(function(t){Array.isArray(e[t])&&Array.isArray(i[t])?e[t]=e[t].concat(i[t]):n(e[t])&&n(i[t])?e[t]=h(e[t],i[t]):e[t]=i[t]}),e},{})}function r(t){if(!t.length)return[];for(var e=[],i=0;i<t.length;i++)e.push(t[i]);return e}function c(t){return t&&"number"!=typeof t&&(t=parseInt(t,10)),isNaN(t)?null:t}function f(t){var e=t.baseUrl,i=void 0===(r=t.initialization)?{}:r,n=t.sourceDuration,r=void 0===(a=t.indexRange)?"":a,a=t.duration;if(!e)throw new Error(w.NO_BASE_URL);return i=S({baseUrl:e,source:i.sourceURL,range:i.range}),(r=S({baseUrl:e,source:e,indexRange:r})).map=i,a?(t=A(t)).length&&(r.duration=t[0].duration,r.timeline=t[0].timeline):n&&(r.duration=n,r.timeline=0),r.number=0,[r]}function d(t,e){var i=O(t.sidx);return(i=i&&e[i]&&e[i].sidx)&&R(t,i,t.sidx.resolvedUri),t}function o(t,e){for(var i,n,r,a,s,o=t.type,u=t.minimumUpdatePeriod,c=void 0===u?0:u,l=void 0===(u=t.media)?"":u,h=t.sourceDuration,d=void 0===(u=t.timescale)?1:u,g=void 0===(u=t.startNumber)?1:u,p=t.periodIndex,f=[],m=-1,b=0;b<e.length;b++){var v=e[b],y=v.d,T=v.r||0,E=v.t||0;m<0&&(m=E),E&&m<E&&(m=E);var w,S=void 0;S=T<0?(w=b+1)===e.length?"dynamic"===o&&0<c&&0<l.indexOf("$Number$")?(i=m,v=s=a=r=n=void 0,n=(E=t).NOW,r=E.clientOffset,a=E.availabilityStartTime,s=E.timescale,v=E.start,E=E.minimumUpdatePeriod,Math.ceil((((n+r)/1e3+(void 0===E?0:E)-(a+(void 0===v?0:v)))*(void 0===s?1:s)-i)/y)):(h*d-m)/y:(e[w].t-m)/y:T+1;for(var I=g+f.length+S,A=g+f.length;A<I;)f.push({number:A,duration:y/d,time:m,timeline:p}),m+=y,A++}return f}function u(t,e){return t.replace(B,(r=e,function(t,e,i,n){if("$$"===t)return"$";if(void 0===r[e])return t;t=""+r[e];return"RepresentationID"===e?t:(n=i?parseInt(n,10):1)<=t.length?t:new Array(n-t.length+1).join("0")+t}));var r}function s(r,t){var a={RepresentationID:r.id,Bandwidth:r.bandwidth||0},e=void 0===(e=r.initialization)?{sourceURL:"",range:""}:e,s=S({baseUrl:r.baseUrl,source:u(e.sourceURL,a),range:e.range});return(e=t,(t=r).duration||e?t.duration?A(t):o(t,e):[{number:t.startNumber||1,duration:t.sourceDuration,time:0,timeline:t.periodIndex}]).map(function(t){a.Number=t.number,a.Time=t.time;var e=u(r.media||"",a),i=r.timescale||1,n=r.presentationTimeOffset||0,i=r.periodStart+(t.time-n)/i;return{uri:e,timeline:t.timeline,duration:t.duration,resolvedUri:Object(b.a)(r.baseUrl||"",e),map:s,number:t.number,presentationTime:i}})}function l(r,t){var e=r.duration,i=void 0===(i=r.segmentUrls)?[]:i,a=r.periodStart;if(!e&&!t||e&&t)throw new Error(w.SEGMENT_TIME_UNSPECIFIED);var n,s=i.map(function(t){return i=t,t=(e=r).baseUrl,e=e.initialization,e=S({baseUrl:t,source:(e=void 0===e?{}:e).sourceURL,range:e.range}),(i=S({baseUrl:t,source:i.media,range:i.mediaRange})).map=e,i;var e,i});return e&&(n=A(r)),(n=t?o(r,t):n).map(function(t,e){if(s[e]){var i=s[e],n=r.timescale||1,e=r.presentationTimeOffset||0;return i.timeline=t.timeline,i.duration=t.duration,i.number=t.number,i.presentationTime=a+(t.time-e)/n,i}}).filter(function(t){return t})}function a(t){if(!(r=/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/.exec(t)))return 0;var e=(a=r.slice(1))[0],i=a[1],n=a[2],t=a[3],r=a[4],a=a[5];return 31536e3*parseFloat(e||0)+2592e3*parseFloat(i||0)+86400*parseFloat(n||0)+3600*parseFloat(t||0)+60*parseFloat(r||0)+parseFloat(a||0)}function g(t){var e=V(t,"SegmentTemplate")[0],i=V(t,"SegmentList")[0],n=i&&V(i,"SegmentURL").map(function(t){return h({tag:"SegmentURL"},H(t))}),r=V(t,"SegmentBase")[0],t=(a=i||e)&&V(a,"SegmentTimeline")[0],a=(a=i||r||e)&&V(a,"Initialization")[0];(e=e&&H(e))&&a?e.initialization=a&&H(a):e&&e.initialization&&(e.initialization={sourceURL:e.initialization});var s={template:e,segmentTimeline:t&&V(t,"S").map(function(t){return H(t)}),list:i&&h(H(i),{segmentUrls:n,initialization:H(a)}),base:r&&h(H(r),{initialization:H(a)})};return Object.keys(s).forEach(function(t){s[t]||delete s[t]}),s}function p(u,c,l){return function(t){var e=H(t),i=_(c,V(t,"BaseURL")),n=V(t,"Role")[0],n={role:H(n)},e=h(u,e,n),n=V(t,"Accessibility")[0],n="urn:scte:dash:cc:cea-608:2015"===(n=H(n)).schemeIdUri?("string"!=typeof n.value?[]:n.value.split(";")).map(function(t){var e,i,n;return/^CC\d=/.test(n=t)?(i=(e=t.split("="))[0],n=e[1]):/^CC\d$/.test(t)&&(i=t),{channel:i,language:n}}):"urn:scte:dash:cc:cea-708:2015"===n.schemeIdUri?("string"!=typeof n.value?[]:n.value.split(";")).map(function(t){var e,i,n={channel:void 0,language:void 0,aspectRatio:1,easyReader:0,"3D":0};return/=/.test(t)?(e=(i=t.split("="))[0],i=void 0===(i=i[1])?"":i,n.channel=e,n.language=t,i.split(",").forEach(function(t){var e=t.split(":"),t=e[0],e=e[1];"lang"===t?n.language=e:"er"===t?n.easyReader=Number(e):"war"===t?n.aspectRatio=Number(e):"3D"===t&&(n["3D"]=Number(e))})):n.language=t,n.channel&&(n.channel="SERVICE"+n.channel),n}):void 0;n&&(e=h(e,{captionServices:n}));n=V(t,"Label")[0];n&&n.childNodes.length&&(r=n.childNodes[0].nodeValue.trim(),e=h(e,{label:r}));var r=V(t,"ContentProtection").reduce(function(t,e){var i=H(e),n=Y[i.schemeIdUri];return n&&(t[n]={attributes:i},(e=V(e,"cenc:pssh")[0])&&(e=(e=z(e))&&Object(y.a)(e),t[n].pssh=e)),t},{});Object.keys(r).length&&(e=h(e,{contentProtection:r}));var a,s,o,r=g(t),t=V(t,"Representation"),r=h(l,r);return E(t.map((a=e,s=i,o=r,function(t){var e=V(t,"BaseURL"),e=_(s,e),i=h(a,H(t)),n=g(t);return e.map(function(t){return{segmentInfo:h(o,n),attributes:h(i,{baseUrl:t})}})})))}}function m(t){if(""===t)throw new Error(w.DASH_EMPTY_MANIFEST);var e,i,n=new T.DOMParser;try{i=(e=n.parseFromString(t,"application/xml"))&&"MPD"===e.documentElement.tagName?e.documentElement:null}catch(t){}if(!i||0<i.getElementsByTagName("parsererror").length)throw new Error(w.DASH_INVALID_XML);return i}var b=i("63ec"),e=i("be09"),v=i.n(e),y=i("ffdf"),T=i("210b"),E=function(t){return t.reduce(function(t,e){return t.concat(e)},[])},w={INVALID_NUMBER_OF_PERIOD:"INVALID_NUMBER_OF_PERIOD",DASH_EMPTY_MANIFEST:"DASH_EMPTY_MANIFEST",DASH_INVALID_XML:"DASH_INVALID_XML",NO_BASE_URL:"NO_BASE_URL",MISSING_SEGMENT_INFORMATION:"MISSING_SEGMENT_INFORMATION",SEGMENT_TIME_UNSPECIFIED:"SEGMENT_TIME_UNSPECIFIED",UNSUPPORTED_UTC_TIMING_SCHEME:"UNSUPPORTED_UTC_TIMING_SCHEME"},S=function(t){var e=t.baseUrl,i=void 0===e?"":e,n=t.source,e=void 0===n?"":n,n=t.range,n=void 0===n?"":n,t=t.indexRange,t=void 0===t?"":t,e={uri:e,resolvedUri:Object(b.a)(i||"",e)};return(n||t)&&(n=(n||t).split("-"),t=parseInt(n[0],10),n=parseInt(n[1],10),e.byterange={length:n-t+1,offset:t}),e},I={static:function(t){var e=t.duration,i=t.timescale,n=void 0===i?1:i,r=t.sourceDuration,i=t.periodDuration,t=c(t.endNumber),n=e/n;return"number"==typeof t?{start:0,end:t}:"number"==typeof i?{start:0,end:i/n}:{start:0,end:r/n}},dynamic:function(t){var e=t.NOW,i=t.clientOffset,n=t.availabilityStartTime,r=t.timescale,a=void 0===r?1:r,s=t.duration,o=t.start,u=void 0===o?0:o,r=t.minimumUpdatePeriod,o=void 0===r?0:r,r=t.timeShiftBufferDepth,r=void 0===r?1/0:r,t=c(t.endNumber),i=(e+i)/1e3,u=n+u,o=Math.ceil((i+o-u)*a/s),r=Math.floor((i-u-r)*a/s),s=Math.floor((i-u)*a/s);return{start:Math.max(0,r),end:"number"==typeof t?t:Math.min(o,s)}}},A=function(t){var s,e=t.type,i=t.duration,n=t.timescale,r=void 0===n?1:n,a=t.periodDuration,o=t.sourceDuration,n=I[e](t),t=function(t,e){for(var i=[],n=t;n<e;n++)i.push(n);return i}(n.start,n.end).map((s=t,function(t,e){var i=s.duration,n=s.timescale,r=s.periodIndex,a=s.startNumber;return{number:(void 0===a?1:a)+t,duration:i/(void 0===n?1:n),timeline:r,time:e*i}}));return"static"===e&&(t[e=t.length-1].duration=("number"==typeof a?a:o)-i/r*e),t},R=function(t,e,i){for(var n=t.sidx.map||null,r=t.sidx.duration,a=t.timeline||0,s=t.sidx.byterange,s=s.offset+s.length,o=e.timescale,u=e.references.filter(function(t){return 1!==t.referenceType}),c=[],l=t.endList?"static":"dynamic",h=s+e.firstOffset,d=0;d<u.length;d++){var g=e.references[d],p=g.referencedSize,g=g.subsegmentDuration,g=f({baseUrl:i,timescale:o,timeline:a,periodIndex:a,duration:g,sourceDuration:r,indexRange:h+"-"+(h+p-1),type:l})[0];n&&(g.map=n),c.push(g),h+=p}return t.segments=c,t},O=function(t){return t&&t.uri+"-"+(e=t.byterange,t=e.offset+e.length-1,e.offset+"-"+t);var e},N=function(t){var e;return(e=t.reduce(function(t,e){var i,n=e.attributes.id+(e.attributes.lang||"");return t[n]?(e.segments[0]&&(e.segments[0].discontinuity=!0),(i=t[n].segments).push.apply(i,e.segments),e.attributes.contentProtection&&(t[n].attributes.contentProtection=e.attributes.contentProtection)):t[n]=e,t},{}),Object.keys(e).map(function(t){return e[t]})).map(function(t){return t.discontinuityStarts=(e=t.segments,n="discontinuity",e.reduce(function(t,e,i){return e[n]&&t.push(i),t},[])),t;var e,n})},D=function(t,e){if(void 0===e&&(e={}),!Object.keys(e).length)return t;for(var i in t)t[i]=d(t[i],e);return t},P=function(t,c,l){var h;void 0===c&&(c={}),void 0===l&&(l=!1);t=t.reduce(function(t,e){var i=e.attributes.role&&e.attributes.role.value||"",n=e.attributes.lang||"",r=e.attributes.label||"main";t[r=n&&!e.attributes.label?e.attributes.lang+(i?" ("+i+")":""):r]||(t[r]={language:n,autoselect:!0,default:"main"===i,playlists:[],uri:""});var a,s,o,u=d((s=l,o=(a=e).attributes,u=a.segments,n=a.sidx,u={attributes:((a={NAME:o.id,BANDWIDTH:o.bandwidth,CODECS:o.codecs})["PROGRAM-ID"]=1,a),uri:"",endList:"static"===o.type,timeline:o.periodIndex,resolvedUri:"",targetDuration:o.duration,segments:u,mediaSequence:u.length?u[0].number:1},o.contentProtection&&(u.contentProtection=o.contentProtection),n&&(u.sidx=n),s&&(u.attributes.AUDIO="audio",u.attributes.SUBTITLES="subs"),u),c);return t[r].playlists.push(u),void 0===h&&"main"===i&&((h=e).default=!0),t},{});return h||(t[Object.keys(t)[0]].default=!0),t},L=function(t,n){return void 0===n&&(n={}),t.reduce(function(t,e){var i=e.attributes.lang||"text";return t[i]||(t[i]={language:i,default:!1,autoselect:!1,playlists:[],uri:""}),t[i].playlists.push(d(function(t){var e=t.attributes,i=t.segments;void 0===i&&(i=[{uri:e.baseUrl,timeline:e.periodIndex,resolvedUri:e.baseUrl||"",duration:e.sourceDuration,number:0}],e.duration=e.sourceDuration);(t={NAME:e.id,BANDWIDTH:e.bandwidth})["PROGRAM-ID"]=1;return e.codecs&&(t.CODECS=e.codecs),{attributes:t,uri:"",endList:"static"===e.type,timeline:e.periodIndex,resolvedUri:e.baseUrl||"",targetDuration:e.duration,segments:i,mediaSequence:i.length?i[0].number:1}}(e),n)),t},{})},x=function(t){return t.reduce(function(n,t){return t&&t.forEach(function(t){var e=t.channel,i=t.language;n[i]={autoselect:!1,default:!1,instreamId:e,language:i},t.hasOwnProperty("aspectRatio")&&(n[i].aspectRatio=t.aspectRatio),t.hasOwnProperty("easyReader")&&(n[i].easyReader=t.easyReader),t.hasOwnProperty("3D")&&(n[i]["3D"]=t["3D"])}),n},{})},C=function(t){var e=t.attributes,i=t.segments,n=t.sidx,i={attributes:((t={NAME:e.id,AUDIO:"audio",SUBTITLES:"subs",RESOLUTION:{width:e.width,height:e.height},CODECS:e.codecs,BANDWIDTH:e.bandwidth})["PROGRAM-ID"]=1,t),uri:"",endList:"static"===e.type,timeline:e.periodIndex,resolvedUri:"",targetDuration:e.duration,segments:i,mediaSequence:i.length?i[0].number:1};return e.contentProtection&&(i.contentProtection=e.contentProtection),n&&(i.sidx=n),i},M=function(t){t=t.attributes;return"video/mp4"===t.mimeType||"video/webm"===t.mimeType||"video"===t.contentType},U=function(t){t=t.attributes;return"audio/mp4"===t.mimeType||"audio/webm"===t.mimeType||"audio"===t.contentType},X=function(t){t=t.attributes;return"text/vtt"===t.mimeType||"text"===t.contentType},B=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,k=function(t){var e,i=t.attributes,n=t.segmentInfo;n.template?(a=s,e=h(i,n.template)):n.base?(a=f,e=h(i,n.base)):n.list&&(a=l,e=h(i,n.list));var r={attributes:i};if(!a)return r;var a,t=a(e,n.segmentTimeline);return e.duration?(a=(i=e).duration,i=i.timescale,e.duration=a/(void 0===i?1:i)):t.length?e.duration=t.reduce(function(t,e){return Math.max(t,Math.ceil(e.duration))},0):e.duration=0,r.attributes=e,r.segments=t,n.base&&e.indexRange&&(r.sidx=t[0],r.segments=[]),r},V=function(t,e){return r(t.childNodes).filter(function(t){return t.tagName===e})},z=function(t){return t.textContent.trim()},G={mediaPresentationDuration:a,availabilityStartTime:function(t){return/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(t=t)&&(t+="Z"),Date.parse(t)/1e3},minimumUpdatePeriod:a,suggestedPresentationDelay:a,type:function(t){return t},timeShiftBufferDepth:a,start:a,width:function(t){return parseInt(t,10)},height:function(t){return parseInt(t,10)},bandwidth:function(t){return parseInt(t,10)},startNumber:function(t){return parseInt(t,10)},timescale:function(t){return parseInt(t,10)},presentationTimeOffset:function(t){return parseInt(t,10)},duration:function(t){var e=parseInt(t,10);return isNaN(e)?a(t):e},d:function(t){return parseInt(t,10)},t:function(t){return parseInt(t,10)},r:function(t){return parseInt(t,10)},DEFAULT:function(t){return t}},H=function(t){return t&&t.attributes?r(t.attributes).reduce(function(t,e){var i=G[e.name]||G.DEFAULT;return t[e.name]=i(e.value),t},{}):{}},Y={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime"},_=function(t,i){return i.length?E(t.map(function(e){return i.map(function(t){return Object(b.a)(e,z(t))})})):t},F=function(r,a){return function(t,e){var i=_(a,V(t.node,"BaseURL")),n=parseInt(t.attributes.id,10),e=v.a.isNaN(n)?e:n,n=h(r,{periodIndex:e,periodStart:t.attributes.start});"number"==typeof t.attributes.duration&&(n.periodDuration=t.attributes.duration);e=V(t.node,"AdaptationSet"),t=g(t.node);return E(e.map(p(n,i,t)))}},W=function(t){var e=t.attributes,i=t.priorPeriodAttributes,t=t.mpdType;return"number"==typeof e.start?e.start:i&&"number"==typeof i.start&&"number"==typeof i.duration?i.start+i.duration:i||"static"!==t?null:0},j=function(t,e){void 0===e&&(e={});t=function(t,e){var i=e=void 0===e?{}:e,n=i.manifestUri,r=void 0===n?"":n,a=i.NOW,e=void 0===a?Date.now():a,n=i.clientOffset,a=void 0===n?0:n,i=V(t,"Period");if(!i.length)throw new Error(w.INVALID_NUMBER_OF_PERIOD);var n=V(t,"Location"),s=H(t),t=_([r],V(t,"BaseURL"));s.type=s.type||"static",s.sourceDuration=s.mediaPresentationDuration||0,s.NOW=e,s.clientOffset=a,n.length&&(s.locations=n.map(z));var o=[];return i.forEach(function(t,e){var i=H(t),e=o[e-1];i.start=W({attributes:i,priorPeriodAttributes:e?e.attributes:null,mpdType:s.type}),o.push({node:t,attributes:i})}),{locations:s.locations,representationInfo:E(o.map(F(s,t)))}}(m(t),e);return function(t,e,i){if(void 0===i&&(i={}),!t.length)return{};var n=t[0].attributes,r=n.sourceDuration,a=n.type,s=n.suggestedPresentationDelay,o=n.minimumUpdatePeriod,u=N(t.filter(M)).map(C),c=N(t.filter(U)),l=t.filter(X),n=t.map(function(t){return t.attributes.captionServices}).filter(Boolean),u={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:((t={AUDIO:{},VIDEO:{}})["CLOSED-CAPTIONS"]={},t.SUBTITLES={},t),uri:"",duration:r,playlists:D(u,i)};0<=o&&(u.minimumUpdatePeriod=1e3*o),e&&(u.locations=e),"dynamic"===a&&(u.suggestedPresentationDelay=s);s=0===u.playlists.length;return c.length&&(u.mediaGroups.AUDIO.audio=P(c,i,s)),l.length&&(u.mediaGroups.SUBTITLES.subs=L(l,i)),n.length&&(u.mediaGroups["CLOSED-CAPTIONS"].cc=x(n)),u}(t.representationInfo.map(k),t.locations,e.sidxMapping)},$=function(t){return function(t){t=V(t,"UTCTiming")[0];if(!t)return null;var e=H(t);switch(e.schemeIdUri){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":e.method="HEAD";break;case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":e.method="GET";break;case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":e.method="DIRECT",e.value=Date.parse(e.value);break;default:throw new Error(w.UNSUPPORTED_UTC_TIMING_SCHEME)}return e}(m(t))}},"8c10":function(t,e){t.exports=function(t,e){var i,n=null;try{i=JSON.parse(t,e)}catch(t){n=t}return[n,i]}},b03c:function(t,e){var b={"":1,lr:1,rl:1},i={start:1,center:1,end:1,left:1,right:1,auto:1,"line-left":1,"line-right":1};function v(t){return"string"==typeof t&&(!!i[t.toLowerCase()]&&t.toLowerCase())}function n(t,e,i){this.hasBeenReset=!1;var n="",r=!1,a=t,s=e,o=i,u=null,c="",l=!0,h="auto",d="start",g="auto",p="auto",f=100,m="center";Object.defineProperties(this,{id:{enumerable:!0,get:function(){return n},set:function(t){n=""+t}},pauseOnExit:{enumerable:!0,get:function(){return r},set:function(t){r=!!t}},startTime:{enumerable:!0,get:function(){return a},set:function(t){if("number"!=typeof t)throw new TypeError("Start time must be set to a number.");a=t,this.hasBeenReset=!0}},endTime:{enumerable:!0,get:function(){return s},set:function(t){if("number"!=typeof t)throw new TypeError("End time must be set to a number.");s=t,this.hasBeenReset=!0}},text:{enumerable:!0,get:function(){return o},set:function(t){o=""+t,this.hasBeenReset=!0}},region:{enumerable:!0,get:function(){return u},set:function(t){u=t,this.hasBeenReset=!0}},vertical:{enumerable:!0,get:function(){return c},set:function(t){t="string"==typeof(t=t)&&(!!b[t.toLowerCase()]&&t.toLowerCase());if(!1===t)throw new SyntaxError("Vertical: an invalid or illegal direction string was specified.");c=t,this.hasBeenReset=!0}},snapToLines:{enumerable:!0,get:function(){return l},set:function(t){l=!!t,this.hasBeenReset=!0}},line:{enumerable:!0,get:function(){return h},set:function(t){if("number"!=typeof t&&"auto"!==t)throw new SyntaxError("Line: an invalid number or illegal string was specified.");h=t,this.hasBeenReset=!0}},lineAlign:{enumerable:!0,get:function(){return d},set:function(t){t=v(t);t&&(d=t,this.hasBeenReset=!0)}},position:{enumerable:!0,get:function(){return g},set:function(t){if(t<0||100<t)throw new Error("Position must be between 0 and 100.");g=t,this.hasBeenReset=!0}},positionAlign:{enumerable:!0,get:function(){return p},set:function(t){t=v(t);t&&(p=t,this.hasBeenReset=!0)}},size:{enumerable:!0,get:function(){return f},set:function(t){if(t<0||100<t)throw new Error("Size must be between 0 and 100.");f=t,this.hasBeenReset=!0}},align:{enumerable:!0,get:function(){return m},set:function(t){t=v(t);if(!t)throw new SyntaxError("align: an invalid or illegal alignment string was specified.");m=t,this.hasBeenReset=!0}}}),this.displayState=void 0}n.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)},t.exports=n},c460:function(t,e,i){},d02c4:function(t,e,i){var i=i("ef34"),n=Object.create||function(t){if(1!==arguments.length)throw new Error("Object.create shim only accepts one parameter.");return r.prototype=t,new r};function r(){}function u(t,e){this.name="ParsingError",this.code=t.code,this.message=e||t.message}function l(t){function e(t,e,i,n){return 3600*(0|t)+60*(0|e)+(0|i)+(0|n)/1e3}t=t.match(/^(\d+):(\d{1,2})(:\d{1,2})?\.(\d{3})/);return t?t[3]?e(t[1],t[2],t[3].replace(":",""),t[4]):59<t[1]?e(t[1],t[2],0,t[4]):e(0,t[1],t[2],t[4]):null}function c(){this.values=n(null)}function h(t,e,i,n){var r,a,s=n?t.split(n):[t];for(r in s)"string"!=typeof s[r]||2===(a=s[r].split(i)).length&&e(a[0],a[1])}function d(e,t,s){var i=e;function n(){var t=l(e);if(null===t)throw new u(u.Errors.BadTimeStamp,"Malformed timestamp: "+i);return e=e.replace(/^[^\sa-zA-Z-]+/,""),t}function r(){e=e.replace(/^\s+/,"")}if(r(),t.startTime=n(),r(),"--\x3e"!==e.substr(0,3))throw new u(u.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '--\x3e'): "+i);e=e.substr(3),r(),t.endTime=n(),r(),function(t,e){var a=new c;h(t,function(t,e){switch(t){case"region":for(var i=s.length-1;0<=i;i--)if(s[i].id===e){a.set(t,s[i].region);break}break;case"vertical":a.alt(t,e,["rl","lr"]);break;case"line":var n=e.split(","),r=n[0];a.integer(t,r),a.percent(t,r)&&a.set("snapToLines",!1),a.alt(t,r,["auto"]),2===n.length&&a.alt("lineAlign",n[1],["start","center","end"]);break;case"position":n=e.split(","),a.percent(t,n[0]),2===n.length&&a.alt("positionAlign",n[1],["start","center","end"]);break;case"size":a.percent(t,e);break;case"align":a.alt(t,e,["start","center","end","left","right"])}},/:/,/\s/),e.region=a.get("region",null),e.vertical=a.get("vertical","");try{e.line=a.get("line","auto")}catch(t){}e.lineAlign=a.get("lineAlign","start"),e.snapToLines=a.get("snapToLines",!0),e.size=a.get("size",100);try{e.align=a.get("align","center")}catch(t){e.align=a.get("align","middle")}try{e.position=a.get("position","auto")}catch(t){e.position=a.get("position",{start:0,left:0,center:50,middle:50,end:100,right:100},e.align)}e.positionAlign=a.get("positionAlign",{start:"start",left:"start",center:"center",middle:"center",end:"end",right:"end"},e.align)}(e,t)}((u.prototype=n(Error.prototype)).constructor=u).Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}},c.prototype={set:function(t,e){this.get(t)||""===e||(this.values[t]=e)},get:function(t,e,i){return i?this.has(t)?this.values[t]:e[i]:this.has(t)?this.values[t]:e},has:function(t){return t in this.values},alt:function(t,e,i){for(var n=0;n<i.length;++n)if(e===i[n]){this.set(t,e);break}},integer:function(t,e){/^-?\d+$/.test(e)&&this.set(t,parseInt(e,10))},percent:function(t,e){return!!(e.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(0<=(e=parseFloat(e))&&e<=100))&&(this.set(t,e),!0)}};var g=i.createElement&&i.createElement("textarea"),p={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},f={white:"rgba(255,255,255,1)",lime:"rgba(0,255,0,1)",cyan:"rgba(0,255,255,1)",red:"rgba(255,0,0,1)",yellow:"rgba(255,255,0,1)",magenta:"rgba(255,0,255,1)",blue:"rgba(0,0,255,1)",black:"rgba(0,0,0,1)"},m={v:"title",lang:"lang"},b={rt:"ruby"};function a(t,e){for(var i,n,r=t.document.createElement("div"),a=r,s=[];null!==(c=void 0,i=e?(c=(c=e.match(/^([^<]*)(<[^>]*>?)?/))[1]||c[2],e=e.substr(c.length),c):null);)if("<"!==i[0])a.appendChild(t.document.createTextNode((n=i,g.innerHTML=n,n=g.textContent,g.textContent="",n)));else{if("/"===i[1]){s.length&&s[s.length-1]===i.substr(2).replace(">","")&&(s.pop(),a=a.parentNode);continue}var o,u=l(i.substr(1,i.length-2));if(u){o=t.document.createProcessingInstruction("timestamp",u),a.appendChild(o);continue}var c=i.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!c)continue;if(n=c[1],u=c[3],i=void 0,i=p[n],!(o=i?(i=t.document.createElement(i),(n=m[n])&&u&&(i[n]=u.trim()),i):null))continue;if(u=a,b[(i=o).localName]&&b[i.localName]!==u.localName)continue;c[2]&&((u=c[2].split(".")).forEach(function(t){var e=/^bg_/.test(t),t=e?t.slice(3):t;f.hasOwnProperty(t)&&(t=f[t],o.style[e?"background-color":"color"]=t)}),o.className=u.join(" ")),s.push(c[1]),a.appendChild(o),a=o}return r}var s=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function o(t){var e=[],i="";if(!t||!t.childNodes)return"ltr";function a(t,e){for(var i=e.childNodes.length-1;0<=i;i--)t.push(e.childNodes[i])}for(a(e,t);i=function t(e){if(!e||!e.length)return null;var i=e.pop(),n=i.textContent||i.innerText;if(n){var r=n.match(/^.*(\n|\r)/);return r?r[e.length=0]:n}return"ruby"===i.tagName?t(e):i.childNodes?(a(e,i),t(e)):void 0}(e);)for(var n=0;n<i.length;n++)if(function(t){for(var e=0;e<s.length;e++){var i=s[e];if(t>=i[0]&&t<=i[1])return 1}}(i.charCodeAt(n)))return"rtl";return"ltr"}function v(){}function y(t,e,i){v.call(this),this.cue=e,this.cueDiv=a(t,e.text);var n={color:"rgba(255, 255, 255, 1)",backgroundColor:"rgba(0, 0, 0, 0.8)",position:"relative",left:0,right:0,top:0,bottom:0,display:"inline",writingMode:""===e.vertical?"horizontal-tb":"lr"===e.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext"};this.applyStyles(n,this.cueDiv),this.div=t.document.createElement("div"),n={direction:o(this.cueDiv),writingMode:""===e.vertical?"horizontal-tb":"lr"===e.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext",textAlign:"middle"===e.align?"center":e.align,font:i.font,whiteSpace:"pre-line",position:"absolute"},this.applyStyles(n),this.div.appendChild(this.cueDiv);var r=0;switch(e.positionAlign){case"start":r=e.position;break;case"center":r=e.position-e.size/2;break;case"end":r=e.position-e.size}""===e.vertical?this.applyStyles({left:this.formatStyle(r,"%"),width:this.formatStyle(e.size,"%")}):this.applyStyles({top:this.formatStyle(r,"%"),height:this.formatStyle(e.size,"%")}),this.move=function(t){this.applyStyles({top:this.formatStyle(t.top,"px"),bottom:this.formatStyle(t.bottom,"px"),left:this.formatStyle(t.left,"px"),right:this.formatStyle(t.right,"px"),height:this.formatStyle(t.height,"px"),width:this.formatStyle(t.width,"px")})}}function T(t){var e,i,n,r;t.div&&(e=t.div.offsetHeight,i=t.div.offsetWidth,n=t.div.offsetTop,r=(r=t.div.childNodes)&&(r=r[0])&&r.getClientRects&&r.getClientRects(),t=t.div.getBoundingClientRect(),r=r?Math.max(r[0]&&r[0].height||0,t.height/r.length):0),this.left=t.left,this.right=t.right,this.top=t.top||n,this.height=t.height||e,this.bottom=t.bottom||n+(t.height||e),this.width=t.width||i,this.lineHeight=void 0!==r?r:t.lineHeight}function E(t,e,o,u){var i,n=new T(e),r=e.cue,a=function(t){if("number"==typeof t.line&&(t.snapToLines||0<=t.line&&t.line<=100))return t.line;if(!t.track||!t.track.textTrackList||!t.track.textTrackList.mediaElement)return-1;for(var e=t.track,i=e.textTrackList,n=0,r=0;r<i.length&&i[r]!==e;r++)"showing"===i[r].mode&&n++;return-1*++n}(r),s=[];if(r.snapToLines){switch(r.vertical){case"":s=["+y","-y"],i="height";break;case"rl":s=["+x","-x"],i="width";break;case"lr":s=["-x","+x"],i="width"}var c=n.lineHeight,l=c*Math.round(a),h=o[i]+c,d=s[0];Math.abs(l)>h&&(l=l<0?-1:1,l*=Math.ceil(h/c)*c),a<0&&(l+=""===r.vertical?o.height:o.width,s=s.reverse()),n.move(d,l)}else{var g=n.lineHeight/o.height*100;switch(r.lineAlign){case"center":a-=g/2;break;case"end":a-=g}switch(r.vertical){case"":e.applyStyles({top:e.formatStyle(a,"%")});break;case"rl":e.applyStyles({left:e.formatStyle(a,"%")});break;case"lr":e.applyStyles({right:e.formatStyle(a,"%")})}s=["+y","-x","+x","-y"],n=new T(e)}n=function(t,e){for(var i,n=new T(t),r=1,a=0;a<e.length;a++){for(;t.overlapsOppositeAxis(o,e[a])||t.within(o)&&t.overlapsAny(u);)t.move(e[a]);if(t.within(o))return t;var s=t.intersectPercentage(o);s<r&&(i=new T(t),r=s),t=new T(n)}return i||n}(n,s);e.move(n.toCSSCompatValues(o))}function w(){}v.prototype.applyStyles=function(t,e){for(var i in e=e||this.div,t)t.hasOwnProperty(i)&&(e.style[i]=t[i])},v.prototype.formatStyle=function(t,e){return 0===t?0:t+e},(y.prototype=n(v.prototype)).constructor=y,T.prototype.move=function(t,e){switch(e=void 0!==e?e:this.lineHeight,t){case"+x":this.left+=e,this.right+=e;break;case"-x":this.left-=e,this.right-=e;break;case"+y":this.top+=e,this.bottom+=e;break;case"-y":this.top-=e,this.bottom-=e}},T.prototype.overlaps=function(t){return this.left<t.right&&this.right>t.left&&this.top<t.bottom&&this.bottom>t.top},T.prototype.overlapsAny=function(t){for(var e=0;e<t.length;e++)if(this.overlaps(t[e]))return!0;return!1},T.prototype.within=function(t){return this.top>=t.top&&this.bottom<=t.bottom&&this.left>=t.left&&this.right<=t.right},T.prototype.overlapsOppositeAxis=function(t,e){switch(e){case"+x":return this.left<t.left;case"-x":return this.right>t.right;case"+y":return this.top<t.top;case"-y":return this.bottom>t.bottom}},T.prototype.intersectPercentage=function(t){return Math.max(0,Math.min(this.right,t.right)-Math.max(this.left,t.left))*Math.max(0,Math.min(this.bottom,t.bottom)-Math.max(this.top,t.top))/(this.height*this.width)},T.prototype.toCSSCompatValues=function(t){return{top:this.top-t.top,bottom:t.bottom-this.bottom,left:this.left-t.left,right:t.right-this.right,height:this.height,width:this.width}},T.getSimpleBoxPosition=function(t){var e=t.div?t.div.offsetHeight:t.tagName?t.offsetHeight:0,i=t.div?t.div.offsetWidth:t.tagName?t.offsetWidth:0,n=t.div?t.div.offsetTop:t.tagName?t.offsetTop:0;return{left:(t=t.div?t.div.getBoundingClientRect():t.tagName?t.getBoundingClientRect():t).left,right:t.right,top:t.top||n,height:t.height||e,bottom:t.bottom||n+(t.height||e),width:t.width||i}},w.StringDecoder=function(){return{decode:function(t){if(!t)return"";if("string"!=typeof t)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(t))}}},w.convertCueToDOMTree=function(t,e){return t&&e?a(t,e):null};w.processCues=function(n,r,t){if(!n||!r||!t)return null;for(;t.firstChild;)t.removeChild(t.firstChild);var a=n.document.createElement("div");if(a.style.position="absolute",a.style.left="0",a.style.right="0",a.style.top="0",a.style.bottom="0",a.style.margin="1.5%",t.appendChild(a),function(t){for(var e=0;e<t.length;e++)if(t[e].hasBeenReset||!t[e].displayState)return 1}(r)){var s=[],o=T.getSimpleBoxPosition(a),u={font:Math.round(.05*o.height*100)/100+"px sans-serif"};!function(){for(var t,e,i=0;i<r.length;i++)e=r[i],t=new y(n,e,u),a.appendChild(t.div),E(0,t,o,s),e.displayState=t.div,s.push(T.getSimpleBoxPosition(t))}()}else for(var e=0;e<r.length;e++)a.appendChild(r[e].displayState)},(w.Parser=function(t,e,i){i||(i=e,e={}),e=e||{},this.window=t,this.vttjs=e,this.state="INITIAL",this.buffer="",this.decoder=i||new TextDecoder("utf8"),this.regionList=[]}).prototype={reportOrThrowError:function(t){if(!(t instanceof u))throw t;this.onparsingerror&&this.onparsingerror(t)},parse:function(t){var n=this;function e(){for(var t=n.buffer,e=0;e<t.length&&"\r"!==t[e]&&"\n"!==t[e];)++e;var i=t.substr(0,e);return"\r"===t[e]&&++e,"\n"===t[e]&&++e,n.buffer=t.substr(e),i}function i(t){t.match(/X-TIMESTAMP-MAP/)?h(t,function(t,e){var i;"X-TIMESTAMP-MAP"===t&&(e=e,i=new c,h(e,function(t,e){switch(t){case"MPEGT":i.integer(t+"S",e);break;case"LOCA":i.set(t+"L",l(e))}},/[^\d]:/,/,/),n.ontimestampmap&&n.ontimestampmap({MPEGTS:i.get("MPEGTS"),LOCAL:i.get("LOCAL")}))},/=/):h(t,function(t,e){var r;"Region"===t&&(e=e,r=new c,h(e,function(t,e){switch(t){case"id":r.set(t,e);break;case"width":r.percent(t,e);break;case"lines":r.integer(t,e);break;case"regionanchor":case"viewportanchor":var i=e.split(",");if(2!==i.length)break;var n=new c;if(n.percent("x",i[0]),n.percent("y",i[1]),!n.has("x")||!n.has("y"))break;r.set(t+"X",n.get("x")),r.set(t+"Y",n.get("y"));break;case"scroll":r.alt(t,e,["up"])}},/=/,/\s/),r.has("id")&&((e=new(n.vttjs.VTTRegion||n.window.VTTRegion)).width=r.get("width",100),e.lines=r.get("lines",3),e.regionAnchorX=r.get("regionanchorX",0),e.regionAnchorY=r.get("regionanchorY",100),e.viewportAnchorX=r.get("viewportanchorX",0),e.viewportAnchorY=r.get("viewportanchorY",100),e.scroll=r.get("scroll",""),n.onregion&&n.onregion(e),n.regionList.push({id:r.get("id"),region:e})))},/:/)}t&&(n.buffer+=n.decoder.decode(t,{stream:!0}));try{if("INITIAL"===n.state){if(!/\r\n|\n/.test(n.buffer))return this;var r,a=(r=e()).match(/^WEBVTT([ \t].*)?$/);if(!a||!a[0])throw new u(u.Errors.BadSignature);n.state="HEADER"}for(var s=!1;n.buffer;){if(!/\r\n|\n/.test(n.buffer))return this;switch(s?s=!1:r=e(),n.state){case"HEADER":/:/.test(r)?i(r):r||(n.state="ID");continue;case"NOTE":r||(n.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(r)){n.state="NOTE";break}if(!r)continue;n.cue=new(n.vttjs.VTTCue||n.window.VTTCue)(0,0,"");try{n.cue.align="center"}catch(t){n.cue.align="middle"}if(n.state="CUE",-1===r.indexOf("--\x3e")){n.cue.id=r;continue}case"CUE":try{d(r,n.cue,n.regionList)}catch(t){n.reportOrThrowError(t),n.cue=null,n.state="BADCUE";continue}n.state="CUETEXT";continue;case"CUETEXT":var o=-1!==r.indexOf("--\x3e");if(!r||o&&(s=!0)){n.oncue&&n.oncue(n.cue),n.cue=null,n.state="ID";continue}n.cue.text&&(n.cue.text+="\n"),n.cue.text+=r.replace(/\u2028/g,"\n").replace(/u2029/g,"\n");continue;case"BADCUE":r||(n.state="ID");continue}}}catch(t){n.reportOrThrowError(t),"CUETEXT"===n.state&&n.cue&&n.oncue&&n.oncue(n.cue),n.cue=null,n.state="INITIAL"===n.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){var e=this;try{if(e.buffer+=e.decoder.decode(),!e.cue&&"HEADER"!==e.state||(e.buffer+="\n\n",e.parse()),"INITIAL"===e.state)throw new u(u.Errors.BadSignature)}catch(t){e.reportOrThrowError(t)}return e.onflush&&e.onflush(),this}},t.exports=w},d136:function(t,e,i){var n,a,r,s,o;n=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/?#]*\/)*[^;?#]*)?(;[^?#]*)?(\?[^#]*)?(#[^]*)?$/,a=/^([^\/?#]*)([^]*)$/,r=/(?:\/|^)\.(?=\/)/g,s=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,o={buildAbsoluteURL:function(t,e,i){if(i=i||{},t=t.trim(),!(e=e.trim())){if(!i.alwaysNormalize)return t;var n=o.parseURL(t);if(!n)throw new Error("Error trying to parse base URL.");return n.path=o.normalizePath(n.path),o.buildURLFromParts(n)}n=o.parseURL(e);if(!n)throw new Error("Error trying to parse relative URL.");if(n.scheme)return i.alwaysNormalize?(n.path=o.normalizePath(n.path),o.buildURLFromParts(n)):e;e=o.parseURL(t);if(!e)throw new Error("Error trying to parse base URL.");!e.netLoc&&e.path&&"/"!==e.path[0]&&(r=a.exec(e.path),e.netLoc=r[1],e.path=r[2]),e.netLoc&&!e.path&&(e.path="/");var r,t={scheme:e.scheme,netLoc:n.netLoc,path:null,params:n.params,query:n.query,fragment:n.fragment};return n.netLoc||(t.netLoc=e.netLoc,"/"===n.path[0])||(n.path?(r=(r=e.path).substring(0,r.lastIndexOf("/")+1)+n.path,t.path=o.normalizePath(r)):(t.path=e.path,n.params||(t.params=e.params,n.query||(t.query=e.query)))),null===t.path&&(t.path=i.alwaysNormalize?o.normalizePath(n.path):n.path),o.buildURLFromParts(t)},parseURL:function(t){t=n.exec(t);return t?{scheme:t[1]||"",netLoc:t[2]||"",path:t[3]||"",params:t[4]||"",query:t[5]||"",fragment:t[6]||""}:null},normalizePath:function(t){for(t=t.split("").reverse().join("").replace(r,"");t.length!==(t=t.replace(s,"")).length;);return t.split("").reverse().join("")},buildURLFromParts:function(t){return t.scheme+t.netLoc+t.path+t.params+t.query+t.fragment}},t.exports=o},d749:function(t,e,i){"use strict";i.d(e,"a",function(){return h});function o(t){var e=/([0-9.]*)?@?([0-9.]*)?/.exec(t||""),t={};return e[1]&&(t.length=parseInt(e[1],10)),e[2]&&(t.offset=parseInt(e[2],10)),t}function u(t){for(var e,i=t.split(new RegExp('(?:^|,)((?:[^=]*)=(?:"[^"]*"|[^,]*))')),n={},r=i.length;r--;)""!==i[r]&&((e=/([^=]*)=(.*)/.exec(i[r]).slice(1))[0]=e[0].replace(/^\s+|\s+$/g,""),e[1]=e[1].replace(/^\s+|\s+$/g,""),e[1]=e[1].replace(/^['"](.*)['"]$/g,"$1"),n[e[0]]=e[1]);return n}function p(e){var i={};return Object.keys(e).forEach(function(t){i[l(t)]=e[t]}),i}function f(t){var e,i,n,r,a=t.serverControl,s=t.targetDuration,o=t.partTargetDuration;a&&(e="#EXT-X-SERVER-CONTROL",i="holdBack",n="partHoldBack",r=s&&3*s,t=o&&2*o,s&&!a.hasOwnProperty(i)&&(a[i]=r,this.trigger("info",{message:e+" defaulting HOLD-BACK to targetDuration * 3 ("+r+")."})),r&&a[i]<r&&(this.trigger("warn",{message:e+" clamping HOLD-BACK ("+a[i]+") to targetDuration * 3 ("+r+")"}),a[i]=r),o&&!a.hasOwnProperty(n)&&(a[n]=3*o,this.trigger("info",{message:e+" defaulting PART-HOLD-BACK to partTargetDuration * 3 ("+a[n]+")."})),o&&a[n]<t&&(this.trigger("warn",{message:e+" clamping PART-HOLD-BACK ("+a[n]+") to partTargetDuration * 2 ("+t+")."}),a[n]=t))}var n,r=i("55b5"),a=i.n(r),e=i("b209"),r=i("a559"),m=i.n(r),r=i("3c96"),s=i.n(r),b=i("ffdf"),v=(n=e.a,a()(d,n),d.prototype.push=function(t){var e;for(this.buffer+=t,e=this.buffer.indexOf("\n");-1<e;e=this.buffer.indexOf("\n"))this.trigger("data",this.buffer.substring(0,e)),this.buffer=this.buffer.substring(e+1)},d),c=String.fromCharCode(9),y=function(e){function t(){var t=e.call(this)||this;return t.customParsers=[],t.tagMappers=[],t}a()(t,e);var i=t.prototype;return i.push=function(i){var r,a,s=this;0!==(i=i.trim()).length&&("#"===i[0]?this.tagMappers.reduce(function(t,e){e=e(i);return e===i?t:t.concat([e])},[i]).forEach(function(t){for(var e,i,n=0;n<s.customParsers.length;n++)if(s.customParsers[n].call(s,t))return;if(0===t.indexOf("#EXT"))if(t=t.replace("\r",""),r=/^#EXTM3U/.exec(t))s.trigger("data",{type:"tag",tagType:"m3u"});else{if(r=/^#EXTINF:?([0-9\.]*)?,?(.*)?$/.exec(t))return a={type:"tag",tagType:"inf"},r[1]&&(a.duration=parseFloat(r[1])),r[2]&&(a.title=r[2]),void s.trigger("data",a);if(r=/^#EXT-X-TARGETDURATION:?([0-9.]*)?/.exec(t))return a={type:"tag",tagType:"targetduration"},r[1]&&(a.duration=parseInt(r[1],10)),void s.trigger("data",a);if(r=/^#EXT-X-VERSION:?([0-9.]*)?/.exec(t))return a={type:"tag",tagType:"version"},r[1]&&(a.version=parseInt(r[1],10)),void s.trigger("data",a);if(r=/^#EXT-X-MEDIA-SEQUENCE:?(\-?[0-9.]*)?/.exec(t))return a={type:"tag",tagType:"media-sequence"},r[1]&&(a.number=parseInt(r[1],10)),void s.trigger("data",a);if(r=/^#EXT-X-DISCONTINUITY-SEQUENCE:?(\-?[0-9.]*)?/.exec(t))return a={type:"tag",tagType:"discontinuity-sequence"},r[1]&&(a.number=parseInt(r[1],10)),void s.trigger("data",a);if(r=/^#EXT-X-PLAYLIST-TYPE:?(.*)?$/.exec(t))return a={type:"tag",tagType:"playlist-type"},r[1]&&(a.playlistType=r[1]),void s.trigger("data",a);if(r=/^#EXT-X-BYTERANGE:?(.*)?$/.exec(t))return a=m()(o(r[1]),{type:"tag",tagType:"byterange"}),void s.trigger("data",a);if(r=/^#EXT-X-ALLOW-CACHE:?(YES|NO)?/.exec(t))return a={type:"tag",tagType:"allow-cache"},r[1]&&(a.allowed=!/NO/.test(r[1])),void s.trigger("data",a);if(r=/^#EXT-X-MAP:?(.*)$/.exec(t))a={type:"tag",tagType:"map"},r[1]&&((e=u(r[1])).URI&&(a.uri=e.URI),e.BYTERANGE&&(a.byterange=o(e.BYTERANGE))),s.trigger("data",a);else if(r=/^#EXT-X-STREAM-INF:?(.*)$/.exec(t))a={type:"tag",tagType:"stream-inf"},r[1]&&(a.attributes=u(r[1]),a.attributes.RESOLUTION&&(i={},(e=a.attributes.RESOLUTION.split("x"))[0]&&(i.width=parseInt(e[0],10)),e[1]&&(i.height=parseInt(e[1],10)),a.attributes.RESOLUTION=i),a.attributes.BANDWIDTH&&(a.attributes.BANDWIDTH=parseInt(a.attributes.BANDWIDTH,10)),a.attributes["PROGRAM-ID"]&&(a.attributes["PROGRAM-ID"]=parseInt(a.attributes["PROGRAM-ID"],10))),s.trigger("data",a);else{if(r=/^#EXT-X-MEDIA:?(.*)$/.exec(t))return a={type:"tag",tagType:"media"},r[1]&&(a.attributes=u(r[1])),void s.trigger("data",a);if(r=/^#EXT-X-ENDLIST/.exec(t))s.trigger("data",{type:"tag",tagType:"endlist"});else{if(!(r=/^#EXT-X-DISCONTINUITY/.exec(t)))return(r=/^#EXT-X-PROGRAM-DATE-TIME:?(.*)$/.exec(t))?(a={type:"tag",tagType:"program-date-time"},r[1]&&(a.dateTimeString=r[1],a.dateTimeObject=new Date(r[1])),void s.trigger("data",a)):(r=/^#EXT-X-KEY:?(.*)$/.exec(t))?(a={type:"tag",tagType:"key"},r[1]&&(a.attributes=u(r[1]),a.attributes.IV&&("0x"===a.attributes.IV.substring(0,2).toLowerCase()&&(a.attributes.IV=a.attributes.IV.substring(2)),a.attributes.IV=a.attributes.IV.match(/.{8}/g),a.attributes.IV[0]=parseInt(a.attributes.IV[0],16),a.attributes.IV[1]=parseInt(a.attributes.IV[1],16),a.attributes.IV[2]=parseInt(a.attributes.IV[2],16),a.attributes.IV[3]=parseInt(a.attributes.IV[3],16),a.attributes.IV=new Uint32Array(a.attributes.IV))),void s.trigger("data",a)):(r=/^#EXT-X-START:?(.*)$/.exec(t))?(a={type:"tag",tagType:"start"},r[1]&&(a.attributes=u(r[1]),a.attributes["TIME-OFFSET"]=parseFloat(a.attributes["TIME-OFFSET"]),a.attributes.PRECISE=/YES/.test(a.attributes.PRECISE)),void s.trigger("data",a)):(r=/^#EXT-X-CUE-OUT-CONT:?(.*)?$/.exec(t))?(a={type:"tag",tagType:"cue-out-cont"},r[1]?a.data=r[1]:a.data="",void s.trigger("data",a)):(r=/^#EXT-X-CUE-OUT:?(.*)?$/.exec(t))?(a={type:"tag",tagType:"cue-out"},r[1]?a.data=r[1]:a.data="",void s.trigger("data",a)):(r=/^#EXT-X-CUE-IN:?(.*)?$/.exec(t))?(a={type:"tag",tagType:"cue-in"},r[1]?a.data=r[1]:a.data="",void s.trigger("data",a)):(r=/^#EXT-X-SKIP:(.*)$/.exec(t))&&r[1]?((a={type:"tag",tagType:"skip"}).attributes=u(r[1]),a.attributes.hasOwnProperty("SKIPPED-SEGMENTS")&&(a.attributes["SKIPPED-SEGMENTS"]=parseInt(a.attributes["SKIPPED-SEGMENTS"],10)),a.attributes.hasOwnProperty("RECENTLY-REMOVED-DATERANGES")&&(a.attributes["RECENTLY-REMOVED-DATERANGES"]=a.attributes["RECENTLY-REMOVED-DATERANGES"].split(c)),void s.trigger("data",a)):(r=/^#EXT-X-PART:(.*)$/.exec(t))&&r[1]?((a={type:"tag",tagType:"part"}).attributes=u(r[1]),["DURATION"].forEach(function(t){a.attributes.hasOwnProperty(t)&&(a.attributes[t]=parseFloat(a.attributes[t]))}),["INDEPENDENT","GAP"].forEach(function(t){a.attributes.hasOwnProperty(t)&&(a.attributes[t]=/YES/.test(a.attributes[t]))}),a.attributes.hasOwnProperty("BYTERANGE")&&(a.attributes.byterange=o(a.attributes.BYTERANGE)),void s.trigger("data",a)):(r=/^#EXT-X-SERVER-CONTROL:(.*)$/.exec(t))&&r[1]?((a={type:"tag",tagType:"server-control"}).attributes=u(r[1]),["CAN-SKIP-UNTIL","PART-HOLD-BACK","HOLD-BACK"].forEach(function(t){a.attributes.hasOwnProperty(t)&&(a.attributes[t]=parseFloat(a.attributes[t]))}),["CAN-SKIP-DATERANGES","CAN-BLOCK-RELOAD"].forEach(function(t){a.attributes.hasOwnProperty(t)&&(a.attributes[t]=/YES/.test(a.attributes[t]))}),void s.trigger("data",a)):(r=/^#EXT-X-PART-INF:(.*)$/.exec(t))&&r[1]?((a={type:"tag",tagType:"part-inf"}).attributes=u(r[1]),["PART-TARGET"].forEach(function(t){a.attributes.hasOwnProperty(t)&&(a.attributes[t]=parseFloat(a.attributes[t]))}),void s.trigger("data",a)):(r=/^#EXT-X-PRELOAD-HINT:(.*)$/.exec(t))&&r[1]?((a={type:"tag",tagType:"preload-hint"}).attributes=u(r[1]),["BYTERANGE-START","BYTERANGE-LENGTH"].forEach(function(t){var e;a.attributes.hasOwnProperty(t)&&(a.attributes[t]=parseInt(a.attributes[t],10),e="BYTERANGE-LENGTH"===t?"length":"offset",a.attributes.byterange=a.attributes.byterange||{},a.attributes.byterange[e]=a.attributes[t],delete a.attributes[t])}),void s.trigger("data",a)):(r=/^#EXT-X-RENDITION-REPORT:(.*)$/.exec(t))&&r[1]?((a={type:"tag",tagType:"rendition-report"}).attributes=u(r[1]),["LAST-MSN","LAST-PART"].forEach(function(t){a.attributes.hasOwnProperty(t)&&(a.attributes[t]=parseInt(a.attributes[t],10))}),void s.trigger("data",a)):void s.trigger("data",{type:"tag",data:t.slice(4)});s.trigger("data",{type:"tag",tagType:"discontinuity"})}}}else s.trigger("data",{type:"comment",text:t.slice(1)})}):this.trigger("data",{type:"uri",uri:i}))},i.addParser=function(t){var e=this,i=t.expression,n=t.customType,r=t.dataParser,a=t.segment;"function"!=typeof r&&(r=function(t){return t}),this.customParsers.push(function(t){if(i.exec(t))return e.trigger("data",{type:"custom",data:r(t),customType:n,segment:a}),!0})},i.addTagMapper=function(t){var e=t.expression,i=t.map;this.tagMappers.push(function(t){return e.test(t)?i(t):t})},t}(e.a),l=function(t){return t.toLowerCase().replace(/-(\w)/g,function(t){return t[1].toUpperCase()})},h=function(e){function t(){var t=e.call(this)||this;t.lineStream=new v,t.parseStream=new y,t.lineStream.pipe(t.parseStream);var n,r,a=s()(t),o=[],u={},c=!1,l={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},h=0;t.manifest={allowCache:!0,discontinuityStarts:[],segments:[]};var d=0,g=0;return t.on("end",function(){u.uri||!u.parts&&!u.preloadHints||(!u.map&&n&&(u.map=n),!u.key&&r&&(u.key=r),u.timeline||"number"!=typeof h||(u.timeline=h),t.manifest.preloadSegment=u)}),t.parseStream.on("data",function(s){var e,i;({tag:function(){({version:function(){s.version&&(this.manifest.version=s.version)},"allow-cache":function(){this.manifest.allowCache=s.allowed,"allowed"in s||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange:function(){var t={};"length"in s&&((u.byterange=t).length=s.length,"offset"in s||(s.offset=d)),"offset"in s&&((u.byterange=t).offset=s.offset),d=t.offset+t.length},endlist:function(){this.manifest.endList=!0},inf:function(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),0<s.duration&&(u.duration=s.duration),0===s.duration&&(u.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=o},key:function(){if(s.attributes)if("NONE"!==s.attributes.METHOD)if(s.attributes.URI){if("com.apple.streamingkeydelivery"===s.attributes.KEYFORMAT)return this.manifest.contentProtection=this.manifest.contentProtection||{},void(this.manifest.contentProtection["com.apple.fps.1_0"]={attributes:s.attributes});if("urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed"===s.attributes.KEYFORMAT)return-1===["SAMPLE-AES","SAMPLE-AES-CTR","SAMPLE-AES-CENC"].indexOf(s.attributes.METHOD)?void this.trigger("warn",{message:"invalid key method provided for Widevine"}):("SAMPLE-AES-CENC"===s.attributes.METHOD&&this.trigger("warn",{message:"SAMPLE-AES-CENC is deprecated, please use SAMPLE-AES-CTR instead"}),"data:text/plain;base64,"!==s.attributes.URI.substring(0,23)?void this.trigger("warn",{message:"invalid key URI provided for Widevine"}):s.attributes.KEYID&&"0x"===s.attributes.KEYID.substring(0,2)?(this.manifest.contentProtection=this.manifest.contentProtection||{},void(this.manifest.contentProtection["com.widevine.alpha"]={attributes:{schemeIdUri:s.attributes.KEYFORMAT,keyId:s.attributes.KEYID.substring(2)},pssh:Object(b.a)(s.attributes.URI.split(",")[1])})):void this.trigger("warn",{message:"invalid key ID provided for Widevine"}));s.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),r={method:s.attributes.METHOD||"AES-128",uri:s.attributes.URI},void 0!==s.attributes.IV&&(r.iv=s.attributes.IV)}else this.trigger("warn",{message:"ignoring key declaration without URI"});else r=null;else this.trigger("warn",{message:"ignoring key declaration without attribute list"})},"media-sequence":function(){isFinite(s.number)?this.manifest.mediaSequence=s.number:this.trigger("warn",{message:"ignoring invalid media sequence: "+s.number})},"discontinuity-sequence":function(){isFinite(s.number)?(this.manifest.discontinuitySequence=s.number,h=s.number):this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+s.number})},"playlist-type":function(){/VOD|EVENT/.test(s.playlistType)?this.manifest.playlistType=s.playlistType:this.trigger("warn",{message:"ignoring unknown playlist type: "+s.playlist})},map:function(){n={},s.uri&&(n.uri=s.uri),s.byterange&&(n.byterange=s.byterange),r&&(n.key=r)},"stream-inf":function(){this.manifest.playlists=o,this.manifest.mediaGroups=this.manifest.mediaGroups||l,s.attributes?(u.attributes||(u.attributes={}),m()(u.attributes,s.attributes)):this.trigger("warn",{message:"ignoring empty stream-inf attributes"})},media:function(){var t;this.manifest.mediaGroups=this.manifest.mediaGroups||l,s.attributes&&s.attributes.TYPE&&s.attributes["GROUP-ID"]&&s.attributes.NAME?((t=this.manifest.mediaGroups[s.attributes.TYPE])[s.attributes["GROUP-ID"]]=t[s.attributes["GROUP-ID"]]||{},e=t[s.attributes["GROUP-ID"]],(i={default:/yes/i.test(s.attributes.DEFAULT)}).default?i.autoselect=!0:i.autoselect=/yes/i.test(s.attributes.AUTOSELECT),s.attributes.LANGUAGE&&(i.language=s.attributes.LANGUAGE),s.attributes.URI&&(i.uri=s.attributes.URI),s.attributes["INSTREAM-ID"]&&(i.instreamId=s.attributes["INSTREAM-ID"]),s.attributes.CHARACTERISTICS&&(i.characteristics=s.attributes.CHARACTERISTICS),s.attributes.FORCED&&(i.forced=/yes/i.test(s.attributes.FORCED)),e[s.attributes.NAME]=i):this.trigger("warn",{message:"ignoring incomplete or missing media group"})},discontinuity:function(){h+=1,u.discontinuity=!0,this.manifest.discontinuityStarts.push(o.length)},"program-date-time":function(){void 0===this.manifest.dateTimeString&&(this.manifest.dateTimeString=s.dateTimeString,this.manifest.dateTimeObject=s.dateTimeObject),u.dateTimeString=s.dateTimeString,u.dateTimeObject=s.dateTimeObject},targetduration:function(){!isFinite(s.duration)||s.duration<0?this.trigger("warn",{message:"ignoring invalid target duration: "+s.duration}):(this.manifest.targetDuration=s.duration,f.call(this,this.manifest))},start:function(){s.attributes&&!isNaN(s.attributes["TIME-OFFSET"])?this.manifest.start={timeOffset:s.attributes["TIME-OFFSET"],precise:s.attributes.PRECISE}:this.trigger("warn",{message:"ignoring start declaration without appropriate attribute list"})},"cue-out":function(){u.cueOut=s.data},"cue-out-cont":function(){u.cueOutCont=s.data},"cue-in":function(){u.cueIn=s.data},skip:function(){this.manifest.skip=p(s.attributes),this.warnOnMissingAttributes_("#EXT-X-SKIP",s.attributes,["SKIPPED-SEGMENTS"])},part:function(){var i=this;c=!0;var t=this.manifest.segments.length,e=p(s.attributes);u.parts=u.parts||[],u.parts.push(e),e.byterange&&(e.byterange.hasOwnProperty("offset")||(e.byterange.offset=g),g=e.byterange.offset+e.byterange.length);e=u.parts.length-1;this.warnOnMissingAttributes_("#EXT-X-PART #"+e+" for segment #"+t,s.attributes,["URI","DURATION"]),this.manifest.renditionReports&&this.manifest.renditionReports.forEach(function(t,e){t.hasOwnProperty("lastPart")||i.trigger("warn",{message:"#EXT-X-RENDITION-REPORT #"+e+" lacks required attribute(s): LAST-PART"})})},"server-control":function(){var t=this.manifest.serverControl=p(s.attributes);t.hasOwnProperty("canBlockReload")||(t.canBlockReload=!1,this.trigger("info",{message:"#EXT-X-SERVER-CONTROL defaulting CAN-BLOCK-RELOAD to false"})),f.call(this,this.manifest),t.canSkipDateranges&&!t.hasOwnProperty("canSkipUntil")&&this.trigger("warn",{message:"#EXT-X-SERVER-CONTROL lacks required attribute CAN-SKIP-UNTIL which is required when CAN-SKIP-DATERANGES is set"})},"preload-hint":function(){var t=this.manifest.segments.length,e=p(s.attributes),i=e.type&&"PART"===e.type;u.preloadHints=u.preloadHints||[],u.preloadHints.push(e),e.byterange&&(e.byterange.hasOwnProperty("offset")||(e.byterange.offset=i?g:0,i&&(g=e.byterange.offset+e.byterange.length)));var n=u.preloadHints.length-1;if(this.warnOnMissingAttributes_("#EXT-X-PRELOAD-HINT #"+n+" for segment #"+t,s.attributes,["TYPE","URI"]),e.type)for(var r=0;r<u.preloadHints.length-1;r++){var a=u.preloadHints[r];a.type&&a.type===e.type&&this.trigger("warn",{message:"#EXT-X-PRELOAD-HINT #"+n+" for segment #"+t+" has the same TYPE "+e.type+" as preload hint #"+r})}},"rendition-report":function(){var t=p(s.attributes);this.manifest.renditionReports=this.manifest.renditionReports||[],this.manifest.renditionReports.push(t);var e=this.manifest.renditionReports.length-1,t=["LAST-MSN","URI"];c&&t.push("LAST-PART"),this.warnOnMissingAttributes_("#EXT-X-RENDITION-REPORT #"+e,s.attributes,t)},"part-inf":function(){this.manifest.partInf=p(s.attributes),this.warnOnMissingAttributes_("#EXT-X-PART-INF",s.attributes,["PART-TARGET"]),this.manifest.partInf.partTarget&&(this.manifest.partTargetDuration=this.manifest.partInf.partTarget),f.call(this,this.manifest)}}[s.tagType]||function(){}).call(a)},uri:function(){u.uri=s.uri,o.push(u),!this.manifest.targetDuration||"duration"in u||(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),u.duration=this.manifest.targetDuration),r&&(u.key=r),u.timeline=h,n&&(u.map=n),g=0,u={}},comment:function(){},custom:function(){s.segment?(u.custom=u.custom||{},u.custom[s.customType]=s.data):(this.manifest.custom=this.manifest.custom||{},this.manifest.custom[s.customType]=s.data)}})[s.type].call(a)}),t}a()(t,e);var i=t.prototype;return i.warnOnMissingAttributes_=function(t,e,i){var n=[];i.forEach(function(t){e.hasOwnProperty(t)||n.push(t)}),n.length&&this.trigger("warn",{message:t+" lacks required attribute(s): "+n.join(", ")})},i.push=function(t){this.lineStream.push(t)},i.end=function(){this.lineStream.push("\n"),this.trigger("end")},i.addParser=function(t){this.parseStream.addParser(t)},i.addTagMapper=function(t){this.parseStream.addTagMapper(t)},t}(e.a);function d(){var t=n.call(this)||this;return t.buffer="",t}},f97d:function(t,e){var u={"":!0,up:!0};function c(t){return"number"==typeof t&&0<=t&&t<=100}t.exports=function(){var e=100,i=3,n=0,r=100,a=0,s=100,o="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return e},set:function(t){if(!c(t))throw new Error("Width must be between 0 and 100.");e=t}},lines:{enumerable:!0,get:function(){return i},set:function(t){if("number"!=typeof t)throw new TypeError("Lines must be set to a number.");i=t}},regionAnchorY:{enumerable:!0,get:function(){return r},set:function(t){if(!c(t))throw new Error("RegionAnchorX must be between 0 and 100.");r=t}},regionAnchorX:{enumerable:!0,get:function(){return n},set:function(t){if(!c(t))throw new Error("RegionAnchorY must be between 0 and 100.");n=t}},viewportAnchorY:{enumerable:!0,get:function(){return s},set:function(t){if(!c(t))throw new Error("ViewportAnchorY must be between 0 and 100.");s=t}},viewportAnchorX:{enumerable:!0,get:function(){return a},set:function(t){if(!c(t))throw new Error("ViewportAnchorX must be between 0 and 100.");a=t}},scroll:{enumerable:!0,get:function(){return o},set:function(t){t="string"==typeof(t=t)&&(!!u[t.toLowerCase()]&&t.toLowerCase());!1!==t&&(o=t)}}})}},fda2:function(t,e,i){}}]);
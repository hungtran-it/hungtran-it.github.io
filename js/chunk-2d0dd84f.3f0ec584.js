(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-2d0dd84f"],{8276:function(t,e,n){"use strict";n.r(e),n.d(e,"Animation",function(){return tt}),n.d(e,"AnimationState",function(){return J}),n.d(e,"AnimationStateAdapter2",function(){return _t}),n.d(e,"AnimationStateData",function(){return Dt}),n.d(e,"AtlasAttachmentLoader",function(){return Ft}),n.d(e,"Attachment",function(){return m}),n.d(e,"AttachmentTimeline",function(){return st}),n.d(e,"Bone",function(){return Ot}),n.d(e,"BoneData",function(){return Lt}),n.d(e,"BoundingBoxAttachment",function(){return g}),n.d(e,"ClippingAttachment",function(){return y}),n.d(e,"ColorTimeline",function(){return it}),n.d(e,"CurveTimeline",function(){return Z}),n.d(e,"DeformTimeline",function(){return ht}),n.d(e,"DrawOrderTimeline",function(){return ut}),n.d(e,"Event",function(){return Bt}),n.d(e,"EventData",function(){return Wt}),n.d(e,"EventQueue",function(){return K}),n.d(e,"EventTimeline",function(){return lt}),n.d(e,"EventType",function(){return Y}),n.d(e,"IkConstraint",function(){return qt}),n.d(e,"IkConstraintData",function(){return jt}),n.d(e,"IkConstraintTimeline",function(){return ct}),n.d(e,"JitterEffect",function(){return w}),n.d(e,"MeshAttachment",function(){return E}),n.d(e,"PathAttachment",function(){return L}),n.d(e,"PathConstraint",function(){return Kt}),n.d(e,"PathConstraintData",function(){return Ut}),n.d(e,"PathConstraintMixTimeline",function(){return mt}),n.d(e,"PathConstraintPositionTimeline",function(){return dt}),n.d(e,"PathConstraintSpacingTimeline",function(){return pt}),n.d(e,"PointAttachment",function(){return x}),n.d(e,"RegionAttachment",function(){return v}),n.d(e,"RotateTimeline",function(){return et}),n.d(e,"ScaleTimeline",function(){return rt}),n.d(e,"ShearTimeline",function(){return at}),n.d(e,"Skeleton",function(){return ee}),n.d(e,"SkeletonBounds",function(){return ne}),n.d(e,"SkeletonData",function(){return re}),n.d(e,"SkeletonJson",function(){return se}),n.d(e,"Skin",function(){return oe}),n.d(e,"Slot",function(){return $t}),n.d(e,"SlotData",function(){return ae}),n.d(e,"SpacingMode",function(){return Xt}),n.d(e,"Spine",function(){return le}),n.d(e,"SwirlEffect",function(){return b}),n.d(e,"TimelineType",function(){return s}),n.d(e,"TrackEntry",function(){return Q}),n.d(e,"TransformConstraint",function(){return te}),n.d(e,"TransformConstraintData",function(){return ie}),n.d(e,"TransformConstraintTimeline",function(){return ft}),n.d(e,"TranslateTimeline",function(){return nt}),n.d(e,"TwoColorTimeline",function(){return ot}),n.d(e,"VertexAttachment",function(){return M});var $=n("8eee"),r=n("a47c"),a=n("0a92"),i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var s,h,l,u,c,f,d,p,m=function(t){if(null==t)throw new Error("name cannot be null.");this.name=t},M=(o(N,p=m),N.prototype.computeWorldVerticesOld=function(t,e){this.computeWorldVertices(t,0,this.worldVerticesLength,e,0,2)},N.prototype.computeWorldVertices=function(t,e,n,r,a,i){n=a+(n>>1)*i;var o=t.bone.skeleton,s=t.attachmentVertices,h=this.vertices,l=this.bones;if(null!=l){for(var u=0,c=0,f=0;f<e;f+=2){var d=l[u];u+=d+1,c+=d}var p=o.bones;if(0==s.length)for(P=a,S=3*c;P<n;P+=i){var m=0,g=0,d=l[u++];for(d+=u;u<d;u++,S+=3){var y=p[l[u]].matrix,E=h[S],x=h[S+1],v=h[S+2];m+=(E*y.a+x*y.c+y.tx)*v,g+=(E*y.b+x*y.d+y.ty)*v}r[P]=m,r[P+1]=g}else for(var w=s,b=(P=a,S=3*c,c<<1);P<n;P+=i){for(g=m=0,d=l[u++],d+=u;u<d;u++,S+=3,b+=2)y=p[l[u]].matrix,E=h[S]+w[b],x=h[S+1]+w[b+1],v=h[S+2],m+=(E*y.a+x*y.c+y.tx)*v,g+=(E*y.b+x*y.d+y.ty)*v;r[P]=m,r[P+1]=g}}else{0<s.length&&(h=s);for(var y,M=(y=t.bone.matrix).tx,T=y.ty,R=y.a,S=y.c,I=y.b,A=y.d,V=e,P=a;P<n;V+=2,P+=i){var E=h[V],x=h[V+1];r[P]=E*R+x*S+M,r[P+1]=E*I+x*A+T}}},N.prototype.applyDeform=function(t){return this==t},N.nextID=0,N),g=(o(k,d=M),k),y=(o(C,f=M),C),E=(o(P,c=M),P.prototype.applyDeform=function(t){return this==t||this.inheritDeform&&this.parentMesh==t},P.prototype.getParentMesh=function(){return this.parentMesh},P.prototype.setParentMesh=function(t){null!=(this.parentMesh=t)&&(this.bones=t.bones,this.vertices=t.vertices,this.worldVerticesLength=t.worldVerticesLength,this.regionUVs=t.regionUVs,this.triangles=t.triangles,this.hullLength=t.hullLength,this.worldVerticesLength=t.worldVerticesLength)},P),L=(o(V,u=M),V),x=(o(A,l=M),A.prototype.computeWorldPosition=function(t,e){var n=t.matrix;return e.x=this.x*n.a+this.y*n.c+t.worldX,e.y=this.x*n.b+this.y*n.d+t.worldY,e},A.prototype.computeWorldRotation=function(t){var e=t.matrix,n=$.e.cosDeg(this.rotation),r=$.e.sinDeg(this.rotation),t=n*e.a+r*e.c,e=n*e.b+r*e.d;return Math.atan2(e,t)*$.e.radDeg},A),v=(o(I,h=m),I.prototype.updateOffset=function(){var t=this.width/this.region.originalWidth*this.scaleX,e=this.height/this.region.originalHeight*this.scaleY,n=-this.width/2*this.scaleX+this.region.offsetX*t,r=-this.height/2*this.scaleY+this.region.offsetY*e,a=n+this.region.width*t,i=r+this.region.height*e,o=this.rotation*Math.PI/180,s=Math.cos(o),h=Math.sin(o),t=n*s+this.x,e=n*h,o=r*s+this.y,n=r*h,r=a*s+this.x,a=a*h,s=i*s+this.y,i=i*h,h=this.offset;h[I.OX1]=t-n,h[I.OY1]=o+e,h[I.OX2]=t-i,h[I.OY2]=s+e,h[I.OX3]=r-i,h[I.OY3]=s+a,h[I.OX4]=r-n,h[I.OY4]=o+a},I.prototype.setRegion=function(t){this.region=t;var e=this.uvs;t.rotate?(e[2]=t.u,e[3]=t.v2,e[4]=t.u,e[5]=t.v,e[6]=t.u2,e[7]=t.v,e[0]=t.u2,e[1]=t.v2):(e[0]=t.u,e[1]=t.v2,e[2]=t.u,e[3]=t.v,e[4]=t.u2,e[5]=t.v,e[6]=t.u2,e[7]=t.v2)},I.prototype.computeWorldVertices=function(t,e,n,r){var a=this.offset,i=t.matrix,o=i.tx,s=i.ty,h=i.a,l=i.c,u=i.b,c=i.d,t=a[I.OX1],i=a[I.OY1];e[n]=t*h+i*l+o,e[n+1]=t*u+i*c+s,t=a[I.OX2],i=a[I.OY2],e[n+=r]=t*h+i*l+o,e[n+1]=t*u+i*c+s,t=a[I.OX3],i=a[I.OY3],e[n+=r]=t*h+i*l+o,e[n+1]=t*u+i*c+s,t=a[I.OX4],i=a[I.OY4],e[n+=r]=t*h+i*l+o,e[n+1]=t*u+i*c+s},I.OX1=0,I.OY1=1,I.OX2=2,I.OY2=3,I.OX3=4,I.OY3=5,I.OX4=6,I.OY4=7,I.X1=0,I.Y1=1,I.C1R=2,I.C1G=3,I.C1B=4,I.C1A=5,I.U1=6,I.V1=7,I.X2=8,I.Y2=9,I.C2R=10,I.C2G=11,I.C2B=12,I.C2A=13,I.U2=14,I.V2=15,I.X3=16,I.Y3=17,I.C3R=18,I.C3G=19,I.C3B=20,I.C3A=21,I.U3=22,I.V3=23,I.X4=24,I.Y4=25,I.C4R=26,I.C4G=27,I.C4B=28,I.C4A=29,I.U4=30,I.V4=31,I),w=(S.prototype.begin=function(t){},S.prototype.transform=function(t,e,n,r){t.x+=$.e.randomTriangular(-this.jitterX,this.jitterY),t.y+=$.e.randomTriangular(-this.jitterX,this.jitterY)},S.prototype.end=function(){},S),b=(R.prototype.begin=function(t){this.worldX=t.x+this.centerX,this.worldY=t.y+this.centerY},R.prototype.transform=function(t,e,n,r){var a=this.angle*$.e.degreesToRadians,i=t.x-this.worldX,o=t.y-this.worldY,s=Math.sqrt(i*i+o*o);s<this.radius&&(a=R.interpolation.apply(0,a,(this.radius-s)/this.radius),s=Math.cos(a),a=Math.sin(a),t.x=s*i-a*o+this.worldX,t.y=a*i+s*o+this.worldY)},R.prototype.end=function(){},R.interpolation=new $.j(2),R),tt=(T.prototype.apply=function(t,e,n,r,a,i,o,s){if(null==t)throw new Error("skeleton cannot be null.");r&&0!=this.duration&&(n%=this.duration,0<e&&(e%=this.duration));for(var h=this.timelines,l=0,u=h.length;l<u;l++)h[l].apply(t,e,n,a,i,o,s)},T.binarySearch=function(t,e,n){var r=0,a=t.length/(n=void 0===n?1:n)-2;if(0==a)return n;for(var i=a>>>1;;){if(t[(i+1)*n]<=e?r=i+1:a=i,r==a)return(r+1)*n;i=r+a>>>1}},T.linearSearch=function(t,e,n){for(var r=0,a=t.length-n;r<=a;r+=n)if(t[r]>e)return r;return-1},T);function T(t,e,n){if(null==t)throw new Error("name cannot be null.");if(null==e)throw new Error("timelines cannot be null.");this.name=t,this.timelines=e,this.duration=n}function R(t){this.centerX=0,this.centerY=0,this.radius=0,this.angle=0,this.worldX=0,this.worldY=0,this.radius=t}function S(t,e){this.jitterX=0,this.jitterY=0,this.jitterX=t,this.jitterY=e}function I(t){t=h.call(this,t)||this;return t.type=$.a.Region,t.x=0,t.y=0,t.scaleX=1,t.scaleY=1,t.rotation=0,t.width=0,t.height=0,t.color=new $.c(1,1,1,1),t.offset=$.p.newFloatArray(8),t.uvs=$.p.newFloatArray(8),t.tempColor=new $.c(1,1,1,1),t}function A(t){t=l.call(this,t)||this;return t.type=$.a.Point,t.color=new $.c(.38,.94,0,1),t}function V(t){t=u.call(this,t)||this;return t.type=$.a.Path,t.closed=!1,t.constantSpeed=!1,t.color=new $.c(1,1,1,1),t}function P(t){t=c.call(this,t)||this;return t.type=$.a.Mesh,t.color=new $.c(1,1,1,1),t.inheritDeform=!1,t.tempColor=new $.c(0,0,0,0),t}function C(t){t=f.call(this,t)||this;return t.type=$.a.Clipping,t.color=new $.c(.2275,.2275,.8078,1),t}function k(t){t=d.call(this,t)||this;return t.type=$.a.BoundingBox,t.color=new $.c(1,1,1,1),t}function N(t){t=p.call(this,t)||this;return t.id=(65535&N.nextID++)<<11,t.worldVerticesLength=0,t}(n=s=s||{})[n.rotate=0]="rotate",n[n.translate=1]="translate",n[n.scale=2]="scale",n[n.shear=3]="shear",n[n.attachment=4]="attachment",n[n.color=5]="color",n[n.deform=6]="deform",n[n.event=7]="event",n[n.drawOrder=8]="drawOrder",n[n.ikConstraint=9]="ikConstraint",n[n.transformConstraint=10]="transformConstraint",n[n.pathConstraintPosition=11]="pathConstraintPosition",n[n.pathConstraintSpacing=12]="pathConstraintSpacing",n[n.pathConstraintMix=13]="pathConstraintMix",n[n.twoColor=14]="twoColor";var Y,X,_,D,F,O,B,W,q,j,U,G,H,Z=(Yt.prototype.getFrameCount=function(){return this.curves.length/Yt.BEZIER_SIZE+1},Yt.prototype.setLinear=function(t){this.curves[t*Yt.BEZIER_SIZE]=Yt.LINEAR},Yt.prototype.setStepped=function(t){this.curves[t*Yt.BEZIER_SIZE]=Yt.STEPPED},Yt.prototype.getCurveType=function(t){t*=Yt.BEZIER_SIZE;if(t==this.curves.length)return Yt.LINEAR;t=this.curves[t];return t==Yt.LINEAR?Yt.LINEAR:t==Yt.STEPPED?Yt.STEPPED:Yt.BEZIER},Yt.prototype.setCurve=function(t,e,n,r,a){var i=.03*(2*-e+r),o=.03*(2*-n+a),s=.006*(3*(e-r)+1),h=.006*(3*(n-a)+1),l=2*i+s,u=2*o+h,c=.3*e+i+.16666667*s,f=.3*n+o+.16666667*h,d=t*Yt.BEZIER_SIZE,p=this.curves;p[d++]=Yt.BEZIER;for(var m=c,g=f,y=d+Yt.BEZIER_SIZE-1;d<y;d+=2)p[d]=m,p[d+1]=g,c+=l,f+=u,l+=s,u+=h,m+=c,g+=f},Yt.prototype.getCurvePercent=function(t,e){e=$.e.clamp(e,0,1);var n=this.curves,r=t*Yt.BEZIER_SIZE,t=n[r];if(t==Yt.LINEAR)return e;if(t==Yt.STEPPED)return 0;for(var a=0,i=++r,o=r+Yt.BEZIER_SIZE-1;r<o;r+=2)if(e<=(a=n[r])){var s=void 0,h=void 0;return(h=r==i?s=0:(s=n[r-2],n[r-1]))+(n[r+1]-h)*(e-s)/(a-s)}t=n[r-1];return t+(1-t)*(e-a)/(1-a)},Yt.LINEAR=0,Yt.STEPPED=1,Yt.BEZIER=2,Yt.BEZIER_SIZE=19,Yt),et=(o(Nt,H=Z),Nt.prototype.getPropertyId=function(){return(s.rotate<<24)+this.boneIndex},Nt.prototype.setFrame=function(t,e,n){this.frames[t<<=1]=e,this.frames[t+Nt.ROTATION]=n},Nt.prototype.apply=function(t,e,n,r,a,i,o){var s=this.frames,h=t.bones[this.boneIndex];if(n<s[0])switch(i){case $.f.setup:return void(h.rotation=h.data.rotation);case $.f.first:var l=h.data.rotation-h.rotation;h.rotation+=(l-360*(16384-(16384.499999999996-l/360|0)))*a}else if(n>=s[s.length-Nt.ENTRIES]){var u=s[s.length+Nt.PREV_ROTATION];switch(i){case $.f.setup:h.rotation=h.data.rotation+u*a;break;case $.f.first:case $.f.replace:u+=h.data.rotation-h.rotation,u-=360*(16384-(16384.499999999996-u/360|0));case $.f.add:h.rotation+=u*a}}else{var c=tt.binarySearch(s,n,Nt.ENTRIES),f=s[c+Nt.PREV_ROTATION],t=s[c],t=this.getCurvePercent((c>>1)-1,1-(n-t)/(s[c+Nt.PREV_TIME]-t)),d=f+((d=s[c+Nt.ROTATION]-f)-360*(16384-(16384.499999999996-d/360|0)))*t;switch(i){case $.f.setup:h.rotation=h.data.rotation+(d-360*(16384-(16384.499999999996-d/360|0)))*a;break;case $.f.first:case $.f.replace:d+=h.data.rotation-h.rotation;case $.f.add:h.rotation+=(d-360*(16384-(16384.499999999996-d/360|0)))*a}}},Nt.ENTRIES=2,Nt.PREV_TIME=-2,Nt.PREV_ROTATION=-1,Nt.ROTATION=1,Nt),nt=(o(kt,G=Z),kt.prototype.getPropertyId=function(){return(s.translate<<24)+this.boneIndex},kt.prototype.setFrame=function(t,e,n,r){this.frames[t*=kt.ENTRIES]=e,this.frames[t+kt.X]=n,this.frames[t+kt.Y]=r},kt.prototype.apply=function(t,e,n,r,a,i,o){var s=this.frames,h=t.bones[this.boneIndex];if(n<s[0])switch(i){case $.f.setup:return h.x=h.data.x,void(h.y=h.data.y);case $.f.first:h.x+=(h.data.x-h.x)*a,h.y+=(h.data.y-h.y)*a}else{var l,u=0,c=0;switch(n>=s[s.length-kt.ENTRIES]?(u=s[s.length+kt.PREV_X],c=s[s.length+kt.PREV_Y]):(u=s[(l=tt.binarySearch(s,n,kt.ENTRIES))+kt.PREV_X],c=s[l+kt.PREV_Y],t=s[l],t=this.getCurvePercent(l/kt.ENTRIES-1,1-(n-t)/(s[l+kt.PREV_TIME]-t)),u+=(s[l+kt.X]-u)*t,c+=(s[l+kt.Y]-c)*t),i){case $.f.setup:h.x=h.data.x+u*a,h.y=h.data.y+c*a;break;case $.f.first:case $.f.replace:h.x+=(h.data.x+u-h.x)*a,h.y+=(h.data.y+c-h.y)*a;break;case $.f.add:h.x+=u*a,h.y+=c*a}}},kt.ENTRIES=3,kt.PREV_TIME=-3,kt.PREV_X=-2,kt.PREV_Y=-1,kt.X=1,kt.Y=2,kt),rt=(o(Ct,U=nt),Ct.prototype.getPropertyId=function(){return(s.scale<<24)+this.boneIndex},Ct.prototype.apply=function(t,e,n,r,a,i,o){var s=this.frames,h=t.bones[this.boneIndex];if(n<s[0])switch(i){case $.f.setup:return h.scaleX=h.data.scaleX,void(h.scaleY=h.data.scaleY);case $.f.first:h.scaleX+=(h.data.scaleX-h.scaleX)*a,h.scaleY+=(h.data.scaleY-h.scaleY)*a}else{var l,u=0,c=0;if(c=n>=s[s.length-Ct.ENTRIES]?(u=s[s.length+Ct.PREV_X]*h.data.scaleX,s[s.length+Ct.PREV_Y]*h.data.scaleY):(u=s[(l=tt.binarySearch(s,n,Ct.ENTRIES))+Ct.PREV_X],c=s[l+Ct.PREV_Y],t=s[l],t=this.getCurvePercent(l/Ct.ENTRIES-1,1-(n-t)/(s[l+Ct.PREV_TIME]-t)),u=(u+(s[l+Ct.X]-u)*t)*h.data.scaleX,(c+(s[l+Ct.Y]-c)*t)*h.data.scaleY),1==a)i==$.f.add?(h.scaleX+=u-h.data.scaleX,h.scaleY+=c-h.data.scaleY):(h.scaleX=u,h.scaleY=c);else{var f=0,d=0;if(o==$.g.mixOut)switch(i){case $.f.setup:f=h.data.scaleX,d=h.data.scaleY,h.scaleX=f+(Math.abs(u)*$.e.signum(f)-f)*a,h.scaleY=d+(Math.abs(c)*$.e.signum(d)-d)*a;break;case $.f.first:case $.f.replace:f=h.scaleX,d=h.scaleY,h.scaleX=f+(Math.abs(u)*$.e.signum(f)-f)*a,h.scaleY=d+(Math.abs(c)*$.e.signum(d)-d)*a;break;case $.f.add:f=h.scaleX,d=h.scaleY,h.scaleX=f+(Math.abs(u)*$.e.signum(f)-h.data.scaleX)*a,h.scaleY=d+(Math.abs(c)*$.e.signum(d)-h.data.scaleY)*a}else switch(i){case $.f.setup:f=Math.abs(h.data.scaleX)*$.e.signum(u),d=Math.abs(h.data.scaleY)*$.e.signum(c),h.scaleX=f+(u-f)*a,h.scaleY=d+(c-d)*a;break;case $.f.first:case $.f.replace:f=Math.abs(h.scaleX)*$.e.signum(u),d=Math.abs(h.scaleY)*$.e.signum(c),h.scaleX=f+(u-f)*a,h.scaleY=d+(c-d)*a;break;case $.f.add:f=$.e.signum(u),d=$.e.signum(c),h.scaleX=Math.abs(h.scaleX)*f+(u-Math.abs(h.data.scaleX)*f)*a,h.scaleY=Math.abs(h.scaleY)*d+(c-Math.abs(h.data.scaleY)*d)*a}}}},Ct),at=(o(Pt,j=nt),Pt.prototype.getPropertyId=function(){return(s.shear<<24)+this.boneIndex},Pt.prototype.apply=function(t,e,n,r,a,i,o){var s=this.frames,h=t.bones[this.boneIndex];if(n<s[0])switch(i){case $.f.setup:return h.shearX=h.data.shearX,void(h.shearY=h.data.shearY);case $.f.first:h.shearX+=(h.data.shearX-h.shearX)*a,h.shearY+=(h.data.shearY-h.shearY)*a}else{var l,u=0,c=0;switch(n>=s[s.length-Pt.ENTRIES]?(u=s[s.length+Pt.PREV_X],c=s[s.length+Pt.PREV_Y]):(u=s[(l=tt.binarySearch(s,n,Pt.ENTRIES))+Pt.PREV_X],c=s[l+Pt.PREV_Y],t=s[l],t=this.getCurvePercent(l/Pt.ENTRIES-1,1-(n-t)/(s[l+Pt.PREV_TIME]-t)),u+=(s[l+Pt.X]-u)*t,c+=(s[l+Pt.Y]-c)*t),i){case $.f.setup:h.shearX=h.data.shearX+u*a,h.shearY=h.data.shearY+c*a;break;case $.f.first:case $.f.replace:h.shearX+=(h.data.shearX+u-h.shearX)*a,h.shearY+=(h.data.shearY+c-h.shearY)*a;break;case $.f.add:h.shearX+=u*a,h.shearY+=c*a}}},Pt),it=(o(Vt,q=Z),Vt.prototype.getPropertyId=function(){return(s.color<<24)+this.slotIndex},Vt.prototype.setFrame=function(t,e,n,r,a,i){this.frames[t*=Vt.ENTRIES]=e,this.frames[t+Vt.R]=n,this.frames[t+Vt.G]=r,this.frames[t+Vt.B]=a,this.frames[t+Vt.A]=i},Vt.prototype.apply=function(t,e,n,r,a,i,o){var s=t.slots[this.slotIndex],h=this.frames;if(n<h[0])switch(i){case $.f.setup:return void s.color.setFromColor(s.data.color);case $.f.first:var l=s.color,u=s.data.color;l.add((u.r-l.r)*a,(u.g-l.g)*a,(u.b-l.b)*a,(u.a-l.a)*a)}else{var c,f=0,d=0,p=0,m=0;n>=h[h.length-Vt.ENTRIES]?(f=h[(c=h.length)+Vt.PREV_R],d=h[c+Vt.PREV_G],p=h[c+Vt.PREV_B],m=h[c+Vt.PREV_A]):(f=h[(t=tt.binarySearch(h,n,Vt.ENTRIES))+Vt.PREV_R],d=h[t+Vt.PREV_G],p=h[t+Vt.PREV_B],m=h[t+Vt.PREV_A],c=h[t],c=this.getCurvePercent(t/Vt.ENTRIES-1,1-(n-c)/(h[t+Vt.PREV_TIME]-c)),f+=(h[t+Vt.R]-f)*c,d+=(h[t+Vt.G]-d)*c,p+=(h[t+Vt.B]-p)*c,m+=(h[t+Vt.A]-m)*c),1==a?s.color.set(f,d,p,m):(l=s.color,i==$.f.setup&&l.setFromColor(s.data.color),l.add((f-l.r)*a,(d-l.g)*a,(p-l.b)*a,(m-l.a)*a))}},Vt.ENTRIES=5,Vt.PREV_TIME=-5,Vt.PREV_R=-4,Vt.PREV_G=-3,Vt.PREV_B=-2,Vt.PREV_A=-1,Vt.R=1,Vt.G=2,Vt.B=3,Vt.A=4,Vt),ot=(o(At,W=Z),At.prototype.getPropertyId=function(){return(s.twoColor<<24)+this.slotIndex},At.prototype.setFrame=function(t,e,n,r,a,i,o,s,h){this.frames[t*=At.ENTRIES]=e,this.frames[t+At.R]=n,this.frames[t+At.G]=r,this.frames[t+At.B]=a,this.frames[t+At.A]=i,this.frames[t+At.R2]=o,this.frames[t+At.G2]=s,this.frames[t+At.B2]=h},At.prototype.apply=function(t,e,n,r,a,i,o){var s=t.slots[this.slotIndex],h=this.frames;if(n<h[0])switch(i){case $.f.setup:return s.color.setFromColor(s.data.color),void s.darkColor.setFromColor(s.data.darkColor);case $.f.first:var l=s.color,u=s.darkColor,c=s.data.color,f=s.data.darkColor;l.add((c.r-l.r)*a,(c.g-l.g)*a,(c.b-l.b)*a,(c.a-l.a)*a),u.add((f.r-u.r)*a,(f.g-u.g)*a,(f.b-u.b)*a,0)}else{var d,p=0,m=0,g=0,y=0,E=0,x=0,v=0;n>=h[h.length-At.ENTRIES]?(p=h[(d=h.length)+At.PREV_R],m=h[d+At.PREV_G],g=h[d+At.PREV_B],y=h[d+At.PREV_A],E=h[d+At.PREV_R2],x=h[d+At.PREV_G2],v=h[d+At.PREV_B2]):(p=h[(t=tt.binarySearch(h,n,At.ENTRIES))+At.PREV_R],m=h[t+At.PREV_G],g=h[t+At.PREV_B],y=h[t+At.PREV_A],E=h[t+At.PREV_R2],x=h[t+At.PREV_G2],v=h[t+At.PREV_B2],d=h[t],d=this.getCurvePercent(t/At.ENTRIES-1,1-(n-d)/(h[t+At.PREV_TIME]-d)),p+=(h[t+At.R]-p)*d,m+=(h[t+At.G]-m)*d,g+=(h[t+At.B]-g)*d,y+=(h[t+At.A]-y)*d,E+=(h[t+At.R2]-E)*d,x+=(h[t+At.G2]-x)*d,v+=(h[t+At.B2]-v)*d),1==a?(s.color.set(p,m,g,y),s.darkColor.set(E,x,v,1)):(l=s.color,u=s.darkColor,i==$.f.setup&&(l.setFromColor(s.data.color),u.setFromColor(s.data.darkColor)),l.add((p-l.r)*a,(m-l.g)*a,(g-l.b)*a,(y-l.a)*a),u.add((E-u.r)*a,(x-u.g)*a,(v-u.b)*a,0))}},At.ENTRIES=8,At.PREV_TIME=-8,At.PREV_R=-7,At.PREV_G=-6,At.PREV_B=-5,At.PREV_A=-4,At.PREV_R2=-3,At.PREV_G2=-2,At.PREV_B2=-1,At.R=1,At.G=2,At.B=3,At.A=4,At.R2=5,At.G2=6,At.B2=7,At),st=(It.prototype.getPropertyId=function(){return(s.attachment<<24)+this.slotIndex},It.prototype.getFrameCount=function(){return this.frames.length},It.prototype.setFrame=function(t,e,n){this.frames[t]=e,this.attachmentNames[t]=n},It.prototype.apply=function(t,e,n,r,a,i,o){var s,h=t.slots[this.slotIndex];o!=$.g.mixOut||i!=$.f.setup?n<(o=this.frames)[0]?i!=$.f.setup&&i!=$.f.first||(i=h.data.attachmentName,h.setAttachment(null==i?null:t.getAttachment(this.slotIndex,i))):(s=0,s=n>=o[o.length-1]?o.length-1:tt.binarySearch(o,n,1)-1,s=this.attachmentNames[s],t.slots[this.slotIndex].setAttachment(null==s?null:t.getAttachment(this.slotIndex,s))):(s=h.data.attachmentName,h.setAttachment(null==s?null:t.getAttachment(this.slotIndex,s)))},It),z=null,ht=(o(St,B=Z),St.prototype.getPropertyId=function(){return(s.deform<<27)+ +this.attachment.id+this.slotIndex},St.prototype.setFrame=function(t,e,n){this.frames[t]=e,this.frameVertices[t]=n},St.prototype.apply=function(t,e,n,r,a,i,o){var s=t.slots[this.slotIndex],h=s.getAttachment();if(h instanceof M&&h.applyDeform(this.attachment)){var l=s.attachmentVertices;0==l.length&&(i=$.f.setup);var u=this.frameVertices,c=u[0].length,t=this.frames;if(n<t[0]){var f=h;switch(i){case $.f.setup:return void(l.length=0);case $.f.first:if(1==a){l.length=0;break}var d=$.p.setArraySize(l,c);if(null==f.bones)for(var p=f.vertices,m=0;m<c;m++)d[m]+=(p[m]-d[m])*a;else for(a=1-a,m=0;m<c;m++)d[m]*=a}}else{var g=$.p.setArraySize(l,c);if(n>=t[t.length-1]){var y=u[t.length-1];if(1==a)if(i==$.f.add)if(null==(f=h).bones)for(p=f.vertices,m=0;m<c;m++)g[m]+=y[m]-p[m];else for(m=0;m<c;m++)g[m]+=y[m];else $.p.arrayCopy(y,0,g,0,c);else switch(i){case $.f.setup:if(null==h.bones)for(p=h.vertices,m=0;m<c;m++){var E=p[m];g[m]=E+(y[m]-E)*a}else for(m=0;m<c;m++)g[m]=y[m]*a;break;case $.f.first:case $.f.replace:for(m=0;m<c;m++)g[m]+=(y[m]-g[m])*a;case $.f.add:if(null==(f=h).bones)for(p=f.vertices,m=0;m<c;m++)g[m]+=(y[m]-p[m])*a;else for(m=0;m<c;m++)g[m]+=y[m]*a}}else{var s=tt.binarySearch(t,n),x=u[s-1],v=u[s],u=t[s],w=this.getCurvePercent(s-1,1-(n-u)/(t[s-1]-u));if(1==a)if(i==$.f.add)if(null==(f=h).bones)for(p=f.vertices,m=0;m<c;m++){var b=x[m];g[m]+=b+(v[m]-b)*w-p[m]}else for(m=0;m<c;m++)b=x[m],g[m]+=b+(v[m]-b)*w;else for(m=0;m<c;m++)b=x[m],g[m]=b+(v[m]-b)*w;else switch(i){case $.f.setup:if(null==h.bones)for(p=h.vertices,m=0;m<c;m++)b=x[m],E=p[m],g[m]=E+(b+(v[m]-b)*w-E)*a;else for(m=0;m<c;m++)b=x[m],g[m]=(b+(v[m]-b)*w)*a;break;case $.f.first:case $.f.replace:for(m=0;m<c;m++)b=x[m],g[m]+=(b+(v[m]-b)*w-g[m])*a;break;case $.f.add:if(null==(f=h).bones)for(p=f.vertices,m=0;m<c;m++)b=x[m],g[m]+=(b+(v[m]-b)*w-p[m])*a;else for(m=0;m<c;m++)b=x[m],g[m]+=(b+(v[m]-b)*w)*a}}}}},St),lt=(Rt.prototype.getPropertyId=function(){return s.event<<24},Rt.prototype.getFrameCount=function(){return this.frames.length},Rt.prototype.setFrame=function(t,e){this.frames[t]=e.time,this.events[t]=e},Rt.prototype.apply=function(t,e,n,r,a,i,o){if(null!=r){var s=this.frames,h=this.frames.length;if(n<e)this.apply(t,e,Number.MAX_VALUE,r,a,i,o),e=-1;else if(e>=s[h-1])return;if(!(n<s[0])){var l=0;if(e<s[0])l=0;else for(var u=s[l=tt.binarySearch(s,e)];0<l&&s[l-1]==u;)l--;for(;l<h&&n>=s[l];l++)r.push(this.events[l])}}},Rt),ut=(Tt.prototype.getPropertyId=function(){return s.drawOrder<<24},Tt.prototype.getFrameCount=function(){return this.frames.length},Tt.prototype.setFrame=function(t,e,n){this.frames[t]=e,this.drawOrders[t]=n},Tt.prototype.apply=function(t,e,n,r,a,i,o){var s=t.drawOrder,h=t.slots;if(o!=$.g.mixOut||i!=$.f.setup){o=this.frames;if(n<o[0])i!=$.f.setup&&i!=$.f.first||$.p.arrayCopy(t.slots,0,t.drawOrder,0,t.slots.length);else{var n=n>=o[o.length-1]?o.length-1:tt.binarySearch(o,n)-1,l=this.drawOrders[n];if(null==l)$.p.arrayCopy(h,0,s,0,h.length);else for(var u=0,c=l.length;u<c;u++)s[u]=h[l[u]]}}else $.p.arrayCopy(t.slots,0,t.drawOrder,0,t.slots.length)},Tt),ct=(o(Mt,O=Z),Mt.prototype.getPropertyId=function(){return(s.ikConstraint<<24)+this.ikConstraintIndex},Mt.prototype.setFrame=function(t,e,n,r,a,i){this.frames[t*=Mt.ENTRIES]=e,this.frames[t+Mt.MIX]=n,this.frames[t+Mt.BEND_DIRECTION]=r,this.frames[t+Mt.COMPRESS]=a?1:0,this.frames[t+Mt.STRETCH]=i?1:0},Mt.prototype.apply=function(t,e,n,r,a,i,o){var s,h,l=this.frames,u=t.ikConstraints[this.ikConstraintIndex];if(n<l[0])switch(i){case $.f.setup:return u.mix=u.data.mix,u.bendDirection=u.data.bendDirection,u.compress=u.data.compress,void(u.stretch=u.data.stretch);case $.f.first:u.mix+=(u.data.mix-u.mix)*a,u.bendDirection=u.data.bendDirection,u.compress=u.data.compress,u.stretch=u.data.stretch}else n>=l[l.length-Mt.ENTRIES]?i==$.f.setup?(u.mix=u.data.mix+(l[l.length+Mt.PREV_MIX]-u.data.mix)*a,o==$.g.mixOut?(u.bendDirection=u.data.bendDirection,u.compress=u.data.compress,u.stretch=u.data.stretch):(u.bendDirection=l[l.length+Mt.PREV_BEND_DIRECTION],u.compress=0!=l[l.length+Mt.PREV_COMPRESS],u.stretch=0!=l[l.length+Mt.PREV_STRETCH])):(u.mix+=(l[l.length+Mt.PREV_MIX]-u.mix)*a,o==$.g.mixIn&&(u.bendDirection=l[l.length+Mt.PREV_BEND_DIRECTION],u.compress=0!=l[l.length+Mt.PREV_COMPRESS],u.stretch=0!=l[l.length+Mt.PREV_STRETCH])):(h=l[(s=tt.binarySearch(l,n,Mt.ENTRIES))+Mt.PREV_MIX],t=l[s],t=this.getCurvePercent(s/Mt.ENTRIES-1,1-(n-t)/(l[s+Mt.PREV_TIME]-t)),i==$.f.setup?(u.mix=u.data.mix+(h+(l[s+Mt.MIX]-h)*t-u.data.mix)*a,o==$.g.mixOut?(u.bendDirection=u.data.bendDirection,u.compress=u.data.compress,u.stretch=u.data.stretch):(u.bendDirection=l[s+Mt.PREV_BEND_DIRECTION],u.compress=0!=l[s+Mt.PREV_COMPRESS],u.stretch=0!=l[s+Mt.PREV_STRETCH])):(u.mix+=(h+(l[s+Mt.MIX]-h)*t-u.mix)*a,o==$.g.mixIn&&(u.bendDirection=l[s+Mt.PREV_BEND_DIRECTION],u.compress=0!=l[s+Mt.PREV_COMPRESS],u.stretch=0!=l[s+Mt.PREV_STRETCH])))},Mt.ENTRIES=5,Mt.PREV_TIME=-5,Mt.PREV_MIX=-4,Mt.PREV_BEND_DIRECTION=-3,Mt.PREV_COMPRESS=-2,Mt.PREV_STRETCH=-1,Mt.MIX=1,Mt.BEND_DIRECTION=2,Mt.COMPRESS=3,Mt.STRETCH=4,Mt),ft=(o(bt,F=Z),bt.prototype.getPropertyId=function(){return(s.transformConstraint<<24)+this.transformConstraintIndex},bt.prototype.setFrame=function(t,e,n,r,a,i){this.frames[t*=bt.ENTRIES]=e,this.frames[t+bt.ROTATE]=n,this.frames[t+bt.TRANSLATE]=r,this.frames[t+bt.SCALE]=a,this.frames[t+bt.SHEAR]=i},bt.prototype.apply=function(t,e,n,r,a,i,o){var s=this.frames,h=t.transformConstraints[this.transformConstraintIndex];if(n<s[0]){var l=h.data;switch(i){case $.f.setup:return h.rotateMix=l.rotateMix,h.translateMix=l.translateMix,h.scaleMix=l.scaleMix,void(h.shearMix=l.shearMix);case $.f.first:h.rotateMix+=(l.rotateMix-h.rotateMix)*a,h.translateMix+=(l.translateMix-h.translateMix)*a,h.scaleMix+=(l.scaleMix-h.scaleMix)*a,h.shearMix+=(l.shearMix-h.shearMix)*a}}else{var u,c=0,f=0,d=0,p=0;n>=s[s.length-bt.ENTRIES]?(c=s[(u=s.length)+bt.PREV_ROTATE],f=s[u+bt.PREV_TRANSLATE],d=s[u+bt.PREV_SCALE],p=s[u+bt.PREV_SHEAR]):(c=s[(t=tt.binarySearch(s,n,bt.ENTRIES))+bt.PREV_ROTATE],f=s[t+bt.PREV_TRANSLATE],d=s[t+bt.PREV_SCALE],p=s[t+bt.PREV_SHEAR],u=s[t],u=this.getCurvePercent(t/bt.ENTRIES-1,1-(n-u)/(s[t+bt.PREV_TIME]-u)),c+=(s[t+bt.ROTATE]-c)*u,f+=(s[t+bt.TRANSLATE]-f)*u,d+=(s[t+bt.SCALE]-d)*u,p+=(s[t+bt.SHEAR]-p)*u),i==$.f.setup?(l=h.data,h.rotateMix=l.rotateMix+(c-l.rotateMix)*a,h.translateMix=l.translateMix+(f-l.translateMix)*a,h.scaleMix=l.scaleMix+(d-l.scaleMix)*a,h.shearMix=l.shearMix+(p-l.shearMix)*a):(h.rotateMix+=(c-h.rotateMix)*a,h.translateMix+=(f-h.translateMix)*a,h.scaleMix+=(d-h.scaleMix)*a,h.shearMix+=(p-h.shearMix)*a)}},bt.ENTRIES=5,bt.PREV_TIME=-5,bt.PREV_ROTATE=-4,bt.PREV_TRANSLATE=-3,bt.PREV_SCALE=-2,bt.PREV_SHEAR=-1,bt.ROTATE=1,bt.TRANSLATE=2,bt.SCALE=3,bt.SHEAR=4,bt),dt=(o(wt,D=Z),wt.prototype.getPropertyId=function(){return(s.pathConstraintPosition<<24)+this.pathConstraintIndex},wt.prototype.setFrame=function(t,e,n){this.frames[t*=wt.ENTRIES]=e,this.frames[t+wt.VALUE]=n},wt.prototype.apply=function(t,e,n,r,a,i,o){var s=this.frames,h=t.pathConstraints[this.pathConstraintIndex];if(n<s[0])switch(i){case $.f.setup:return void(h.position=h.data.position);case $.f.first:h.position+=(h.data.position-h.position)*a}else{var l,u=0;n>=s[s.length-wt.ENTRIES]?u=s[s.length+wt.PREV_VALUE]:(u=s[(l=tt.binarySearch(s,n,wt.ENTRIES))+wt.PREV_VALUE],t=s[l],t=this.getCurvePercent(l/wt.ENTRIES-1,1-(n-t)/(s[l+wt.PREV_TIME]-t)),u+=(s[l+wt.VALUE]-u)*t),i==$.f.setup?h.position=h.data.position+(u-h.data.position)*a:h.position+=(u-h.position)*a}},wt.ENTRIES=2,wt.PREV_TIME=-2,wt.PREV_VALUE=-1,wt.VALUE=1,wt),pt=(o(vt,_=dt),vt.prototype.getPropertyId=function(){return(s.pathConstraintSpacing<<24)+this.pathConstraintIndex},vt.prototype.apply=function(t,e,n,r,a,i,o){var s=this.frames,h=t.pathConstraints[this.pathConstraintIndex];if(n<s[0])switch(i){case $.f.setup:return void(h.spacing=h.data.spacing);case $.f.first:h.spacing+=(h.data.spacing-h.spacing)*a}else{var l,u=0;n>=s[s.length-vt.ENTRIES]?u=s[s.length+vt.PREV_VALUE]:(u=s[(l=tt.binarySearch(s,n,vt.ENTRIES))+vt.PREV_VALUE],t=s[l],t=this.getCurvePercent(l/vt.ENTRIES-1,1-(n-t)/(s[l+vt.PREV_TIME]-t)),u+=(s[l+vt.VALUE]-u)*t),i==$.f.setup?h.spacing=h.data.spacing+(u-h.data.spacing)*a:h.spacing+=(u-h.spacing)*a}},vt),mt=(o(xt,X=Z),xt.prototype.getPropertyId=function(){return(s.pathConstraintMix<<24)+this.pathConstraintIndex},xt.prototype.setFrame=function(t,e,n,r){this.frames[t*=xt.ENTRIES]=e,this.frames[t+xt.ROTATE]=n,this.frames[t+xt.TRANSLATE]=r},xt.prototype.apply=function(t,e,n,r,a,i,o){var s=this.frames,h=t.pathConstraints[this.pathConstraintIndex];if(n<s[0])switch(i){case $.f.setup:return h.rotateMix=h.data.rotateMix,void(h.translateMix=h.data.translateMix);case $.f.first:h.rotateMix+=(h.data.rotateMix-h.rotateMix)*a,h.translateMix+=(h.data.translateMix-h.translateMix)*a}else{var l,u=0,c=0;n>=s[s.length-xt.ENTRIES]?(u=s[s.length+xt.PREV_ROTATE],c=s[s.length+xt.PREV_TRANSLATE]):(u=s[(l=tt.binarySearch(s,n,xt.ENTRIES))+xt.PREV_ROTATE],c=s[l+xt.PREV_TRANSLATE],t=s[l],t=this.getCurvePercent(l/xt.ENTRIES-1,1-(n-t)/(s[l+xt.PREV_TIME]-t)),u+=(s[l+xt.ROTATE]-u)*t,c+=(s[l+xt.TRANSLATE]-c)*t),i==$.f.setup?(h.rotateMix=h.data.rotateMix+(u-h.data.rotateMix)*a,h.translateMix=h.data.translateMix+(c-h.data.translateMix)*a):(h.rotateMix+=(u-h.rotateMix)*a,h.translateMix+=(c-h.translateMix)*a)}},xt.ENTRIES=3,xt.PREV_TIME=-3,xt.PREV_ROTATE=-2,xt.PREV_TRANSLATE=-1,xt.ROTATE=1,xt.TRANSLATE=2,xt),J=(Et.prototype.update=function(t){t*=this.timeScale;for(var e=this.tracks,n=0,r=e.length;n<r;n++){var a=e[n];if(null!=a){a.animationLast=a.nextAnimationLast,a.trackLast=a.nextTrackLast;var i=t*a.timeScale;if(0<a.delay){if(a.delay-=i,0<a.delay)continue;i=-a.delay,a.delay=0}var o=a.next;if(null!=o){var s=a.trackLast-o.delay;if(0<=s){for(o.delay=0,o.trackTime=0==a.timeScale?0:(s/a.timeScale+t)*o.timeScale,a.trackTime+=i,this.setCurrent(n,o,!0);null!=o.mixingFrom;)o.mixTime+=t,o=o.mixingFrom;continue}}else if(a.trackLast>=a.trackEnd&&null==a.mixingFrom){e[n]=null,this.queue.end(a),this.disposeNext(a);continue}if(null!=a.mixingFrom&&this.updateMixingFrom(a,t)){var h=a.mixingFrom;for((a.mixingFrom=null)!=h&&(h.mixingTo=null);null!=h;)this.queue.end(h),h=h.mixingFrom}a.trackTime+=i}}this.queue.drain()},Et.prototype.updateMixingFrom=function(t,e){var n=t.mixingFrom;if(null==n)return!0;var r=this.updateMixingFrom(n,e);return n.animationLast=n.nextAnimationLast,n.trackLast=n.nextTrackLast,0<t.mixTime&&t.mixTime>=t.mixDuration?(0!=n.totalAlpha&&0!=t.mixDuration||(t.mixingFrom=n.mixingFrom,null!=n.mixingFrom&&(n.mixingFrom.mixingTo=t),t.interruptAlpha=n.interruptAlpha,this.queue.end(n)),r):(n.trackTime+=e*n.timeScale,t.mixTime+=e,!1)},Et.prototype.apply=function(t){if(null==t)throw new Error("skeleton cannot be null.");this.animationsChanged&&this._animationsChanged();for(var e=this.events,n=this.tracks,r=!1,a=0,i=n.length;a<i;a++){var o=n[a];if(!(null==o||0<o.delay)){var r=!0,s=0==a?$.f.first:o.mixBlend,h=o.alpha;null!=o.mixingFrom?h*=this.applyMixingFrom(o,t,s):o.trackTime>=o.trackEnd&&null==o.next&&(h=0);var l=o.animationLast,u=o.getAnimationTime(),c=o.animation.timelines.length,f=o.animation.timelines;if(0==a&&1==h||s==$.f.add)for(var d=0;d<c;d++)$.p.webkit602BugfixHelper(h,s),f[d].apply(t,l,u,e,h,s,$.g.mixIn);else{var p=o.timelineMode,m=0==o.timelinesRotation.length;m&&$.p.setArraySize(o.timelinesRotation,c<<1,null);for(var g=o.timelinesRotation,d=0;d<c;d++){var y=f[d],E=p[d]==Et.SUBSEQUENT?s:$.f.setup;y instanceof et?this.applyRotateTimeline(y,t,u,h,E,g,d<<1,m):($.p.webkit602BugfixHelper(h,s),y.apply(t,l,u,e,h,E,$.g.mixIn))}}this.queueEvents(o,u),e.length=0,o.nextAnimationLast=u,o.nextTrackLast=o.trackTime}}return this.queue.drain(),r},Et.prototype.applyMixingFrom=function(t,e,n){var r=t.mixingFrom;null!=r.mixingFrom&&this.applyMixingFrom(r,e,n);var a=0;0==t.mixDuration?(a=1,n==$.f.first&&(n=$.f.setup)):(1<(a=t.mixTime/t.mixDuration)&&(a=1),n!=$.f.first&&(n=r.mixBlend));var i=a<r.eventThreshold?this.events:null,o=a<r.attachmentThreshold,s=a<r.drawOrderThreshold,h=r.animationLast,l=r.getAnimationTime(),u=r.animation.timelines.length,c=r.animation.timelines,f=r.alpha*t.interruptAlpha,d=f*(1-a);if(n==$.f.add)for(var p=0;p<u;p++)c[p].apply(e,h,l,i,d,n,$.g.mixOut);else{var m=r.timelineMode,g=r.timelineHoldMix,y=0==r.timelinesRotation.length;y&&$.p.setArraySize(r.timelinesRotation,u<<1,null);for(var E=r.timelinesRotation,p=r.totalAlpha=0;p<u;p++){var x=c[p],v=$.g.mixOut,w=void 0,b=0;switch(m[p]){case Et.SUBSEQUENT:if(!o&&x instanceof st)continue;if(!s&&x instanceof ut)continue;w=n,b=d;break;case Et.FIRST:w=$.f.setup,b=d;break;case Et.HOLD:w=$.f.setup,b=f;break;default:var w=$.f.setup,M=g[p],b=f*Math.max(0,1-M.mixTime/M.mixDuration)}r.totalAlpha+=b,x instanceof et?this.applyRotateTimeline(x,e,l,b,w,E,p<<1,y):($.p.webkit602BugfixHelper(b,n),w==$.f.setup&&(x instanceof st?o&&(v=$.g.mixOut):x instanceof ut&&s&&(v=$.g.mixOut)),x.apply(e,h,l,i,b,w,v))}}return 0<t.mixDuration&&this.queueEvents(r,l),this.events.length=0,r.nextAnimationLast=l,r.nextTrackLast=r.trackTime,a},Et.prototype.applyRotateTimeline=function(t,e,n,r,a,i,o,s){if(s&&(i[o]=0),1!=r){var h=t,l=h.frames,u=e.bones[h.boneIndex],c=0,f=0;if(n<l[0])switch(a){case $.f.setup:u.rotation=u.data.rotation;default:return;case $.f.first:c=u.rotation,f=u.data.rotation}else c=(a==$.f.setup?u.data:u).rotation,n>=l[l.length-et.ENTRIES]?f=u.data.rotation+l[l.length+et.PREV_ROTATION]:(p=l[(d=tt.binarySearch(l,n,et.ENTRIES))+et.PREV_ROTATION],g=l[d],m=h.getCurvePercent((d>>1)-1,1-(n-g)/(l[d+et.PREV_TIME]-g)),f=l[d+et.ROTATION]-p,f=p+(f-=360*(16384-(16384.499999999996-f/360|0)))*m+u.data.rotation,f-=360*(16384-(16384.499999999996-f/360|0)));var d,p,m,g=0,l=f-c;0==(l-=360*(16384-(16384.499999999996-l/360|0)))?g=i[o]:(p=d=0,p=s?(d=0,l):(d=i[o],i[o+1]),m=0<l,s=0<=d,$.e.signum(p)!=$.e.signum(l)&&Math.abs(p)<=90&&(180<Math.abs(d)&&(d+=360*$.e.signum(d)),s=m),g=l+d-d%360,s!=m&&(g+=360*$.e.signum(d)),i[o]=g),i[o+1]=l,u.rotation=(c+=g*r)-360*(16384-(16384.499999999996-c/360|0))}else t.apply(e,0,n,null,1,a,$.g.mixIn)},Et.prototype.queueEvents=function(t,e){for(var n=t.animationStart,r=t.animationEnd,a=r-n,i=t.trackLast%a,o=this.events,s=0,h=o.length;s<h;s++){var l=o[s];if(l.time<i)break;l.time>r||this.queue.event(t,l)}for((t.loop?0==a||i>t.trackTime%a:r<=e&&t.animationLast<r)&&this.queue.complete(t);s<h;s++)o[s].time<n||this.queue.event(t,o[s])},Et.prototype.clearTracks=function(){var t=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var e=0,n=this.tracks.length;e<n;e++)this.clearTrack(e);this.tracks.length=0,this.queue.drainDisabled=t,this.queue.drain()},Et.prototype.clearTrack=function(t){if(!(t>=this.tracks.length)){t=this.tracks[t];if(null!=t){this.queue.end(t),this.disposeNext(t);for(var e=t;;){var n=e.mixingFrom;if(null==n)break;this.queue.end(n),e.mixingFrom=null,e.mixingTo=null,e=n}this.tracks[t.trackIndex]=null,this.queue.drain()}}},Et.prototype.setCurrent=function(t,e,n){var r=this.expandToIndex(t);this.tracks[t]=e,null!=r&&(n&&this.queue.interrupt(r),((e.mixingFrom=r).mixingTo=e).mixTime=0,null!=r.mixingFrom&&0<r.mixDuration&&(e.interruptAlpha*=Math.min(1,r.mixTime/r.mixDuration)),r.timelinesRotation.length=0),this.queue.start(e)},Et.prototype.setAnimation=function(t,e,n){var r=this.data.skeletonData.findAnimation(e);if(null==r)throw new Error("Animation not found: "+e);return this.setAnimationWith(t,r,n)},Et.prototype.setAnimationWith=function(t,e,n){if(null==e)throw new Error("animation cannot be null.");var r=!0,a=this.expandToIndex(t);null!=a&&(-1==a.nextTrackLast?(this.tracks[t]=a.mixingFrom,this.queue.interrupt(a),this.queue.end(a),this.disposeNext(a),a=a.mixingFrom,r=!1):this.disposeNext(a));a=this.trackEntry(t,e,n,a);return this.setCurrent(t,a,r),this.queue.drain(),a},Et.prototype.addAnimation=function(t,e,n,r){var a=this.data.skeletonData.findAnimation(e);if(null==a)throw new Error("Animation not found: "+e);return this.addAnimationWith(t,a,n,r)},Et.prototype.addAnimationWith=function(t,e,n,r){if(null==e)throw new Error("animation cannot be null.");var a=this.expandToIndex(t);if(null!=a)for(;null!=a.next;)a=a.next;n=this.trackEntry(t,e,n,a);return null==a?(this.setCurrent(t,n,!0),this.queue.drain()):(a.next=n,r<=0&&(0!=(t=a.animationEnd-a.animationStart)?(a.loop?r+=t*(1+(a.trackTime/t|0)):r+=Math.max(t,a.trackTime),r-=this.data.getMix(a.animation,e)):r=a.trackTime)),n.delay=r,n},Et.prototype.setEmptyAnimation=function(t,e){t=this.setAnimationWith(t,Et.emptyAnimation,!1);return t.mixDuration=e,t.trackEnd=e,t},Et.prototype.addEmptyAnimation=function(t,e,n){n<=0&&(n-=e);n=this.addAnimationWith(t,Et.emptyAnimation,!1,n);return n.mixDuration=e,n.trackEnd=e,n},Et.prototype.setEmptyAnimations=function(t){var e=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var n=0,r=this.tracks.length;n<r;n++){var a=this.tracks[n];null!=a&&this.setEmptyAnimation(a.trackIndex,t)}this.queue.drainDisabled=e,this.queue.drain()},Et.prototype.expandToIndex=function(t){return t<this.tracks.length?this.tracks[t]:($.p.ensureArrayCapacity(this.tracks,t-this.tracks.length+1,null),this.tracks.length=t+1,null)},Et.prototype.trackEntry=function(t,e,n,r){var a=this.trackEntryPool.obtain();return a.trackIndex=t,a.animation=e,a.loop=n,a.holdPrevious=!1,a.eventThreshold=0,a.attachmentThreshold=0,a.drawOrderThreshold=0,a.animationStart=0,a.animationEnd=e.duration,a.animationLast=-1,a.nextAnimationLast=-1,a.delay=0,a.trackTime=0,a.trackLast=-1,a.nextTrackLast=-1,a.trackEnd=Number.MAX_VALUE,a.timeScale=1,a.alpha=1,a.interruptAlpha=1,a.mixTime=0,a.mixDuration=null==r?0:this.data.getMix(r.animation,e),a},Et.prototype.disposeNext=function(t){for(var e=t.next;null!=e;)this.queue.dispose(e),e=e.next;t.next=null},Et.prototype._animationsChanged=function(){this.animationsChanged=!1,this.propertyIDs.clear();for(var t=0,e=this.tracks.length;t<e;t++){var n=this.tracks[t];if(null!=n){for(;null!=n.mixingFrom;)n=n.mixingFrom;for(;null!=n.mixingFrom&&n.mixBlend==$.f.add||this.setTimelineModes(n),null!=(n=n.mixingTo););}}},Et.prototype.setTimelineModes=function(t){var e=t.mixingTo,n=t.animation.timelines,r=t.animation.timelines.length,a=$.p.setArraySize(t.timelineMode,r);t.timelineHoldMix.length=0;var i=$.p.setArraySize(t.timelineHoldMix,r),o=this.propertyIDs;if(null!=e&&e.holdPrevious)for(var s=0;s<r;s++)o.add(n[s].getPropertyId()),a[s]=Et.HOLD;else t:for(s=0;s<r;s++){var h=n[s].getPropertyId();if(o.add(h))if(null!=e&&this.hasTimeline(e,h)){for(var l=e.mixingTo;null!=l;l=l.mixingTo)if(!this.hasTimeline(l,h)){if(0<t.mixDuration){a[s]=Et.HOLD_MIX,i[s]=l;continue t}break}a[s]=Et.HOLD}else a[s]=Et.FIRST;else a[s]=Et.SUBSEQUENT}},Et.prototype.hasTimeline=function(t,e){for(var n=t.animation.timelines,r=0,a=n.length;r<a;r++)if(n[r].getPropertyId()==e)return!0;return!1},Et.prototype.getCurrent=function(t){return t>=this.tracks.length?null:this.tracks[t]},Et.prototype.addListener=function(t){if(null==t)throw new Error("listener cannot be null.");this.listeners.push(t)},Et.prototype.removeListener=function(t){t=this.listeners.indexOf(t);0<=t&&this.listeners.splice(t,1)},Et.prototype.clearListeners=function(){this.listeners.length=0},Et.prototype.clearListenerNotifications=function(){this.queue.clear()},Et.prototype.setAnimationByName=function(t,e,n){Et.deprecatedWarning1||(Et.deprecatedWarning1=!0),this.setAnimation(t,e,n)},Et.prototype.addAnimationByName=function(t,e,n,r){Et.deprecatedWarning2||(Et.deprecatedWarning2=!0),this.addAnimation(t,e,n,r)},Et.prototype.hasAnimation=function(t){return null!==this.data.skeletonData.findAnimation(t)},Et.prototype.hasAnimationByName=function(t){return Et.deprecatedWarning3||(Et.deprecatedWarning3=!0),this.hasAnimation(t)},Et.emptyAnimation=new tt("<empty>",[],0),Et.SUBSEQUENT=0,Et.FIRST=1,Et.HOLD=2,Et.HOLD_MIX=3,Et.deprecatedWarning1=!1,Et.deprecatedWarning2=!1,Et.deprecatedWarning3=!1,Et),Q=(yt.prototype.reset=function(){this.next=null,this.mixingFrom=null,this.mixingTo=null,this.animation=null,this.listener=null,this.timelineMode.length=0,this.timelineHoldMix.length=0,this.timelinesRotation.length=0},yt.prototype.getAnimationTime=function(){if(this.loop){var t=this.animationEnd-this.animationStart;return 0==t?this.animationStart:this.trackTime%t+this.animationStart}return Math.min(this.trackTime+this.animationStart,this.animationEnd)},yt.prototype.setAnimationLast=function(t){this.animationLast=t,this.nextAnimationLast=t},yt.prototype.isComplete=function(){return this.trackTime>=this.animationEnd-this.animationStart},yt.prototype.resetRotationDirections=function(){this.timelinesRotation.length=0},Object.defineProperty(yt.prototype,"time",{get:function(){return yt.deprecatedWarning1||(yt.deprecatedWarning1=!0),this.trackTime},set:function(t){yt.deprecatedWarning1||(yt.deprecatedWarning1=!0),this.trackTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(yt.prototype,"endTime",{get:function(){return yt.deprecatedWarning2||(yt.deprecatedWarning2=!0),this.trackTime},set:function(t){yt.deprecatedWarning2||(yt.deprecatedWarning2=!0),this.trackTime=t},enumerable:!1,configurable:!0}),yt.prototype.loopsCount=function(){return Math.floor(this.trackTime/this.trackEnd)},yt.deprecatedWarning1=!1,yt.deprecatedWarning2=!1,yt),K=(gt.prototype.start=function(t){this.objects.push(Y.start),this.objects.push(t),this.animState.animationsChanged=!0},gt.prototype.interrupt=function(t){this.objects.push(Y.interrupt),this.objects.push(t)},gt.prototype.end=function(t){this.objects.push(Y.end),this.objects.push(t),this.animState.animationsChanged=!0},gt.prototype.dispose=function(t){this.objects.push(Y.dispose),this.objects.push(t)},gt.prototype.complete=function(t){this.objects.push(Y.complete),this.objects.push(t)},gt.prototype.event=function(t,e){this.objects.push(Y.event),this.objects.push(t),this.objects.push(e)},gt.prototype.deprecateStuff=function(){return gt.deprecatedWarning1||(gt.deprecatedWarning1=!0),!0},gt.prototype.drain=function(){if(!this.drainDisabled){this.drainDisabled=!0;for(var t=this.objects,e=this.animState.listeners,n=0;n<t.length;n+=2){var r=t[n],a=t[n+1];switch(r){case Y.start:null!=a.listener&&a.listener.start&&a.listener.start(a);for(var i=0;i<e.length;i++)e[i].start&&e[i].start(a);a.onStart&&this.deprecateStuff()&&a.onStart(a.trackIndex),this.animState.onStart&&this.deprecateStuff()&&this.deprecateStuff&&this.animState.onStart(a.trackIndex);break;case Y.interrupt:for(null!=a.listener&&a.listener.interrupt&&a.listener.interrupt(a),i=0;i<e.length;i++)e[i].interrupt&&e[i].interrupt(a);break;case Y.end:for(null!=a.listener&&a.listener.end&&a.listener.end(a),i=0;i<e.length;i++)e[i].end&&e[i].end(a);a.onEnd&&this.deprecateStuff()&&a.onEnd(a.trackIndex),this.animState.onEnd&&this.deprecateStuff()&&this.animState.onEnd(a.trackIndex);case Y.dispose:for(null!=a.listener&&a.listener.dispose&&a.listener.dispose(a),i=0;i<e.length;i++)e[i].dispose&&e[i].dispose(a);this.animState.trackEntryPool.free(a);break;case Y.complete:for(null!=a.listener&&a.listener.complete&&a.listener.complete(a),i=0;i<e.length;i++)e[i].complete&&e[i].complete(a);var o=$.e.toInt(a.loopsCount());a.onComplete&&this.deprecateStuff()&&a.onComplete(a.trackIndex,o),this.animState.onComplete&&this.deprecateStuff()&&this.animState.onComplete(a.trackIndex,o);break;case Y.event:var s=t[2+n++];for(null!=a.listener&&a.listener.event&&a.listener.event(a,s),i=0;i<e.length;i++)e[i].event&&e[i].event(a,s);a.onEvent&&this.deprecateStuff()&&a.onEvent(a.trackIndex,s),this.animState.onEvent&&this.deprecateStuff()&&this.animState.onEvent(a.trackIndex,s)}}this.clear(),this.drainDisabled=!1}},gt.prototype.clear=function(){this.objects.length=0},gt.deprecatedWarning1=!1,gt);function gt(t){this.objects=[],this.drainDisabled=!1,this.animState=t}function yt(){this.mixBlend=$.f.replace,this.timelineMode=new Array,this.timelineHoldMix=new Array,this.timelinesRotation=new Array}function Et(t){this.tracks=new Array,this.events=new Array,this.listeners=new Array,this.queue=new K(this),this.propertyIDs=new $.d,this.animationsChanged=!1,this.timeScale=1,this.trackEntryPool=new $.h(function(){return new Q}),this.data=t}function xt(t){var e=X.call(this,t)||this;return e.frames=$.p.newFloatArray(t*xt.ENTRIES),e}function vt(t){return _.call(this,t)||this}function wt(t){var e=D.call(this,t)||this;return e.frames=$.p.newFloatArray(t*wt.ENTRIES),e}function bt(t){var e=F.call(this,t)||this;return e.frames=$.p.newFloatArray(t*bt.ENTRIES),e}function Mt(t){var e=O.call(this,t)||this;return e.frames=$.p.newFloatArray(t*Mt.ENTRIES),e}function Tt(t){this.frames=$.p.newFloatArray(t),this.drawOrders=new Array(t)}function Rt(t){this.frames=$.p.newFloatArray(t),this.events=new Array(t)}function St(t){var e=B.call(this,t)||this;return e.frames=$.p.newFloatArray(t),e.frameVertices=new Array(t),null==z&&(z=$.p.newFloatArray(64)),e}function It(t){this.frames=$.p.newFloatArray(t),this.attachmentNames=new Array(t)}function At(t){var e=W.call(this,t)||this;return e.frames=$.p.newFloatArray(t*At.ENTRIES),e}function Vt(t){var e=q.call(this,t)||this;return e.frames=$.p.newFloatArray(t*Vt.ENTRIES),e}function Pt(t){return j.call(this,t)||this}function Ct(t){return U.call(this,t)||this}function kt(t){var e=G.call(this,t)||this;return e.frames=$.p.newFloatArray(t*kt.ENTRIES),e}function Nt(t){var e=H.call(this,t)||this;return e.frames=$.p.newFloatArray(t<<1),e}function Yt(t){if(t<=0)throw new Error("frameCount must be > 0: "+t);this.curves=$.p.newFloatArray((t-1)*Yt.BEZIER_SIZE)}(n=Y=Y||{})[n.start=0]="start",n[n.interrupt=1]="interrupt",n[n.end=2]="end",n[n.dispose=3]="dispose",n[n.complete=4]="complete",n[n.event=5]="event";var Xt,_t=(Jt.prototype.start=function(t){},Jt.prototype.interrupt=function(t){},Jt.prototype.end=function(t){},Jt.prototype.dispose=function(t){},Jt.prototype.complete=function(t){},Jt.prototype.event=function(t,e){},Jt),Dt=(zt.prototype.setMix=function(t,e,n){var r=this.skeletonData.findAnimation(t);if(null==r)throw new Error("Animation not found: "+t);t=this.skeletonData.findAnimation(e);if(null==t)throw new Error("Animation not found: "+e);this.setMixWith(r,t,n)},zt.prototype.setMixByName=function(t,e,n){zt.deprecatedWarning1||(zt.deprecatedWarning1=!0),this.setMix(t,e,n)},zt.prototype.setMixWith=function(t,e,n){if(null==t)throw new Error("from cannot be null.");if(null==e)throw new Error("to cannot be null.");e=t.name+"."+e.name;this.animationToMixTime[e]=n},zt.prototype.getMix=function(t,e){e=t.name+"."+e.name,e=this.animationToMixTime[e];return void 0===e?this.defaultMix:e},zt.deprecatedWarning1=!1,zt),Ft=(Zt.prototype.newRegionAttachment=function(t,e,n){var r=this.atlas.findRegion(n);if(null==r)throw new Error("Region not found in atlas: "+n+" (region attachment: "+e+")");e=new v(e);return e.region=r,e},Zt.prototype.newMeshAttachment=function(t,e,n){var r=this.atlas.findRegion(n);if(null==r)throw new Error("Region not found in atlas: "+n+" (mesh attachment: "+e+")");e=new E(e);return e.region=r,e},Zt.prototype.newBoundingBoxAttachment=function(t,e){return new g(e)},Zt.prototype.newPathAttachment=function(t,e){return new L(e)},Zt.prototype.newPointAttachment=function(t,e){return new x(e)},Zt.prototype.newClippingAttachment=function(t,e){return new y(e)},Zt),Ot=(Object.defineProperty(Ht.prototype,"worldX",{get:function(){return this.matrix.tx},enumerable:!1,configurable:!0}),Object.defineProperty(Ht.prototype,"worldY",{get:function(){return this.matrix.ty},enumerable:!1,configurable:!0}),Ht.prototype.update=function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},Ht.prototype.updateWorldTransform=function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},Ht.prototype.updateWorldTransformWith=function(t,e,n,r,a,i,o){this.ax=t,this.ay=e,this.arotation=n,this.ascaleX=r,this.ascaleY=a,this.ashearX=i,this.ashearY=o,this.appliedValid=!0;var s=this.parent,h=this.matrix,l=this.skeleton.scaleX,u=$.r.yDown?-this.skeleton.scaleY:this.skeleton.scaleY;if(null==s){var c=this.skeleton,f=n+90+o;return h.a=$.e.cosDeg(n+i)*r*l,h.c=$.e.cosDeg(f)*a*l,h.b=$.e.sinDeg(n+i)*r*u,h.d=$.e.sinDeg(f)*a*u,h.tx=t*l+c.x,void(h.ty=e*u+c.y)}var d=s.matrix.a,p=s.matrix.c,m=s.matrix.b,g=s.matrix.d;switch(h.tx=d*t+p*e+s.matrix.tx,h.ty=m*t+g*e+s.matrix.ty,this.data.transformMode){case $.o.Normal:var f=n+90+o,y=$.e.cosDeg(n+i)*r,E=$.e.cosDeg(f)*a,x=$.e.sinDeg(n+i)*r,v=$.e.sinDeg(f)*a;return h.a=d*y+p*x,h.c=d*E+p*v,h.b=m*y+g*x,void(h.d=m*E+g*v);case $.o.OnlyTranslation:f=n+90+o,h.a=$.e.cosDeg(n+i)*r,h.c=$.e.cosDeg(f)*a,h.b=$.e.sinDeg(n+i)*r,h.d=$.e.sinDeg(f)*a;break;case $.o.NoRotationOrReflection:var w=d*d+m*m,b=0,M=n+i-(b=1e-4<w?(p=m*(w=Math.abs(d*g-p*m)/w),g=d*w,Math.atan2(m,d)*$.e.radDeg):(m=d=0,90-Math.atan2(g,p)*$.e.radDeg)),T=n+o-b+90,y=$.e.cosDeg(M)*r,E=$.e.cosDeg(T)*a,x=$.e.sinDeg(M)*r,v=$.e.sinDeg(T)*a;h.a=d*y-p*x,h.c=d*E-p*v,h.b=m*y+g*x,h.d=m*E+g*v;break;case $.o.NoScale:case $.o.NoScaleOrReflection:var R=$.e.cosDeg(n),b=$.e.sinDeg(n),M=(d*R+p*b)/l,T=(m*R+g*b)/u;M*=w=1e-5<(w=Math.sqrt(M*M+T*T))?1/w:w,T*=w,w=Math.sqrt(M*M+T*T),this.data.transformMode==$.o.NoScale&&d*g-p*m<0!=($.r.yDown?this.skeleton.scaleX<0!=0<this.skeleton.scaleY:this.skeleton.scaleX<0!=this.skeleton.scaleY<0)&&(w=-w);R=Math.PI/2+Math.atan2(T,M),b=Math.cos(R)*w,w=Math.sin(R)*w;y=$.e.cosDeg(i)*r,E=$.e.cosDeg(90+o)*a,x=$.e.sinDeg(i)*r,v=$.e.sinDeg(90+o)*a,h.a=M*y+b*x,h.c=M*E+b*v,h.b=T*y+w*x,h.d=T*E+w*v}h.a*=l,h.c*=l,h.b*=u,h.d*=u},Ht.prototype.setToSetupPose=function(){var t=this.data;this.x=t.x,this.y=t.y,this.rotation=t.rotation,this.scaleX=t.scaleX,this.scaleY=t.scaleY,this.shearX=t.shearX,this.shearY=t.shearY},Ht.prototype.getWorldRotationX=function(){return Math.atan2(this.matrix.b,this.matrix.a)*$.e.radDeg},Ht.prototype.getWorldRotationY=function(){return Math.atan2(this.matrix.d,this.matrix.c)*$.e.radDeg},Ht.prototype.getWorldScaleX=function(){var t=this.matrix;return Math.sqrt(t.a*t.a+t.c*t.c)},Ht.prototype.getWorldScaleY=function(){var t=this.matrix;return Math.sqrt(t.b*t.b+t.d*t.d)},Ht.prototype.updateAppliedTransform=function(){this.appliedValid=!0;var t=this.parent,e=this.matrix;if(null==t)return this.ax=e.tx,this.ay=e.ty,this.arotation=Math.atan2(e.b,e.a)*$.e.radDeg,this.ascaleX=Math.sqrt(e.a*e.a+e.b*e.b),this.ascaleY=Math.sqrt(e.c*e.c+e.d*e.d),this.ashearX=0,void(this.ashearY=Math.atan2(e.a*e.c+e.b*e.d,e.a*e.d-e.b*e.c)*$.e.radDeg);var n=t.matrix,r=1/(n.a*n.d-n.b*n.c),a=e.tx-n.tx,i=e.ty-n.ty;this.ax=a*n.d*r-i*n.c*r,this.ay=i*n.a*r-a*n.b*r;t=r*n.d,i=r*n.a,a=r*n.c,r*=n.b,n=t*e.a-a*e.b,t=t*e.c-a*e.d,a=i*e.b-r*e.a,r=i*e.d-r*e.c;this.ashearX=0,this.ascaleX=Math.sqrt(n*n+a*a),1e-4<this.ascaleX?(this.ascaleY=(e=n*r-t*a)/this.ascaleX,this.ashearY=Math.atan2(n*t+a*r,e)*$.e.radDeg,this.arotation=Math.atan2(a,n)*$.e.radDeg):(this.ascaleX=0,this.ascaleY=Math.sqrt(t*t+r*r),this.ashearY=0,this.arotation=90-Math.atan2(r,t)*$.e.radDeg)},Ht.prototype.worldToLocal=function(t){var e=this.matrix,n=e.a,r=e.c,a=e.b,i=e.d,o=1/(n*i-r*a),s=t.x-e.tx,e=t.y-e.ty;return t.x=s*i*o-e*r*o,t.y=e*n*o-s*a*o,t},Ht.prototype.localToWorld=function(t){var e=this.matrix,n=t.x,r=t.y;return t.x=n*e.a+r*e.c+e.tx,t.y=n*e.b+r*e.d+e.ty,t},Ht.prototype.worldToLocalRotation=function(t){var e=$.e.sinDeg(t),n=$.e.cosDeg(t),t=this.matrix;return Math.atan2(t.a*e-t.b*n,t.d*n-t.c*e)*$.e.radDeg},Ht.prototype.localToWorldRotation=function(t){var e=$.e.sinDeg(t),n=$.e.cosDeg(t),t=this.matrix;return Math.atan2(n*t.b+e*t.d,n*t.a+e*t.c)*$.e.radDeg},Ht.prototype.rotateWorld=function(t){var e=this.matrix,n=e.a,r=e.c,a=e.b,i=e.d,o=$.e.cosDeg(t),t=$.e.sinDeg(t);e.a=o*n-t*a,e.c=o*r-t*i,e.b=t*n+o*a,e.d=t*r+o*i,this.appliedValid=!1},Ht),Lt=function(t,e,n){if(this.x=0,this.y=0,this.rotation=0,this.scaleX=1,this.scaleY=1,this.shearX=0,this.shearY=0,this.transformMode=$.o.Normal,t<0)throw new Error("index must be >= 0.");if(null==e)throw new Error("name cannot be null.");this.index=t,this.name=e,this.parent=n},Bt=function(t,e){if(null==e)throw new Error("data cannot be null.");this.time=t,this.data=e},Wt=function(t){this.name=t},qt=(Gt.prototype.getOrder=function(){return this.data.order},Gt.prototype.apply=function(){this.update()},Gt.prototype.update=function(){var t=this.target,e=this.bones;switch(e.length){case 1:this.apply1(e[0],t.worldX,t.worldY,this.compress,this.stretch,this.data.uniform,this.mix);break;case 2:this.apply2(e[0],e[1],t.worldX,t.worldY,this.bendDirection,this.stretch,this.mix)}},Gt.prototype.apply1=function(t,e,n,r,a,i,o){t.appliedValid||t.updateAppliedTransform();var s=t.parent.matrix,h=1/(s.a*s.d-s.b*s.c),l=e-s.tx,u=n-s.ty,e=(l*s.d-u*s.c)*h-t.ax,n=(u*s.a-l*s.b)*h-t.ay,u=Math.atan2(n,e)*$.e.radDeg-t.ashearX-t.arotation;t.ascaleX<0&&(u+=180),180<u?u-=360:u<-180&&(u+=360);l=t.ascaleX,s=t.ascaleY;(r||a)&&(h=t.data.length*l,n=Math.sqrt(e*e+n*n),(r&&n<h||a&&h<n&&1e-4<h)&&(l*=h=(n/h-1)*o+1,i&&(s*=h))),t.updateWorldTransformWith(t.ax,t.ay,t.arotation+u*o,l,s,t.ashearX,t.ashearY)},Gt.prototype.apply2=function(t,e,n,r,a,i,o){if(0!=o){t.appliedValid||t.updateAppliedTransform(),e.appliedValid||e.updateAppliedTransform();var s=t.ax,h=t.ay,l=t.ascaleX,u=l,c=t.ascaleY,f=e.ascaleX,d=t.matrix,p=0,m=0,g=0,g=l<0?(l=-l,p=180,-1):(p=0,1);c<0&&(c=-c,g=-g);var m=f<0?(f=-f,180):0,y=e.ax,E=0,x=0,v=0,w=d.a,b=d.c,M=d.b,T=d.d,R=Math.abs(l-c)<=1e-4,v=R?(x=w*y+b*(E=e.ay)+d.tx,M*y+T*E+d.ty):(E=0,x=w*y+d.tx,M*y+d.ty),S=t.parent.matrix;w=S.a,b=S.c,M=S.b;var d=1/(w*(T=S.d)-b*M),I=n-S.tx,A=r-S.ty,V=(I*T-A*b)*d-s,P=(A*w-I*M)*d-h,C=V*V+P*P,S=((I=x-S.tx)*T-(A=v-S.ty)*b)*d-s,d=(A*w-I*M)*d-h,k=Math.sqrt(S*S+d*d),N=e.data.length*f,Y=0,X=0;t:if(R){var _=(C-k*k-(N*=l)*N)/(2*k*N);_<-1?_=-1:1<_&&(_=1,i&&1e-4<k+N&&(u*=(Math.sqrt(C)/(k+N)-1)*o+1)),X=Math.acos(_)*a,w=k+N*_,b=N*Math.sin(X),Y=Math.atan2(P*w-V*b,V*w+P*b)}else{var D=(w=l*N)*w,F=(b=c*N)*b,O=Math.atan2(P,V),L=-2*F*k,B=F-D;if(0<=(T=L*L-4*B*(M=F*k*k+D*C-D*F))){var W=Math.sqrt(T),q=(W=-(L+(W=L<0?-W:W))/2)/B,j=M/W,U=Math.abs(q)<Math.abs(j)?q:j;if(U*U<=C){A=Math.sqrt(C-U*U)*a,Y=O-Math.atan2(A,U),X=Math.atan2(A/c,(U-k)/l);break t}}var G=$.e.PI,_=k-w,L=_*_,B=0,W=0,q=k+w,j=q*q,U=0;-1<=(M=-w*k/(D-F))&&M<=1&&(M=Math.acos(M),(T=(I=w*Math.cos(M)+k)*I+(A=b*Math.sin(M))*A)<L&&(G=M,L=T,_=I,B=A),j<T&&(W=M,j=T,q=I,U=A)),X=C<=(L+j)/2?(Y=O-Math.atan2(B*a,_),G*a):(Y=O-Math.atan2(U*a,q),W*a)}d=Math.atan2(E,y)*g,f=t.arotation;180<(Y=(Y-d)*$.e.radDeg+p-f)?Y-=360:Y<-180&&(Y+=360),t.updateWorldTransformWith(s,h,f+Y*o,u,t.ascaleY,0,0),f=e.arotation,180<(X=((X+d)*$.e.radDeg-e.ashearX)*g+m-f)?X-=360:X<-180&&(X+=360),e.updateWorldTransformWith(y,E,f+X*o,e.ascaleX,e.ascaleY,e.ashearX,e.ashearY)}else e.updateWorldTransform()},Gt),jt=function(t){this.order=0,this.bones=new Array,this.bendDirection=1,this.compress=!1,this.stretch=!1,this.uniform=!1,this.mix=1,this.name=t},Ut=function(t){this.order=0,this.bones=new Array,this.name=t};function Gt(t,e){if(this.bendDirection=0,this.compress=!1,this.stretch=!1,this.mix=1,null==t)throw new Error("data cannot be null.");if(null==e)throw new Error("skeleton cannot be null.");this.data=t,this.mix=t.mix,this.bendDirection=t.bendDirection,this.compress=t.compress,this.stretch=t.stretch,this.bones=new Array;for(var n=0;n<t.bones.length;n++)this.bones.push(e.findBone(t.bones[n].name));this.target=e.findBone(t.target.name)}function Ht(t,e,n){if(this.matrix=new r.d,this.children=new Array,this.x=0,this.y=0,this.rotation=0,this.scaleX=0,this.scaleY=0,this.shearX=0,this.shearY=0,this.ax=0,this.ay=0,this.arotation=0,this.ascaleX=0,this.ascaleY=0,this.ashearX=0,this.ashearY=0,this.appliedValid=!1,this.sorted=!1,null==t)throw new Error("data cannot be null.");if(null==e)throw new Error("skeleton cannot be null.");this.data=t,this.skeleton=e,this.parent=n,this.setToSetupPose()}function Zt(t){this.atlas=t}function zt(t){if(this.animationToMixTime={},this.defaultMix=0,null==t)throw new Error("skeletonData cannot be null.");this.skeletonData=t}function Jt(){}(n=Xt=Xt||{})[n.Length=0]="Length",n[n.Fixed=1]="Fixed",n[n.Percent=2]="Percent";var Qt,Kt=(Ee.prototype.apply=function(){this.update()},Ee.prototype.update=function(){var t=this.target.getAttachment();if(t instanceof L){var e=this.rotateMix,n=this.translateMix,r=0<e;if(0<n||r){var a=this.data,i=a.spacingMode,o=i==Xt.Length,s=a.rotateMode,h=s==$.k.Tangent,l=s==$.k.ChainScale,u=this.bones.length,c=h?u:u+1,f=this.bones,d=$.p.setArraySize(this.spaces,c),p=null,m=this.spacing;if(l||o){l&&(p=$.p.setArraySize(this.lengths,u));for(var g=0,y=c-1;g<y;){var E,x=f[g],v=x.data.length;v<Ee.epsilon?(l&&(p[g]=0),d[++g]=0):(A=v*x.matrix.a,V=v*x.matrix.b,E=Math.sqrt(A*A+V*V),l&&(p[g]=E),d[++g]=(o?v+m:m)*E/v)}}else for(g=1;g<c;g++)d[g]=m;var w,b=this.computeWorldPositions(t,c,h,a.positionMode==$.i.Percent,i==Xt.Percent),M=b[0],T=b[1],R=a.offsetRotation,S=!1;for(0==R?S=s==$.k.Chain:(S=!1,R*=0<(w=this.target.bone.matrix).a*w.d-w.b*w.c?$.e.degRad:-$.e.degRad),g=0,w=3;g<u;g++,w+=3){var I=(x=f[g]).matrix;I.tx+=(M-I.tx)*n,I.ty+=(T-I.ty)*n;var A,V,P=(A=b[w])-M,C=(V=b[w+1])-T;!l||0!=(D=p[g])&&(F=(Math.sqrt(P*P+C*C)/D-1)*e+1,I.a*=F,I.b*=F);var k,N,Y,X,_,D,F,O,M=A,T=V;r&&(k=I.a,N=I.c,Y=I.b,X=I.d,D=_=O=0,O=h?b[w-1]:0==d[g+1]?b[w+2]:Math.atan2(C,P),O-=Math.atan2(Y,k),S?(_=Math.cos(O),D=Math.sin(O),M+=((F=x.data.length)*(_*k-D*Y)-P)*e,T+=(F*(D*k+_*Y)-C)*e):O+=R,O>$.e.PI?O-=$.e.PI2:O<-$.e.PI&&(O+=$.e.PI2),O*=e,_=Math.cos(O),D=Math.sin(O),I.a=_*k-D*Y,I.c=_*N-D*X,I.b=D*k+_*Y,I.d=D*N+_*X),x.appliedValid=!1}}}},Ee.prototype.computeWorldPositions=function(t,e,n,r,a){var i=this.target,o=this.position,s=this.spaces,h=$.p.setArraySize(this.positions,3*e+2),l=null,u=t.closed,c=t.worldVerticesLength,f=c/6,d=Ee.NONE;if(!t.constantSpeed){var p=t.lengths,m=p[f-=u?1:2];if(r&&(o*=m),a)for(var g=0;g<e;g++)s[g]*=m;for(var l=$.p.setArraySize(this.world,8),g=0,y=0,E=0;g<e;g++,y+=3){var x=s[g],v=o+=x;if(u)(v%=m)<0&&(v+=m),E=0;else{if(v<0){d!=Ee.BEFORE&&(d=Ee.BEFORE,t.computeWorldVertices(i,2,4,l,0,2)),this.addBeforePosition(v,l,0,h,y);continue}if(m<v){d!=Ee.AFTER&&(d=Ee.AFTER,t.computeWorldVertices(i,c-6,4,l,0,2)),this.addAfterPosition(v-m,l,0,h,y);continue}}for(;;E++){var w,b=p[E];if(!(b<v)){0==E?v/=b:v=(v-(w=p[E-1]))/(b-w);break}}E!=d&&(d=E,u&&E==f?(t.computeWorldVertices(i,c-4,4,l,0,2),t.computeWorldVertices(i,0,4,l,4,2)):t.computeWorldVertices(i,6*E+2,8,l,0,2)),this.addCurvePosition(v,l[0],l[1],l[2],l[3],l[4],l[5],l[6],l[7],h,y,n||0<g&&0==x)}return h}u?(l=$.p.setArraySize(this.world,c+=2),t.computeWorldVertices(i,2,c-4,l,0,2),t.computeWorldVertices(i,0,2,l,c-4,2),l[c-2]=l[0],l[c-1]=l[1]):(f--,l=$.p.setArraySize(this.world,c-=4),t.computeWorldVertices(i,2,c,l,0,2));for(var M=$.p.setArraySize(this.curves,f),T=0,R=l[0],S=l[1],I=0,A=0,V=0,P=0,C=0,k=0,N=0,Y=0,X=0,_=0,D=0,F=0,O=0,L=0,B=(g=0,2);g<f;g++,B+=6)I=l[B],A=l[B+1],V=l[B+2],P=l[B+3],D=2*(N=.1875*(R-2*I+V))+(X=.09375*(3*(I-V)-R+(C=l[B+4]))),F=2*(Y=.1875*(S-2*A+P))+(_=.09375*(3*(A-P)-S+(k=l[B+5]))),O=.75*(I-R)+N+.16666667*X,L=.75*(A-S)+Y+.16666667*_,T+=Math.sqrt(O*O+L*L),O+=D,L+=F,D+=X,F+=_,T+=Math.sqrt(O*O+L*L),O+=D,L+=F,T+=Math.sqrt(O*O+L*L),O+=D+X,L+=F+_,T+=Math.sqrt(O*O+L*L),M[g]=T,R=C,S=k;if(r&&(o*=T),a)for(g=0;g<e;g++)s[g]*=T;for(var W=this.segments,q=0,j=E=y=g=0;g<e;g++,y+=3){if(v=o+=x=s[g],u)(v%=T)<0&&(v+=T),E=0;else{if(v<0){this.addBeforePosition(v,l,0,h,y);continue}if(T<v){this.addAfterPosition(v-T,l,c-4,h,y);continue}}for(;;E++){var U=M[E];if(!(U<v)){0==E?v/=U:v=(v-(w=M[E-1]))/(U-w);break}}if(E!=d){var d=E,G=6*E,R=l[G],S=l[G+1],I=l[G+2],A=l[G+3],V=l[G+4],P=l[G+5],D=2*(N=.03*(R-2*I+V))+(X=.006*(3*(I-V)-R+(C=l[G+6]))),F=2*(Y=.03*(S-2*A+P))+(_=.006*(3*(A-P)-S+(k=l[G+7]))),O=.3*(I-R)+N+.16666667*X,L=.3*(A-S)+Y+.16666667*_,q=Math.sqrt(O*O+L*L);for(W[0]=q,G=1;G<8;G++)O+=D,L+=F,D+=X,F+=_,q+=Math.sqrt(O*O+L*L),W[G]=q;O+=D,L+=F,q+=Math.sqrt(O*O+L*L),W[8]=q,O+=D+X,L+=F+_,q+=Math.sqrt(O*O+L*L),W[9]=q,j=0}for(v*=q;;j++){var H=W[j];if(!(H<v)){0==j?v/=H:v=j+(v-(w=W[j-1]))/(H-w);break}}this.addCurvePosition(.1*v,R,S,I,A,V,P,C,k,h,y,n||0<g&&0==x)}return h},Ee.prototype.addBeforePosition=function(t,e,n,r,a){var i=e[n],o=e[n+1],s=e[n+2]-i,n=e[n+3]-o,s=Math.atan2(n,s);r[a]=i+t*Math.cos(s),r[a+1]=o+t*Math.sin(s),r[a+2]=s},Ee.prototype.addAfterPosition=function(t,e,n,r,a){var i=e[n+2],o=e[n+3],s=i-e[n],n=o-e[n+1],s=Math.atan2(n,s);r[a]=i+t*Math.cos(s),r[a+1]=o+t*Math.sin(s),r[a+2]=s},Ee.prototype.addCurvePosition=function(t,e,n,r,a,i,o,s,h,l,u,c){var f=(t=0==t||isNaN(t)?1e-4:t)*t,d=f*t,p=1-t,m=p*p,g=m*p,y=p*t,E=3*y,p=p*E,t=E*t,s=e*g+r*p+i*t+s*d,d=n*g+a*p+o*t+h*d;l[u]=s,l[u+1]=d,c&&(l[u+2]=Math.atan2(d-(n*m+a*y*2+o*f),s-(e*m+r*y*2+i*f)))},Ee.prototype.getOrder=function(){return this.data.order},Ee.NONE=-1,Ee.BEFORE=-2,Ee.AFTER=-3,Ee.epsilon=1e-5,Ee),$t=(ye.prototype.getAttachment=function(){return this.attachment},ye.prototype.setAttachment=function(t){this.attachment!=t&&(this.attachment=t,this.attachmentTime=this.bone.skeleton.time,this.attachmentVertices.length=0)},ye.prototype.setAttachmentTime=function(t){this.attachmentTime=this.bone.skeleton.time-t},ye.prototype.getAttachmentTime=function(){return this.bone.skeleton.time-this.attachmentTime},ye.prototype.setToSetupPose=function(){this.color.setFromColor(this.data.color),null!=this.darkColor&&this.darkColor.setFromColor(this.data.darkColor),null==this.data.attachmentName?this.attachment=null:(this.attachment=null,this.setAttachment(this.bone.skeleton.getAttachment(this.data.index,this.data.attachmentName)))},ye),te=(ge.prototype.apply=function(){this.update()},ge.prototype.update=function(){this.data.local?this.data.relative?this.applyRelativeLocal():this.applyAbsoluteLocal():this.data.relative?this.applyRelativeWorld():this.applyAbsoluteWorld()},ge.prototype.applyAbsoluteWorld=function(){for(var t=this.rotateMix,e=this.translateMix,n=this.scaleMix,r=this.shearMix,a=this.target,i=a.matrix,o=i.a,s=i.c,h=i.b,l=i.d,i=0<o*l-s*h?$.e.degRad:-$.e.degRad,u=this.data.offsetRotation*i,c=this.data.offsetShearY*i,f=this.bones,d=0,p=f.length;d<p;d++){var m,g,y,E,x,v,w,b,M,T=f[d],R=!1,S=T.matrix;0!=t&&(m=S.a,v=S.c,g=S.b,w=S.d,(M=Math.atan2(h,o)-Math.atan2(g,m)+u)>$.e.PI?M-=$.e.PI2:M<-$.e.PI&&(M+=$.e.PI2),M*=t,E=Math.cos(M),y=Math.sin(M),S.a=E*m-y*g,S.c=E*v-y*w,S.b=y*m+E*g,S.d=y*v+E*w,R=!0),0!=e&&(E=this.temp,a.localToWorld(E.set(this.data.offsetX,this.data.offsetY)),S.tx+=(E.x-S.tx)*e,S.ty+=(E.y-S.ty)*e,R=!0),0<n&&(x=Math.sqrt(S.a*S.a+S.b*S.b),b=Math.sqrt(o*o+h*h),1e-5<x&&(x=(x+(b-x+this.data.offsetScaleX)*n)/x),S.a*=x,S.b*=x,x=Math.sqrt(S.c*S.c+S.d*S.d),b=Math.sqrt(s*s+l*l),1e-5<x&&(x=(x+(b-x+this.data.offsetScaleY)*n)/x),S.c*=x,S.d*=x,R=!0),0<r&&(v=S.c,w=S.d,b=Math.atan2(w,v),(M=Math.atan2(l,s)-Math.atan2(h,o)-(b-Math.atan2(S.b,S.a)))>$.e.PI?M-=$.e.PI2:M<-$.e.PI&&(M+=$.e.PI2),M=b+(M+c)*r,x=Math.sqrt(v*v+w*w),S.c=Math.cos(M)*x,S.d=Math.sin(M)*x,R=!0),R&&(T.appliedValid=!1)}},ge.prototype.applyRelativeWorld=function(){for(var t=this.rotateMix,e=this.translateMix,n=this.scaleMix,r=this.shearMix,a=this.target,i=a.matrix,o=i.a,s=i.c,h=i.b,l=i.d,i=0<o*l-s*h?$.e.degRad:-$.e.degRad,u=this.data.offsetRotation*i,c=this.data.offsetShearY*i,f=this.bones,d=0,p=f.length;d<p;d++){var m,g,y,E,x,v,w,b,M=f[d],T=!1,R=M.matrix;0!=t&&(m=R.a,g=R.c,y=R.b,E=R.d,(x=Math.atan2(h,o)+u)>$.e.PI?x-=$.e.PI2:x<-$.e.PI&&(x+=$.e.PI2),x*=t,w=Math.cos(x),v=Math.sin(x),R.a=w*m-v*y,R.c=w*g-v*E,R.b=v*m+w*y,R.d=v*g+w*E,T=!0),0!=e&&(w=this.temp,a.localToWorld(w.set(this.data.offsetX,this.data.offsetY)),R.tx+=w.x*e,R.ty+=w.y*e,T=!0),0<n&&(b=(Math.sqrt(o*o+h*h)-1+this.data.offsetScaleX)*n+1,R.a*=b,R.b*=b,b=(Math.sqrt(s*s+l*l)-1+this.data.offsetScaleY)*n+1,R.c*=b,R.d*=b,T=!0),0<r&&((x=Math.atan2(l,s)-Math.atan2(h,o))>$.e.PI?x-=$.e.PI2:x<-$.e.PI&&(x+=$.e.PI2),g=R.c,E=R.d,x=Math.atan2(E,g)+(x-$.e.PI/2+c)*r,b=Math.sqrt(g*g+E*E),R.c=Math.cos(x)*b,R.d=Math.sin(x)*b,T=!0),T&&(M.appliedValid=!1)}},ge.prototype.applyAbsoluteLocal=function(){var t=this.rotateMix,e=this.translateMix,n=this.scaleMix,r=this.shearMix,a=this.target;a.appliedValid||a.updateAppliedTransform();for(var i=this.bones,o=0,s=i.length;o<s;o++){var h=i[o];h.appliedValid||h.updateAppliedTransform();var l,u=h.arotation;0!=t&&(l=a.arotation-u+this.data.offsetRotation,u+=(l-=360*(16384-(16384.499999999996-l/360|0)))*t);var c=h.ax,f=h.ay;0!=e&&(c+=(a.ax-c+this.data.offsetX)*e,f+=(a.ay-f+this.data.offsetY)*e);var d=h.ascaleX,p=h.ascaleY;0<n&&(1e-5<d&&(d=(d+(a.ascaleX-d+this.data.offsetScaleX)*n)/d),1e-5<p&&(p=(p+(a.ascaleY-p+this.data.offsetScaleY)*n)/p));var m=h.ashearY;0<r&&(l=a.ashearY-m+this.data.offsetShearY,l-=360*(16384-(16384.499999999996-l/360|0)),h.shearY+=l*r),h.updateWorldTransformWith(c,f,u,d,p,h.ashearX,m)}},ge.prototype.applyRelativeLocal=function(){var t=this.rotateMix,e=this.translateMix,n=this.scaleMix,r=this.shearMix,a=this.target;a.appliedValid||a.updateAppliedTransform();for(var i=this.bones,o=0,s=i.length;o<s;o++){var h=i[o];h.appliedValid||h.updateAppliedTransform();var l=h.arotation;0!=t&&(l+=(a.arotation+this.data.offsetRotation)*t);var u=h.ax,c=h.ay;0!=e&&(u+=(a.ax+this.data.offsetX)*e,c+=(a.ay+this.data.offsetY)*e);var f=h.ascaleX,d=h.ascaleY;0<n&&(1e-5<f&&(f*=(a.ascaleX-1+this.data.offsetScaleX)*n+1),1e-5<d&&(d*=(a.ascaleY-1+this.data.offsetScaleY)*n+1));var p=h.ashearY;0<r&&(p+=(a.ashearY+this.data.offsetShearY)*r),h.updateWorldTransformWith(u,c,l,f,d,h.ashearX,p)}},ge.prototype.getOrder=function(){return this.data.order},ge),ee=(me.prototype.updateCache=function(){this._updateCache.length=0,this.updateCacheReset.length=0;for(var t=this.bones,e=0,n=t.length;e<n;e++)t[e].sorted=!1;var r=this.ikConstraints,a=this.transformConstraints,i=this.pathConstraints,o=r.length,s=a.length,h=i.length,l=o+s+h;t:for(e=0;e<l;e++){for(var u=0;u<o;u++){var c=r[u];if(c.data.order==e){this.sortIkConstraint(c);continue t}}for(u=0;u<s;u++)if((c=a[u]).data.order==e){this.sortTransformConstraint(c);continue t}for(u=0;u<h;u++)if((c=i[u]).data.order==e){this.sortPathConstraint(c);continue t}}for(e=0,n=t.length;e<n;e++)this.sortBone(t[e])},me.prototype.sortIkConstraint=function(t){var e=t.target;this.sortBone(e);var n=t.bones,r=n[0];this.sortBone(r),1<n.length&&(e=n[n.length-1],-1<this._updateCache.indexOf(e)||this.updateCacheReset.push(e)),this._updateCache.push(t),this.sortReset(r.children),n[n.length-1].sorted=!0},me.prototype.sortPathConstraint=function(t){var e=t.target,n=e.data.index,r=e.bone;null!=this.skin&&this.sortPathConstraintAttachment(this.skin,n,r),null!=this.data.defaultSkin&&this.data.defaultSkin!=this.skin&&this.sortPathConstraintAttachment(this.data.defaultSkin,n,r);for(var a=0,i=this.data.skins.length;a<i;a++)this.sortPathConstraintAttachment(this.data.skins[a],n,r);e=e.getAttachment();e instanceof L&&this.sortPathConstraintAttachmentWith(e,r);for(var o=t.bones,s=o.length,a=0;a<s;a++)this.sortBone(o[a]);for(this._updateCache.push(t),a=0;a<s;a++)this.sortReset(o[a].children);for(a=0;a<s;a++)o[a].sorted=!0},me.prototype.sortTransformConstraint=function(t){this.sortBone(t.target);var e=t.bones,n=e.length;if(t.data.local)for(var r=0;r<n;r++){var a=e[r];this.sortBone(a.parent),-1<this._updateCache.indexOf(a)||this.updateCacheReset.push(a)}else for(r=0;r<n;r++)this.sortBone(e[r]);this._updateCache.push(t);for(var i=0;i<n;i++)this.sortReset(e[i].children);for(i=0;i<n;i++)e[i].sorted=!0},me.prototype.sortPathConstraintAttachment=function(t,e,n){var r=t.attachments[e];if(r)for(var a in r)this.sortPathConstraintAttachmentWith(r[a],n)},me.prototype.sortPathConstraintAttachmentWith=function(t,e){if(t instanceof L){var n=t.bones;if(null==n)this.sortBone(e);else for(var r=this.bones,a=0;a<n.length;)for(var i=n[a++],o=a+i;a<o;a++){var s=n[a];this.sortBone(r[s])}}},me.prototype.sortBone=function(t){var e;t.sorted||(null!=(e=t.parent)&&this.sortBone(e),t.sorted=!0,this._updateCache.push(t))},me.prototype.sortReset=function(t){for(var e=0,n=t.length;e<n;e++){var r=t[e];r.sorted&&this.sortReset(r.children),r.sorted=!1}},me.prototype.updateWorldTransform=function(){for(var t=this.updateCacheReset,e=0,n=t.length;e<n;e++){var r=t[e];r.ax=r.x,r.ay=r.y,r.arotation=r.rotation,r.ascaleX=r.scaleX,r.ascaleY=r.scaleY,r.ashearX=r.shearX,r.ashearY=r.shearY,r.appliedValid=!0}for(var a=this._updateCache,e=0,n=a.length;e<n;e++)a[e].update()},me.prototype.setToSetupPose=function(){this.setBonesToSetupPose(),this.setSlotsToSetupPose()},me.prototype.setBonesToSetupPose=function(){for(var t=this.bones,e=0,n=t.length;e<n;e++)t[e].setToSetupPose();for(var r=this.ikConstraints,e=0,n=r.length;e<n;e++){var a=r[e];a.bendDirection=a.data.bendDirection,a.mix=a.data.mix}var i=this.transformConstraints;for(e=0,n=i.length;e<n;e++){var o=(a=i[e]).data;a.rotateMix=o.rotateMix,a.translateMix=o.translateMix,a.scaleMix=o.scaleMix,a.shearMix=o.shearMix}var s=this.pathConstraints;for(e=0,n=s.length;e<n;e++)o=(a=s[e]).data,a.position=o.position,a.spacing=o.spacing,a.rotateMix=o.rotateMix,a.translateMix=o.translateMix},me.prototype.setSlotsToSetupPose=function(){var t=this.slots;$.p.arrayCopy(t,0,this.drawOrder,0,t.length);for(var e=0,n=t.length;e<n;e++)t[e].setToSetupPose()},me.prototype.getRootBone=function(){return 0==this.bones.length?null:this.bones[0]},me.prototype.findBone=function(t){if(null==t)throw new Error("boneName cannot be null.");for(var e=this.bones,n=0,r=e.length;n<r;n++){var a=e[n];if(a.data.name==t)return a}return null},me.prototype.findBoneIndex=function(t){if(null==t)throw new Error("boneName cannot be null.");for(var e=this.bones,n=0,r=e.length;n<r;n++)if(e[n].data.name==t)return n;return-1},me.prototype.findSlot=function(t){if(null==t)throw new Error("slotName cannot be null.");for(var e=this.slots,n=0,r=e.length;n<r;n++){var a=e[n];if(a.data.name==t)return a}return null},me.prototype.findSlotIndex=function(t){if(null==t)throw new Error("slotName cannot be null.");for(var e=this.slots,n=0,r=e.length;n<r;n++)if(e[n].data.name==t)return n;return-1},me.prototype.setSkinByName=function(t){var e=this.data.findSkin(t);if(null==e)throw new Error("Skin not found: "+t);this.setSkin(e)},me.prototype.setSkin=function(t){if(null!=t)if(null!=this.skin)t.attachAll(this,this.skin);else for(var e=this.slots,n=0,r=e.length;n<r;n++){var a=e[n],i=a.data.attachmentName;null==i||null!=(i=t.getAttachment(n,i))&&a.setAttachment(i)}this.skin=t},me.prototype.getAttachmentByName=function(t,e){return this.getAttachment(this.data.findSlotIndex(t),e)},me.prototype.getAttachment=function(t,e){if(null==e)throw new Error("attachmentName cannot be null.");if(null!=this.skin){var n=this.skin.getAttachment(t,e);if(null!=n)return n}return null!=this.data.defaultSkin?this.data.defaultSkin.getAttachment(t,e):null},me.prototype.setAttachment=function(t,e){if(null==t)throw new Error("slotName cannot be null.");for(var n=this.slots,r=0,a=n.length;r<a;r++){var i=n[r];if(i.data.name==t){var o=null;if(null!=e&&null==(o=this.getAttachment(r,e)))throw new Error("Attachment not found: "+e+", for slot: "+t);return void i.setAttachment(o)}}throw new Error("Slot not found: "+t)},me.prototype.findIkConstraint=function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.ikConstraints,n=0,r=e.length;n<r;n++){var a=e[n];if(a.data.name==t)return a}return null},me.prototype.findTransformConstraint=function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.transformConstraints,n=0,r=e.length;n<r;n++){var a=e[n];if(a.data.name==t)return a}return null},me.prototype.findPathConstraint=function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.pathConstraints,n=0,r=e.length;n<r;n++){var a=e[n];if(a.data.name==t)return a}return null},me.prototype.getBounds=function(t,e,n){if(null==t)throw new Error("offset cannot be null.");if(null==e)throw new Error("size cannot be null.");for(var r=this.drawOrder,a=Number.POSITIVE_INFINITY,i=Number.POSITIVE_INFINITY,o=Number.NEGATIVE_INFINITY,s=Number.NEGATIVE_INFINITY,h=0,l=r.length;h<l;h++){var u=r[h],c=0,f=null,d=u.getAttachment();if(d instanceof v?(f=$.p.setArraySize(n,c=8,0),d.computeWorldVertices(u.bone,f,0,2)):d instanceof E&&(c=(d=d).worldVerticesLength,f=$.p.setArraySize(n,c,0),d.computeWorldVertices(u,0,c,f,0,2)),null!=f)for(var p=0,m=f.length;p<m;p+=2)var g=f[p],y=f[p+1],a=Math.min(a,g),i=Math.min(i,y),o=Math.max(o,g),s=Math.max(s,y)}t.set(a,i),e.set(o-a,s-i)},me.prototype.update=function(t){this.time+=t},Object.defineProperty(me.prototype,"flipX",{get:function(){return-1==this.scaleX},set:function(t){me.deprecatedWarning1||(me.deprecatedWarning1=!0),this.scaleX=t?1:-1},enumerable:!1,configurable:!0}),Object.defineProperty(me.prototype,"flipY",{get:function(){return-1==this.scaleY},set:function(t){me.deprecatedWarning1||(me.deprecatedWarning1=!0),this.scaleY=t?1:-1},enumerable:!1,configurable:!0}),me.deprecatedWarning1=!1,me),ne=(pe.prototype.update=function(t,e){if(null==t)throw new Error("skeleton cannot be null.");var n=this.boundingBoxes,r=this.polygons,a=this.polygonPool,i=t.slots,o=i.length;n.length=0,a.freeAll(r);for(var s=r.length=0;s<o;s++){var h,l=i[s],u=l.getAttachment();u instanceof g&&(n.push(h=u),(u=a.obtain()).length!=h.worldVerticesLength&&(u=$.p.newFloatArray(h.worldVerticesLength)),r.push(u),h.computeWorldVertices(l,0,h.worldVerticesLength,u,0,2))}e?this.aabbCompute():(this.minX=Number.POSITIVE_INFINITY,this.minY=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY,this.maxY=Number.NEGATIVE_INFINITY)},pe.prototype.aabbCompute=function(){for(var t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY,r=Number.NEGATIVE_INFINITY,a=this.polygons,i=0,o=a.length;i<o;i++)for(var s=a[i],h=s,l=0,u=s.length;l<u;l+=2)var c=h[l],f=h[l+1],t=Math.min(t,c),e=Math.min(e,f),n=Math.max(n,c),r=Math.max(r,f);this.minX=t,this.minY=e,this.maxX=n,this.maxY=r},pe.prototype.aabbContainsPoint=function(t,e){return t>=this.minX&&t<=this.maxX&&e>=this.minY&&e<=this.maxY},pe.prototype.aabbIntersectsSegment=function(t,e,n,r){var a=this.minX,i=this.minY,o=this.maxX,s=this.maxY;if(t<=a&&n<=a||e<=i&&r<=i||o<=t&&o<=n||s<=e&&s<=r)return!1;r=(r-e)/(n-t),n=r*(a-t)+e;if(i<n&&n<s)return!0;if(i<(n=r*(o-t)+e)&&n<s)return!0;i=(i-e)/r+t;return a<i&&i<o||a<(i=(s-e)/r+t)&&i<o},pe.prototype.aabbIntersectsSkeleton=function(t){return this.minX<t.maxX&&this.maxX>t.minX&&this.minY<t.maxY&&this.maxY>t.minY},pe.prototype.containsPoint=function(t,e){for(var n=this.polygons,r=0,a=n.length;r<a;r++)if(this.containsPointPolygon(n[r],t,e))return this.boundingBoxes[r];return null},pe.prototype.containsPointPolygon=function(t,e,n){for(var r=t,a=t.length,i=a-2,o=!1,s=0;s<a;s+=2){var h,l=r[s+1],u=r[i+1];!(l<n&&n<=u||u<n&&n<=l)||(h=r[s])+(n-l)/(u-l)*(r[i]-h)<e&&(o=!o),i=s}return o},pe.prototype.intersectsSegment=function(t,e,n,r){for(var a=this.polygons,i=0,o=a.length;i<o;i++)if(this.intersectsSegmentPolygon(a[i],t,e,n,r))return this.boundingBoxes[i];return null},pe.prototype.intersectsSegmentPolygon=function(t,e,n,r,a){for(var i=t,o=t.length,s=e-r,h=n-a,l=e*a-n*r,u=i[o-2],c=i[o-1],f=0;f<o;f+=2){var d=i[f],p=i[f+1],m=u*p-c*d,g=u-d,y=c-p,E=s*y-h*g,g=(l*g-s*m)/E;if((u<=g&&g<=d||d<=g&&g<=u)&&(e<=g&&g<=r||r<=g&&g<=e)){E=(l*y-h*m)/E;if((c<=E&&E<=p||p<=E&&E<=c)&&(n<=E&&E<=a||a<=E&&E<=n))return!0}u=d,c=p}return!1},pe.prototype.getPolygon=function(t){if(null==t)throw new Error("boundingBox cannot be null.");t=this.boundingBoxes.indexOf(t);return-1==t?null:this.polygons[t]},pe.prototype.getWidth=function(){return this.maxX-this.minX},pe.prototype.getHeight=function(){return this.maxY-this.minY},pe),re=(de.prototype.findBone=function(t){if(null==t)throw new Error("boneName cannot be null.");for(var e=this.bones,n=0,r=e.length;n<r;n++){var a=e[n];if(a.name==t)return a}return null},de.prototype.findBoneIndex=function(t){if(null==t)throw new Error("boneName cannot be null.");for(var e=this.bones,n=0,r=e.length;n<r;n++)if(e[n].name==t)return n;return-1},de.prototype.findSlot=function(t){if(null==t)throw new Error("slotName cannot be null.");for(var e=this.slots,n=0,r=e.length;n<r;n++){var a=e[n];if(a.name==t)return a}return null},de.prototype.findSlotIndex=function(t){if(null==t)throw new Error("slotName cannot be null.");for(var e=this.slots,n=0,r=e.length;n<r;n++)if(e[n].name==t)return n;return-1},de.prototype.findSkin=function(t){if(null==t)throw new Error("skinName cannot be null.");for(var e=this.skins,n=0,r=e.length;n<r;n++){var a=e[n];if(a.name==t)return a}return null},de.prototype.findEvent=function(t){if(null==t)throw new Error("eventDataName cannot be null.");for(var e=this.events,n=0,r=e.length;n<r;n++){var a=e[n];if(a.name==t)return a}return null},de.prototype.findAnimation=function(t){if(null==t)throw new Error("animationName cannot be null.");for(var e=this.animations,n=0,r=e.length;n<r;n++){var a=e[n];if(a.name==t)return a}return null},de.prototype.findIkConstraint=function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.ikConstraints,n=0,r=e.length;n<r;n++){var a=e[n];if(a.name==t)return a}return null},de.prototype.findTransformConstraint=function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.transformConstraints,n=0,r=e.length;n<r;n++){var a=e[n];if(a.name==t)return a}return null},de.prototype.findPathConstraint=function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.pathConstraints,n=0,r=e.length;n<r;n++){var a=e[n];if(a.name==t)return a}return null},de.prototype.findPathConstraintIndex=function(t){if(null==t)throw new Error("pathConstraintName cannot be null.");for(var e=this.pathConstraints,n=0,r=e.length;n<r;n++)if(e[n].name==t)return n;return-1},de),ae=function(t,e,n){if(this.color=new $.c(1,1,1,1),t<0)throw new Error("index must be >= 0.");if(null==e)throw new Error("name cannot be null.");if(null==n)throw new Error("boneData cannot be null.");this.index=t,this.name=e,this.boneData=n},ie=function(t){if(this.order=0,this.bones=new Array,this.rotateMix=0,this.translateMix=0,this.scaleMix=0,this.shearMix=0,this.offsetRotation=0,this.offsetX=0,this.offsetY=0,this.offsetScaleX=0,this.offsetScaleY=0,this.offsetShearY=0,this.relative=!1,this.local=!1,null==t)throw new Error("name cannot be null.");this.name=t},oe=(fe.prototype.addAttachment=function(t,e,n){if(null==n)throw new Error("attachment cannot be null.");var r=this.attachments;t>=r.length&&(r.length=t+1),r[t]||(r[t]={}),r[t][e]=n},fe.prototype.getAttachment=function(t,e){t=this.attachments[t];return t?t[e]:null},fe.prototype.attachAll=function(t,e){for(var n=0,r=0;r<t.slots.length;r++){var a=t.slots[r],i=a.getAttachment();if(i&&n<e.attachments.length){var o,s=e.attachments[n];for(o in s)if(i==s[o]){var h=this.getAttachment(n,o);null!=h&&a.setAttachment(h);break}}n++}},fe),se=(ce.prototype.readSkeletonData=function(t){var e=this.scale,n=new re,r="string"==typeof t?JSON.parse(t):t,t=r.skeleton;if(null!=t&&(n.hash=t.hash,n.version=t.spine,n.width=t.width,n.height=t.height,n.fps=t.fps,n.imagesPath=t.images),r.bones)for(var a=0;a<r.bones.length;a++){var i=r.bones[a],o=null,s=this.getValue(i,"parent",null);if(null!=s&&null==(o=n.findBone(s)))throw new Error("Parent bone not found: "+s);var h=new Lt(n.bones.length,i.name,o);h.length=this.getValue(i,"length",0)*e,h.x=this.getValue(i,"x",0)*e,h.y=this.getValue(i,"y",0)*e,h.rotation=this.getValue(i,"rotation",0),h.scaleX=this.getValue(i,"scaleX",1),h.scaleY=this.getValue(i,"scaleY",1),h.shearX=this.getValue(i,"shearX",0),h.shearY=this.getValue(i,"shearY",0),h.transformMode=ce.transformModeFromString(this.getValue(i,"transform","normal")),n.bones.push(h)}if(r.slots)for(a=0;a<r.slots.length;a++){var l=r.slots[a],u=l.name,c=l.bone,f=n.findBone(c);if(null==f)throw new Error("Slot bone not found: "+c);h=new ae(n.slots.length,u,f),f=this.getValue(l,"color",null);null!=f&&h.color.setFromString(f);f=this.getValue(l,"dark",null);null!=f&&(h.darkColor=new $.c(1,1,1,1),h.darkColor.setFromString(f)),h.attachmentName=this.getValue(l,"attachment",null),h.blendMode=ce.blendModeFromString(this.getValue(l,"blend","normal")),n.slots.push(h)}if(r.ik)for(a=0;a<r.ik.length;a++){var d=r.ik[a];(h=new jt(d.name)).order=this.getValue(d,"order",0);for(var p=0;p<d.bones.length;p++){var c=d.bones[p],m=n.findBone(c);if(null==m)throw new Error("IK bone not found: "+c);h.bones.push(m)}var g=d.target;if(h.target=n.findBone(g),null==h.target)throw new Error("IK target bone not found: "+g);h.bendDirection=this.getValue(d,"bendPositive",!0)?1:-1,h.mix=this.getValue(d,"mix",1),n.ikConstraints.push(h)}if(r.transform)for(a=0;a<r.transform.length;a++){for(d=r.transform[a],(h=new ie(d.name)).order=this.getValue(d,"order",0),p=0;p<d.bones.length;p++){if(c=d.bones[p],null==(m=n.findBone(c)))throw new Error("Transform constraint bone not found: "+c);h.bones.push(m)}if(g=d.target,h.target=n.findBone(g),null==h.target)throw new Error("Transform constraint target bone not found: "+g);h.local=this.getValue(d,"local",!1),h.relative=this.getValue(d,"relative",!1),h.offsetRotation=this.getValue(d,"rotation",0),h.offsetX=this.getValue(d,"x",0)*e,h.offsetY=this.getValue(d,"y",0)*e,h.offsetScaleX=this.getValue(d,"scaleX",0),h.offsetScaleY=this.getValue(d,"scaleY",0),h.offsetShearY=this.getValue(d,"shearY",0),h.rotateMix=this.getValue(d,"rotateMix",1),h.translateMix=this.getValue(d,"translateMix",1),h.scaleMix=this.getValue(d,"scaleMix",1),h.shearMix=this.getValue(d,"shearMix",1),n.transformConstraints.push(h)}if(r.path)for(a=0;a<r.path.length;a++){for(d=r.path[a],(h=new Ut(d.name)).order=this.getValue(d,"order",0),p=0;p<d.bones.length;p++){if(c=d.bones[p],null==(m=n.findBone(c)))throw new Error("Transform constraint bone not found: "+c);h.bones.push(m)}if(g=d.target,h.target=n.findSlot(g),null==h.target)throw new Error("Path target slot not found: "+g);h.positionMode=ce.positionModeFromString(this.getValue(d,"positionMode","percent")),h.spacingMode=ce.spacingModeFromString(this.getValue(d,"spacingMode","length")),h.rotateMode=ce.rotateModeFromString(this.getValue(d,"rotateMode","tangent")),h.offsetRotation=this.getValue(d,"rotation",0),h.position=this.getValue(d,"position",0),h.positionMode==$.i.Fixed&&(h.position*=e),h.spacing=this.getValue(d,"spacing",0),h.spacingMode!=Xt.Length&&h.spacingMode!=Xt.Fixed||(h.spacing*=e),h.rotateMix=this.getValue(d,"rotateMix",1),h.translateMix=this.getValue(d,"translateMix",1),n.pathConstraints.push(h)}if(r.skins)for(var y in r.skins){var E=r.skins[y],x=new oe(y);for(u in E){var v,w=n.findSlotIndex(u);if(-1==w)throw new Error("Slot not found: "+u);for(v in l=E[u]){var b=this.readAttachment(l[v],x,w,v,n);null!=b&&x.addAttachment(w,v,b)}}n.skins.push(x),"default"==x.name&&(n.defaultSkin=x)}for(var a=0,M=this.linkedMeshes.length;a<M;a++){var T=this.linkedMeshes[a];if(null==(x=null==T.skin?n.defaultSkin:n.findSkin(T.skin)))throw new Error("Skin not found: "+T.skin);var R=x.getAttachment(T.slotIndex,T.parent);if(null==R)throw new Error("Parent mesh not found: "+T.parent);T.mesh.setParentMesh(R)}if(this.linkedMeshes.length=0,r.events)for(var S in r.events){var I=r.events[S];(h=new Wt(S)).intValue=this.getValue(I,"int",0),h.floatValue=this.getValue(I,"float",0),h.stringValue=this.getValue(I,"string",""),h.audioPath=this.getValue(I,"audio",null),null!=h.audioPath&&(h.volume=this.getValue(I,"volume",1),h.balance=this.getValue(I,"balance",0)),n.events.push(h)}if(r.animations)for(var A in r.animations){var V=r.animations[A];this.readAnimation(V,A,n)}return n},ce.prototype.readAttachment=function(t,e,n,r,a){var i=this.scale;switch(r=this.getValue(t,"name",r),this.getValue(t,"type","region")){case"region":var o=this.getValue(t,"path",r),s=this.attachmentLoader.newRegionAttachment(e,r,o);if(null==s)return null;s.path=o,s.x=this.getValue(t,"x",0)*i,s.y=this.getValue(t,"y",0)*i,s.scaleX=this.getValue(t,"scaleX",1),s.scaleY=this.getValue(t,"scaleY",1),s.rotation=this.getValue(t,"rotation",0),s.width=t.width*i,s.height=t.height*i;var h=this.getValue(t,"color",null);return null!=h&&s.color.setFromString(h),s;case"boundingbox":var l=this.attachmentLoader.newBoundingBoxAttachment(e,r);return null==l?null:(this.readVertices(t,l,t.vertexCount<<1),null!=(h=this.getValue(t,"color",null))&&l.color.setFromString(h),l);case"mesh":case"linkedmesh":var o=this.getValue(t,"path",r),u=this.attachmentLoader.newMeshAttachment(e,r,o);if(null==u)return null;u.path=o,null!=(h=this.getValue(t,"color",null))&&u.color.setFromString(h);l=this.getValue(t,"parent",null);if(null!=l)return u.inheritDeform=this.getValue(t,"deform",!0),this.linkedMeshes.push(new he(u,this.getValue(t,"skin",null),n,l)),u;l=t.uvs;return this.readVertices(t,u,l.length),u.triangles=t.triangles,u.regionUVs=new Float32Array(l),u.hullLength=2*this.getValue(t,"hull",0),u;case"path":if(null==(o=this.attachmentLoader.newPathAttachment(e,r)))return null;o.closed=this.getValue(t,"closed",!1),o.constantSpeed=this.getValue(t,"constantSpeed",!0);var c=t.vertexCount;this.readVertices(t,o,c<<1);for(var f=$.p.newArray(c/3,0),d=0;d<t.lengths.length;d++)f[d]=t.lengths[d]*i;return o.lengths=f,null!=(h=this.getValue(t,"color",null))&&o.color.setFromString(h),o;case"point":var p=this.attachmentLoader.newPointAttachment(e,r);return null==p?null:(p.x=this.getValue(t,"x",0)*i,p.y=this.getValue(t,"y",0)*i,p.rotation=this.getValue(t,"rotation",0),null!=(h=this.getValue(t,"color",null))&&p.color.setFromString(h),p);case"clipping":u=this.attachmentLoader.newClippingAttachment(e,r);if(null==u)return null;o=this.getValue(t,"end",null);if(null!=o){p=a.findSlot(o);if(null==p)throw new Error("Clipping end slot not found: "+o);u.endSlot=p}return c=t.vertexCount,this.readVertices(t,u,c<<1),null!=(h=this.getValue(t,"color",null))&&u.color.setFromString(h),u}return null},ce.prototype.readVertices=function(t,e,n){var r=this.scale;e.worldVerticesLength=n;var a=t.vertices;if(n!=a.length){for(var i=new Array,o=new Array,s=0,h=a.length;s<h;){var l=a[s++];o.push(l);for(var u=s+4*l;s<u;s+=4)o.push(a[s]),i.push(a[s+1]*r),i.push(a[s+2]*r),i.push(a[s+3])}e.bones=o,e.vertices=$.p.toFloatArray(i)}else{var c=$.p.toFloatArray(a);if(1!=r)for(var s=0,h=a.length;s<h;s++)c[s]*=r;e.vertices=c}},ce.prototype.readAnimation=function(t,e,n){var r=this.scale,a=new Array,i=0;if(t.slots)for(var o in t.slots){var s=t.slots[o],h=n.findSlotIndex(o);if(-1==h)throw new Error("Slot not found: "+o);for(C in s){var l=s[C];if("attachment"==C){var u=new st(l.length);u.slotIndex=h;for(var c=0,f=0;f<l.length;f++){var d=l[f];u.setFrame(c++,d.time,d.name)}a.push(u),i=Math.max(i,u.frames[u.getFrameCount()-1])}else if("color"==C){for((u=new it(l.length)).slotIndex=h,f=c=0;f<l.length;f++){var d=l[f],p=new $.c;p.setFromString(d.color||"ffffffff"),u.setFrame(c,d.time,p.r,p.g,p.b,p.a),this.readCurve(d,u,c),c++}a.push(u),i=Math.max(i,u.frames[(u.getFrameCount()-1)*it.ENTRIES])}else{if("twoColor"!=C)throw new Error("Invalid timeline type for a slot: "+C+" ("+o+")");for((u=new ot(l.length)).slotIndex=h,f=c=0;f<l.length;f++){d=l[f];var m=new $.c,g=new $.c;m.setFromString(d.light),g.setFromString(d.dark),u.setFrame(c,d.time,m.r,m.g,m.b,m.a,g.r,g.g,g.b),this.readCurve(d,u,c),c++}a.push(u),i=Math.max(i,u.frames[(u.getFrameCount()-1)*ot.ENTRIES])}}}if(t.bones)for(var y in t.bones){var E=t.bones[y],x=n.findBoneIndex(y);if(-1==x)throw new Error("Bone not found: "+y);for(C in E)if(l=E[C],"rotate"===C){for((u=new et(l.length)).boneIndex=x,f=c=0;f<l.length;f++)d=l[f],u.setFrame(c,d.time,d.angle),this.readCurve(d,u,c),c++;a.push(u),i=Math.max(i,u.frames[(u.getFrameCount()-1)*et.ENTRIES])}else{if("translate"!==C&&"scale"!==C&&"shear"!==C)throw new Error("Invalid timeline type for a bone: "+C+" ("+y+")");var u=null,v=1;for("scale"===C?u=new rt(l.length):"shear"===C?u=new at(l.length):(u=new nt(l.length),v=r),u.boneIndex=x,f=c=0;f<l.length;f++){d=l[f];var w=this.getValue(d,"x",0),b=this.getValue(d,"y",0);u.setFrame(c,d.time,w*v,b*v),this.readCurve(d,u,c),c++}a.push(u),i=Math.max(i,u.frames[(u.getFrameCount()-1)*nt.ENTRIES])}}if(t.ik)for(var M in t.ik){var T=t.ik[M],R=n.findIkConstraint(M);for((u=new ct(T.length)).ikConstraintIndex=n.ikConstraints.indexOf(R),f=c=0;f<T.length;f++)d=T[f],u.setFrame(c,d.time,this.getValue(d,"mix",1),this.getValue(d,"bendPositive",!0)?1:-1,this.getValue(d,"compress",!1),this.getValue(d,"stretch",!1)),this.readCurve(d,u,c),c++;a.push(u),i=Math.max(i,u.frames[(u.getFrameCount()-1)*ct.ENTRIES])}if(t.transform)for(var M in t.transform){for(T=t.transform[M],R=n.findTransformConstraint(M),(u=new ft(T.length)).transformConstraintIndex=n.transformConstraints.indexOf(R),f=c=0;f<T.length;f++)d=T[f],u.setFrame(c,d.time,this.getValue(d,"rotateMix",1),this.getValue(d,"translateMix",1),this.getValue(d,"scaleMix",1),this.getValue(d,"shearMix",1)),this.readCurve(d,u,c),c++;a.push(u),i=Math.max(i,u.frames[(u.getFrameCount()-1)*ft.ENTRIES])}if(t.paths)for(var M in t.paths){var T=t.paths[M],S=n.findPathConstraintIndex(M);if(-1==S)throw new Error("Path constraint not found: "+M);var I=n.pathConstraints[S];for(C in T)if(l=T[C],"position"===C||"spacing"===C){for(u=null,v=1,"spacing"===C?(u=new pt(l.length),I.spacingMode!=Xt.Length&&I.spacingMode!=Xt.Fixed||(v=r)):(u=new dt(l.length),I.positionMode==$.i.Fixed&&(v=r)),u.pathConstraintIndex=S,f=c=0;f<l.length;f++)d=l[f],u.setFrame(c,d.time,this.getValue(d,C,0)*v),this.readCurve(d,u,c),c++;a.push(u),i=Math.max(i,u.frames[(u.getFrameCount()-1)*dt.ENTRIES])}else if("mix"===C){for((u=new mt(l.length)).pathConstraintIndex=S,f=c=0;f<l.length;f++)d=l[f],u.setFrame(c,d.time,this.getValue(d,"rotateMix",1),this.getValue(d,"translateMix",1)),this.readCurve(d,u,c),c++;a.push(u),i=Math.max(i,u.frames[(u.getFrameCount()-1)*mt.ENTRIES])}}if(t.deform)for(var A in t.deform){var V=t.deform[A],P=n.findSkin(A);if(null!=P)for(var o in V){if(s=V[o],-1==(h=n.findSlotIndex(o)))throw new Error("Slot not found: "+s.name);for(var C in s){var l=s[C],k=P.getAttachment(h,C);if(null==k)throw new Error("Deform attachment not found: "+l.name);var N=null!=k.bones,Y=k.vertices,X=N?Y.length/3*2:Y.length;(u=new ht(l.length)).slotIndex=h,u.attachment=k;for(var c=0,_=0;_<l.length;_++){d=l[_];var D=void 0,F=this.getValue(d,"vertices",null);if(null==F)D=N?$.p.newFloatArray(X):Y;else{var D=$.p.newFloatArray(X),O=this.getValue(d,"offset",0);if($.p.arrayCopy(F,0,D,O,F.length),1!=r)for(var L=(f=O)+F.length;f<L;f++)D[f]*=r;if(!N)for(f=0;f<X;f++)D[f]+=Y[f]}u.setFrame(c,d.time,D),this.readCurve(d,u,c),c++}a.push(u),i=Math.max(i,u.frames[u.getFrameCount()-1])}}else if($.r.FAIL_ON_NON_EXISTING_SKIN)throw new Error("Skin not found: "+A)}var B=t.drawOrder;if(null!=(B=null==B?t.draworder:B)){u=new ut(B.length);for(var W=n.slots.length,_=c=0;_<B.length;_++){var q=B[_],j=null,U=this.getValue(q,"offsets",null);if(null!=U){var j=$.p.newArray(W,-1),G=$.p.newArray(W-U.length,0),H=0,Z=0;for(f=0;f<U.length;f++){var z=U[f];if(-1==(h=n.findSlotIndex(z.slot)))throw new Error("Slot not found: "+z.slot);for(;H!=h;)G[Z++]=H++;j[H+z.offset]=H++}for(;H<W;)G[Z++]=H++;for(f=W-1;0<=f;f--)-1==j[f]&&(j[f]=G[--Z])}u.setFrame(c++,q.time,j)}a.push(u),i=Math.max(i,u.frames[u.getFrameCount()-1])}if(t.events){for(u=new lt(t.events.length),f=c=0;f<t.events.length;f++){var J=t.events[f],Q=n.findEvent(J.name);if(null==Q)throw new Error("Event not found: "+J.name);var K=new Bt($.p.toSinglePrecision(J.time),Q);K.intValue=this.getValue(J,"int",Q.intValue),K.floatValue=this.getValue(J,"float",Q.floatValue),K.stringValue=this.getValue(J,"string",Q.stringValue),null!=K.data.audioPath&&(K.volume=this.getValue(J,"volume",1),K.balance=this.getValue(J,"balance",0)),u.setFrame(c++,K)}a.push(u),i=Math.max(i,u.frames[u.getFrameCount()-1])}if(isNaN(i))throw new Error("Error while parsing animation, duration is NaN");n.animations.push(new tt(e,a,i))},ce.prototype.readCurve=function(t,e,n){t.curve&&("stepped"===t.curve?e.setStepped(n):"[object Array]"===Object.prototype.toString.call(t.curve)&&(t=t.curve,e.setCurve(n,t[0],t[1],t[2],t[3])))},ce.prototype.getValue=function(t,e,n){return void 0!==t[e]?t[e]:n},ce.blendModeFromString=function(t){if("normal"==(t=t.toLowerCase()))return a.b.NORMAL;if("additive"==t)return a.b.ADD;if("multiply"==t)return a.b.MULTIPLY;if("screen"==t)return a.b.SCREEN;throw new Error("Unknown blend mode: "+t)},ce.positionModeFromString=function(t){if("fixed"==(t=t.toLowerCase()))return $.i.Fixed;if("percent"==t)return $.i.Percent;throw new Error("Unknown position mode: "+t)},ce.spacingModeFromString=function(t){if("length"==(t=t.toLowerCase()))return Xt.Length;if("fixed"==t)return Xt.Fixed;if("percent"==t)return Xt.Percent;throw new Error("Unknown position mode: "+t)},ce.rotateModeFromString=function(t){if("tangent"==(t=t.toLowerCase()))return $.k.Tangent;if("chain"==t)return $.k.Chain;if("chainscale"==t)return $.k.ChainScale;throw new Error("Unknown rotate mode: "+t)},ce.transformModeFromString=function(t){if("normal"==(t=t.toLowerCase()))return $.o.Normal;if("onlytranslation"==t)return $.o.OnlyTranslation;if("norotationorreflection"==t)return $.o.NoRotationOrReflection;if("noscale"==t)return $.o.NoScale;if("noscaleorreflection"==t)return $.o.NoScaleOrReflection;throw new Error("Unknown transform mode: "+t)},ce),he=function(t,e,n,r){this.mesh=t,this.skin=e,this.slotIndex=n,this.parent=r},le=(o(ue,Qt=$.l),ue.prototype.createSkeleton=function(t){this.skeleton=new ee(t),this.skeleton.updateWorldTransform(),this.stateData=new Dt(t),this.state=new J(this.stateData)},ue);function ue(){return null!==Qt&&Qt.apply(this,arguments)||this}function ce(t){this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=t}function fe(t){if(this.attachments=new Array,null==t)throw new Error("name cannot be null.");this.name=t}function de(){this.bones=new Array,this.slots=new Array,this.skins=new Array,this.events=new Array,this.animations=new Array,this.ikConstraints=new Array,this.transformConstraints=new Array,this.pathConstraints=new Array,this.fps=0}function pe(){this.minX=0,this.minY=0,this.maxX=0,this.maxY=0,this.boundingBoxes=new Array,this.polygons=new Array,this.polygonPool=new $.h(function(){return $.p.newFloatArray(16)})}function me(t){if(this._updateCache=new Array,this.updateCacheReset=new Array,this.time=0,this.scaleX=1,this.scaleY=1,this.x=0,this.y=0,null==t)throw new Error("data cannot be null.");this.data=t,this.bones=new Array;for(var e=0;e<t.bones.length;e++){var n,r=t.bones[e],a=void 0;null==r.parent?a=new Ot(r,this,null):(n=this.bones[r.parent.index],a=new Ot(r,this,n),n.children.push(a)),this.bones.push(a)}for(this.slots=new Array,this.drawOrder=new Array,e=0;e<t.slots.length;e++){var i=t.slots[e],i=(a=this.bones[i.boneData.index],new $t(i,a));this.slots.push(i),this.drawOrder.push(i)}for(this.ikConstraints=new Array,e=0;e<t.ikConstraints.length;e++){var o=t.ikConstraints[e];this.ikConstraints.push(new qt(o,this))}for(this.transformConstraints=new Array,e=0;e<t.transformConstraints.length;e++){var s=t.transformConstraints[e];this.transformConstraints.push(new te(s,this))}for(this.pathConstraints=new Array,e=0;e<t.pathConstraints.length;e++){var h=t.pathConstraints[e];this.pathConstraints.push(new Kt(h,this))}this.color=new $.c(1,1,1,1),this.updateCache()}function ge(t,e){if(this.rotateMix=0,this.translateMix=0,this.scaleMix=0,this.shearMix=0,this.temp=new $.q,null==t)throw new Error("data cannot be null.");if(null==e)throw new Error("skeleton cannot be null.");this.data=t,this.rotateMix=t.rotateMix,this.translateMix=t.translateMix,this.scaleMix=t.scaleMix,this.shearMix=t.shearMix,this.bones=new Array;for(var n=0;n<t.bones.length;n++)this.bones.push(e.findBone(t.bones[n].name));this.target=e.findBone(t.target.name)}function ye(t,e){if(this.attachmentVertices=new Array,null==t)throw new Error("data cannot be null.");if(null==e)throw new Error("bone cannot be null.");this.data=t,this.bone=e,this.color=new $.c,this.darkColor=null==t.darkColor?null:new $.c,this.setToSetupPose(),this.blendMode=this.data.blendMode}function Ee(t,e){if(this.position=0,this.spacing=0,this.rotateMix=0,this.translateMix=0,this.spaces=new Array,this.positions=new Array,this.world=new Array,this.curves=new Array,this.lengths=new Array,this.segments=new Array,null==t)throw new Error("data cannot be null.");if(null==e)throw new Error("skeleton cannot be null.");this.data=t,this.bones=new Array;for(var n=0,r=t.bones.length;n<r;n++)this.bones.push(e.findBone(t.bones[n].name));this.target=e.findSlot(t.target.name),this.position=t.position,this.spacing=t.spacing,this.rotateMix=t.rotateMix,this.translateMix=t.translateMix}}}]);
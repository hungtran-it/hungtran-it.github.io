(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-35fb36c4"],{"0e1d":function(t,e,r){"use strict";r.d(e,"a",function(){return s}),r.d(e,"b",function(){return c});var i,n,o,a,r=r("0347"),s=Object(r.a)(self.navigator);
/*!
 * @pixi/settings - v6.2.1
 * Compiled Tue, 21 Dec 2021 19:56:15 UTC
 *
 * @pixi/settings is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
/*!
 * @pixi/constants - v6.2.1
 * Compiled Tue, 21 Dec 2021 19:56:15 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */(r={NORMAL:0,0:"NORMAL",ADD:1,1:"ADD",MULTIPLY:2,2:"MULTIPLY",SCREEN:3,3:"SCREEN",OVERLAY:4,4:"OVERLAY",DARKEN:5,5:"DARKEN",LIGHTEN:6,6:"LIGHTEN",COLOR_DODGE:7,7:"COLOR_DODGE",COLOR_BURN:8,8:"COLOR_BURN",HARD_LIGHT:9,9:"HARD_LIGHT",SOFT_LIGHT:10,10:"SOFT_LIGHT",DIFFERENCE:11,11:"DIFFERENCE",EXCLUSION:12,12:"EXCLUSION",HUE:13,13:"HUE",SATURATION:14,14:"SATURATION",COLOR:15,15:"COLOR",LUMINOSITY:16,16:"LUMINOSITY",NORMAL_NPM:17,17:"NORMAL_NPM",ADD_NPM:18,18:"ADD_NPM",SCREEN_NPM:19,19:"SCREEN_NPM",NONE:20,20:"NONE",SRC_OVER:0})[0]="SRC_OVER",r[r.SRC_IN=21]="SRC_IN",r[r.SRC_OUT=22]="SRC_OUT",r[r.SRC_ATOP=23]="SRC_ATOP",r[r.DST_OVER=24]="DST_OVER",r[r.DST_IN=25]="DST_IN",r[r.DST_OUT=26]="DST_OUT",r[r.DST_ATOP=27]="DST_ATOP",r[r.ERASE=26]="ERASE",r[r.SUBTRACT=28]="SUBTRACT",r[r.XOR=29]="XOR",(r=i=i||{})[r.NEAREST=0]="NEAREST",r[r.LINEAR=1]="LINEAR",(r=n=n||{})[r.CLAMP=33071]="CLAMP",r[r.REPEAT=10497]="REPEAT",r[r.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",(r=h=h||{})[r.OFF=0]="OFF",r[r.POW2=1]="POW2",r[r.ON=2]="ON",r[r.ON_MANUAL=3]="ON_MANUAL",(r={NPM:0,0:"NPM",UNPACK:1,1:"UNPACK",PMA:2,2:"PMA",NO_PREMULTIPLIED_ALPHA:0})[0]="NO_PREMULTIPLIED_ALPHA",r[r.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",r[r.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",r[r.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA",(r={NO:0,0:"NO",YES:1,1:"YES",AUTO:2,2:"AUTO",BLEND:0})[0]="BLEND",r[r.CLEAR=1]="CLEAR",r[r.BLIT=2]="BLIT",(r=o=o||{})[r.AUTO=0]="AUTO",r[r.MANUAL=1]="MANUAL",(r=a=a||{}).LOW="lowp",r.MEDIUM="mediump",r.HIGH="highp",(r=l=l||{})[r.NONE=0]="NONE",r[r.LOW=2]="LOW",r[r.MEDIUM=4]="MEDIUM",r[r.HIGH=8]="HIGH";var h,u,l,c={MIPMAP_TEXTURES:h.POW2,ANISOTROPIC_LEVEL:0,RESOLUTION:1,FILTER_RESOLUTION:1,FILTER_MULTISAMPLE:l.NONE,SPRITE_MAX_TEXTURES:(h=32,l=!0,(s.tablet||s.phone)&&(s.apple.device&&(!(u=navigator.userAgent.match(/OS (\d+)_(\d+)?/))||parseInt(u[1],10)<11&&(l=!1)),s.android.device&&(u=navigator.userAgent.match(/Android\s([0-9.]*)/))&&parseInt(u[1],10)<7&&(l=!1)),l?h:4),SPRITE_BATCH_SIZE:4096,RENDER_OPTIONS:{view:null,antialias:!1,autoDensity:!1,backgroundColor:0,backgroundAlpha:1,useContextAlpha:!0,clearBeforeRender:!0,preserveDrawingBuffer:!1,width:800,height:600,legacy:!1},GC_MODE:o.AUTO,GC_MAX_IDLE:3600,GC_MAX_CHECK_COUNT:600,WRAP_MODE:n.CLAMP,SCALE_MODE:i.LINEAR,PRECISION_VERTEX:a.HIGH,PRECISION_FRAGMENT:s.apple.device?a.HIGH:a.MEDIUM,CAN_UPLOAD_SAME_BUFFER:!s.apple.device,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1}},"2a49":function(t,e,r){"use strict";r.d(e,"a",function(){return c});var n=r("758d"),o=r("a47c"),e=r("3589"),f=r("0a92"),p=r("214a"),i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function a(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var s,h,u=new o.g,l=(a(_,h=e.a),Object.defineProperty(_.prototype,"clampMargin",{get:function(){return this.uvMatrix.clampMargin},set:function(t){this.uvMatrix.clampMargin=t,this.uvMatrix.update(!0)},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"tileScale",{get:function(){return this.tileTransform.scale},set:function(t){this.tileTransform.scale.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"tilePosition",{get:function(){return this.tileTransform.position},set:function(t){this.tileTransform.position.copyFrom(t)},enumerable:!1,configurable:!0}),_.prototype._onTextureUpdate=function(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215},_.prototype._render=function(t){var e=this._texture;e&&e.valid&&(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),t.batch.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this))},_.prototype._calculateBounds=function(){var t=this._width*-this._anchor._x,e=this._height*-this._anchor._y,r=this._width*(1-this._anchor._x),i=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,t,e,r,i)},_.prototype.getLocalBounds=function(t){return 0===this.children.length?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),t||(this._localBoundsRect||(this._localBoundsRect=new o.j),t=this._localBoundsRect),this._bounds.getRectangle(t)):h.prototype.getLocalBounds.call(this,t)},_.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,u);var e=this._width,r=this._height,t=-e*this.anchor._x;if(u.x>=t&&u.x<t+e){e=-r*this.anchor._y;if(u.y>=e&&u.y<e+r)return!0}return!1},_.prototype.destroy=function(t){h.prototype.destroy.call(this,t),this.tileTransform=null,this.uvMatrix=null},_.from=function(t,e){return new _(t instanceof n.q?t:n.q.from(t,e),e.width,e.height)},Object.defineProperty(_.prototype,"width",{get:function(){return this._width},set:function(t){this._width=t},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"height",{get:function(){return this._height},set:function(t){this._height=t},enumerable:!1,configurable:!0}),"#version 100\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n"),g=new o.d,c=(a(d,s=n.j),d.prototype.contextChange=function(){var t=this.renderer,e={globals:t.globalUniforms};this.simpleShader=n.o.from(l,"#version 100\n#define SHADER_NAME Tiling-Sprite-Simple-100\n\nprecision lowp float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 texSample = texture2D(uSampler, vTextureCoord);\n    gl_FragColor = texSample * uColor;\n}\n",e),this.shader=1<t.context.webGLVersion?n.o.from("#version 300 es\n#define SHADER_NAME Tiling-Sprite-300\n\nprecision lowp float;\n\nin vec2 aVertexPosition;\nin vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nout vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","#version 300 es\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nin vec2 vTextureCoord;\n\nout vec4 fragmentColor;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    vec2 unclamped = coord;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0\n\n    fragmentColor = texSample * uColor;\n}\n",e):n.o.from(l,"#version 100\n#ifdef GL_EXT_shader_texture_lod\n    #extension GL_EXT_shader_texture_lod : enable\n#endif\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    vec2 unclamped = coord;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    #ifdef GL_EXT_shader_texture_lod\n        vec4 texSample = unclamped == coord\n            ? texture2D(uSampler, coord) \n            : texture2DLodEXT(uSampler, coord, 0);\n    #else\n        vec4 texSample = texture2D(uSampler, coord);\n    #endif\n\n    gl_FragColor = texSample * uColor;\n}\n",e)},d.prototype.render=function(t){var e=this.renderer,r=this.quad,i=r.vertices;i[0]=i[6]=t._width*-t.anchor.x,i[1]=i[3]=t._height*-t.anchor.y,i[2]=i[4]=t._width*(1-t.anchor.x),i[5]=i[7]=t._height*(1-t.anchor.y);var n=t.uvRespectAnchor?t.anchor.x:0,o=t.uvRespectAnchor?t.anchor.y:0;(i=r.uvs)[0]=i[6]=-n,i[1]=i[3]=-o,i[2]=i[4]=1-n,i[5]=i[7]=1-o,r.invalidate();var a=t._texture,s=a.baseTexture,h=t.tileTransform.localTransform,u=t.uvMatrix,l=s.isPowerOfTwo&&a.frame.width===s.width&&a.frame.height===s.height;l&&(s._glTextures[e.CONTEXT_UID]?l=s.wrapMode!==f.s.CLAMP:s.wrapMode===f.s.CLAMP&&(s.wrapMode=f.s.REPEAT));var c=l?this.simpleShader:this.shader,d=a.width,n=a.height,i=t._width,o=t._height;g.set(h.a*d/i,h.b*d/o,h.c*n/i,h.d*n/o,h.tx/i,h.ty/o),g.invert(),l?g.prepend(u.mapCoord):(c.uniforms.uMapCoord=u.mapCoord.toArray(!0),c.uniforms.uClampFrame=u.uClampFrame,c.uniforms.uClampOffset=u.uClampOffset),c.uniforms.uTransform=g.toArray(!0),c.uniforms.uColor=Object(p.w)(t.tint,t.worldAlpha,c.uniforms.uColor,s.alphaMode),c.uniforms.translationMatrix=t.transform.worldTransform.toArray(!0),c.uniforms.uSampler=a,e.shader.bind(c),e.geometry.bind(r),this.state.blendMode=Object(p.f)(t.blendMode,s.alphaMode),e.state.set(this.state),e.geometry.draw(this.renderer.gl.TRIANGLES,6,0)},d);function d(t){var e=s.call(this,t)||this;return t.runners.contextChange.add(e),e.quad=new n.l,e.state=n.p.for2d(),e}function _(t,e,r){void 0===e&&(e=100),void 0===r&&(r=100);var i=h.call(this,t)||this;return i.tileTransform=new o.m,i._width=e,i._height=r,i.uvMatrix=i.texture.uvMatrix||new n.r(t),i.pluginName="tilingSprite",i.uvRespectAnchor=!1,i}},3589:function(t,e,r){"use strict";r.d(e,"a",function(){return d});var i=r("0a92"),n=r("758d"),e=r("a96b"),o=r("a47c"),_=r("0e1d"),a=r("214a"),s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};var h,u,l=new o.g,c=new Uint16Array([0,1,2,0,2,3]),d=(h=e.b,s(u=f,e=h),u.prototype=null===e?Object.create(e):(p.prototype=e.prototype,new p),f.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=Object(a.A)(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=Object(a.A)(this.scale.y)*this._height/this._texture.orig.height)},f.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},f.prototype.calculateVertices=function(){var t=this._texture;if(this._transformID!==this.transform._worldID||this._textureID!==t._updateID){this._textureID!==t._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=t._updateID;var e=this.transform.worldTransform,r=e.a,i=e.b,n=e.c,o=e.d,a=e.tx,s=e.ty,h=this.vertexData,u=t.trim,l=t.orig,c=this._anchor,d=0,f=0,e=0,t=0,e=u?(d=(f=u.x-c._x*l.width)+u.width,(t=u.y-c._y*l.height)+u.height):(d=(f=-c._x*l.width)+l.width,(t=-c._y*l.height)+l.height);if(h[0]=r*f+n*t+a,h[1]=o*t+i*f+s,h[2]=r*d+n*t+a,h[3]=o*t+i*d+s,h[4]=r*d+n*e+a,h[5]=o*e+i*d+s,h[6]=r*f+n*e+a,h[7]=o*e+i*f+s,this._roundPixels)for(var p=_.b.RESOLUTION,g=0;g<h.length;++g)h[g]=Math.round((h[g]*p|0)/p)}},f.prototype.calculateTrimmedVertices=function(){if(this.vertexTrimmedData){if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return}else this.vertexTrimmedData=new Float32Array(8);this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var t=this._texture,e=this.vertexTrimmedData,r=t.orig,i=this._anchor,n=this.transform.worldTransform,o=n.a,a=n.b,s=n.c,h=n.d,u=n.tx,l=n.ty,t=-i._x*r.width,n=t+r.width,i=-i._y*r.height,r=i+r.height;e[0]=o*t+s*i+u,e[1]=h*i+a*t+l,e[2]=o*n+s*i+u,e[3]=h*i+a*n+l,e[4]=o*n+s*r+u,e[5]=h*r+a*n+l,e[6]=o*t+s*r+u,e[7]=h*r+a*t+l},f.prototype._render=function(t){this.calculateVertices(),t.batch.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this)},f.prototype._calculateBounds=function(){var t=this._texture.trim,e=this._texture.orig;!t||t.width===e.width&&t.height===e.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},f.prototype.getLocalBounds=function(t){return 0===this.children.length?(this._bounds.minX=this._texture.orig.width*-this._anchor._x,this._bounds.minY=this._texture.orig.height*-this._anchor._y,this._bounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._bounds.maxY=this._texture.orig.height*(1-this._anchor._y),t||(this._localBoundsRect||(this._localBoundsRect=new o.j),t=this._localBoundsRect),this._bounds.getRectangle(t)):h.prototype.getLocalBounds.call(this,t)},f.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,l);var e=this._texture.orig.width,r=this._texture.orig.height,t=-e*this.anchor.x;return l.x>=t&&l.x<t+e&&(e=-r*this.anchor.y,l.y>=e&&l.y<e+r)},f.prototype.destroy=function(t){h.prototype.destroy.call(this,t),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,("boolean"==typeof t?t:t&&t.texture)&&(t="boolean"==typeof t?t:t&&t.baseTexture,this._texture.destroy(!!t)),this._texture=null},f.from=function(t,e){return new f(t instanceof n.q?t:n.q.from(t,e))},Object.defineProperty(f.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(t){this._roundPixels!==t&&(this._transformID=-1),this._roundPixels=t},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"width",{get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(t){var e=Object(a.A)(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"height",{get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(t){var e=Object(a.A)(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"anchor",{get:function(){return this._anchor},set:function(t){this._anchor.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"tint",{get:function(){return this._tint},set:function(t){this._tint=t,this._tintRGB=(t>>16)+(65280&t)+((255&t)<<16)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"texture",{get:function(){return this._texture},set:function(t){this._texture!==t&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=t||n.q.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,t&&(t.baseTexture.valid?this._onTextureUpdate():t.once("update",this._onTextureUpdate,this)))},enumerable:!1,configurable:!0}),f);function f(t){var e=h.call(this)||this;return e._anchor=new o.e(e._onAnchorUpdate,e,t?t.defaultAnchor.x:0,t?t.defaultAnchor.y:0),e._texture=null,e._width=0,e._height=0,e._tint=null,e._tintRGB=null,e.tint=16777215,e.blendMode=i.b.NORMAL,e._cachedTint=16777215,e.uvs=null,e.texture=t||n.q.EMPTY,e.vertexData=new Float32Array(8),e.vertexTrimmedData=null,e._transformID=-1,e._textureID=-1,e._transformTrimmedID=-1,e._textureTrimmedID=-1,e.indices=c,e.pluginName="batch",e.isSprite=!0,e._roundPixels=_.b.ROUND_PIXELS,e}function p(){this.constructor=u}},"7fe2":function(t,e,r){"use strict";r.d(e,"a",function(){return i});var u=r("a47c"),l=r("758d"),h=r("214a"),c=r("5d77"),d=(p.prototype._updateResolution=function(t){void 0===t&&(t=null);var e=this.data.meta.scale,t=Object(h.l)(t,null);return 1!==(t=null===t?void 0!==e?parseFloat(e):1:t)&&this.baseTexture.setResolution(t),t},p.prototype.parse=function(t){this._batchIndex=0,this._callback=t,this._frameKeys.length<=p.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()},p.prototype._processFrames=function(t){for(var e=t,r=p.BATCH_SIZE;e-t<r&&e<this._frameKeys.length;){var i,n,o,a=this._frameKeys[e],s=this._frames[a],h=s.frame;h&&(i=o=null,n=!1!==s.trimmed&&s.sourceSize?s.sourceSize:s.frame,n=new u.j(0,0,Math.floor(n.w)/this.resolution,Math.floor(n.h)/this.resolution),o=s.rotated?new u.j(Math.floor(h.x)/this.resolution,Math.floor(h.y)/this.resolution,Math.floor(h.h)/this.resolution,Math.floor(h.w)/this.resolution):new u.j(Math.floor(h.x)/this.resolution,Math.floor(h.y)/this.resolution,Math.floor(h.w)/this.resolution,Math.floor(h.h)/this.resolution),!1!==s.trimmed&&s.spriteSourceSize&&(i=new u.j(Math.floor(s.spriteSourceSize.x)/this.resolution,Math.floor(s.spriteSourceSize.y)/this.resolution,Math.floor(h.w)/this.resolution,Math.floor(h.h)/this.resolution)),this.textures[a]=new l.q(this.baseTexture,o,n,i,s.rotated?2:0,s.anchor),l.q.addToCache(this.textures[a],a)),e++}},p.prototype._processAnimations=function(){var t,e=this.data.animations||{};for(t in e){this.animations[t]=[];for(var r=0;r<e[t].length;r++){var i=e[t][r];this.animations[t].push(this.textures[i])}}},p.prototype._parseComplete=function(){var t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)},p.prototype._nextBatch=function(){var t=this;this._processFrames(this._batchIndex*p.BATCH_SIZE),this._batchIndex++,setTimeout(function(){t._batchIndex*p.BATCH_SIZE<t._frameKeys.length?t._nextBatch():(t._processAnimations(),t._parseComplete())},0)},p.prototype.destroy=function(t){for(var e in void 0===t&&(t=!1),this.textures)this.textures[e].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&(null===(t=this._texture)||void 0===t||t.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null},p.BATCH_SIZE=1e3,p),i=(f.use=function(i,r){var n=this,t=i.name+"_image";if(i.data&&i.type===c.c.TYPE.JSON&&i.data.frames&&!n.resources[t]){var e=null===(s=null===(e=i.data)||void 0===e?void 0:e.meta)||void 0===s?void 0:s.related_multi_packs;if(Array.isArray(e))for(var o=0,a=e;o<a.length;o++)!function(t){if("string"!=typeof t)return;var e=t.replace(".json",""),r=h.E.resolve(i.url.replace(n.baseUrl,""),t);if(n.resources[e]||Object.values(n.resources).some(function(t){return h.E.format(h.E.parse(t.url))===r}))return;t={crossOrigin:i.crossOrigin,loadType:c.c.LOAD_TYPE.XHR,xhrType:c.c.XHR_RESPONSE_TYPE.JSON,parentResource:i,metadata:i.metadata};n.add(e,r,t)}(a[o]);var s={crossOrigin:i.crossOrigin,metadata:i.metadata.imageMetadata,parentResource:i},e=f.getResourcePath(i,n.baseUrl);n.add(t,e,s,function(t){var e;t.error?r(t.error):(e=new d(t.texture,i.data,i.url)).parse(function(){i.spritesheet=e,i.textures=e.textures,r()})})}else r()},f.getResourcePath=function(t,e){return t.isDataUrl?t.data.meta.image:h.E.resolve(t.url.replace(e,""),t.data.meta.image)},f);function f(){}function p(t,e,r){void 0===r&&(r=null),this._texture=t instanceof l.q?t:null,this.baseTexture=t instanceof l.a?t:this._texture.baseTexture,this.textures={},this.animations={},this.data=e;e=this.baseTexture.resource;this.resolution=this._updateResolution(r||(e?e.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}},a0d4:function(t,e,r){"use strict";var i,n,o=r("758d"),a=r("3589"),s=r("908d"),h=function(t,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function u(t,e){void 0===e&&(e=!0);var r=i.call(this,t[0]instanceof o.q?t[0]:t[0].texture)||this;return r._textures=null,r._durations=null,r._autoUpdate=e,r._isConnectedToTicker=!1,r.animationSpeed=1,r.loop=!0,r.updateAnchor=!1,r.onComplete=null,r.onFrameChange=null,r.onLoop=null,r._currentTime=0,r._playing=!1,r._previousFrame=null,r.textures=t,r}function l(){this.constructor=n}i=a.a,h(n=u,a=i),n.prototype=null===a?Object.create(a):(l.prototype=a.prototype,new l),u.prototype.stop=function(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(s.a.shared.remove(this.update,this),this._isConnectedToTicker=!1))},u.prototype.play=function(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(s.a.shared.add(this.update,this,s.c.HIGH),this._isConnectedToTicker=!0))},u.prototype.gotoAndStop=function(t){this.stop();var e=this.currentFrame;this._currentTime=t,e!==this.currentFrame&&this.updateTexture()},u.prototype.gotoAndPlay=function(t){var e=this.currentFrame;this._currentTime=t,e!==this.currentFrame&&this.updateTexture(),this.play()},u.prototype.update=function(t){if(this._playing){var e=this.animationSpeed*t,r=this.currentFrame;if(null!==this._durations){var i=this._currentTime%1*this._durations[this.currentFrame];for(i+=e/60*1e3;i<0;)this._currentTime--,i+=this._durations[this.currentFrame];var n=Math.sign(this.animationSpeed*t);for(this._currentTime=Math.floor(this._currentTime);i>=this._durations[this.currentFrame];)i-=this._durations[this.currentFrame]*n,this._currentTime+=n;this._currentTime+=i/this._durations[this.currentFrame]}else this._currentTime+=e;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):r!==this.currentFrame&&(this.loop&&this.onLoop&&(0<this.animationSpeed&&this.currentFrame<r||this.animationSpeed<0&&this.currentFrame>r)&&this.onLoop(),this.updateTexture())}},u.prototype.updateTexture=function(){var t=this.currentFrame;this._previousFrame!==t&&(this._previousFrame=t,this._texture=this._textures[t],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))},u.prototype.destroy=function(t){this.stop(),i.prototype.destroy.call(this,t),this.onComplete=null,this.onFrameChange=null,this.onLoop=null},u.fromFrames=function(t){for(var e=[],r=0;r<t.length;++r)e.push(o.q.from(t[r]));return new u(e)},u.fromImages=function(t){for(var e=[],r=0;r<t.length;++r)e.push(o.q.from(t[r]));return new u(e)},Object.defineProperty(u.prototype,"totalFrames",{get:function(){return this._textures.length},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"textures",{get:function(){return this._textures},set:function(t){if(t[0]instanceof o.q)this._textures=t,this._durations=null;else{this._textures=[],this._durations=[];for(var e=0;e<t.length;e++)this._textures.push(t[e].texture),this._durations.push(t[e].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"currentFrame",{get:function(){var t=Math.floor(this._currentTime)%this._textures.length;return t<0&&(t+=this._textures.length),t},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"playing",{get:function(){return this._playing},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isConnectedToTicker?(s.a.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(s.a.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0})},d005:function(t,e,r){"use strict";r.d(e,"a",function(){return O}),r.d(e,"b",function(){return m}),r.d(e,"c",function(){return v}),r.d(e,"d",function(){return u});var O,e=r("3589"),a=r("758d"),s=r("0e1d"),h=r("a47c"),x=r("214a"),i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};(r=O=O||{})[r.LINEAR_VERTICAL=0]="LINEAR_VERTICAL";var n={align:"left",breakWords:!(r[r.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL"),dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:O.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,leading:0},o=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],u=(l.prototype.clone=function(){var t={};return f(t,this,n),new l(t)},l.prototype.reset=function(){f(this,n,n)},Object.defineProperty(l.prototype,"align",{get:function(){return this._align},set:function(t){this._align!==t&&(this._align=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"breakWords",{get:function(){return this._breakWords},set:function(t){this._breakWords!==t&&(this._breakWords=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"dropShadow",{get:function(){return this._dropShadow},set:function(t){this._dropShadow!==t&&(this._dropShadow=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"dropShadowAlpha",{get:function(){return this._dropShadowAlpha},set:function(t){this._dropShadowAlpha!==t&&(this._dropShadowAlpha=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"dropShadowAngle",{get:function(){return this._dropShadowAngle},set:function(t){this._dropShadowAngle!==t&&(this._dropShadowAngle=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"dropShadowBlur",{get:function(){return this._dropShadowBlur},set:function(t){this._dropShadowBlur!==t&&(this._dropShadowBlur=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"dropShadowColor",{get:function(){return this._dropShadowColor},set:function(t){t=d(t);this._dropShadowColor!==t&&(this._dropShadowColor=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"dropShadowDistance",{get:function(){return this._dropShadowDistance},set:function(t){this._dropShadowDistance!==t&&(this._dropShadowDistance=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"fill",{get:function(){return this._fill},set:function(t){t=d(t);this._fill!==t&&(this._fill=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"fillGradientType",{get:function(){return this._fillGradientType},set:function(t){this._fillGradientType!==t&&(this._fillGradientType=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"fillGradientStops",{get:function(){return this._fillGradientStops},set:function(t){!function(t,e){if(!Array.isArray(t)||!Array.isArray(e))return!1;if(t.length!==e.length)return!1;for(var r=0;r<t.length;++r)if(t[r]!==e[r])return!1;return!0}(this._fillGradientStops,t)&&(this._fillGradientStops=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(t){this.fontFamily!==t&&(this._fontFamily=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"fontSize",{get:function(){return this._fontSize},set:function(t){this._fontSize!==t&&(this._fontSize=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(t){this._fontStyle!==t&&(this._fontStyle=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"fontVariant",{get:function(){return this._fontVariant},set:function(t){this._fontVariant!==t&&(this._fontVariant=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"fontWeight",{get:function(){return this._fontWeight},set:function(t){this._fontWeight!==t&&(this._fontWeight=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(t){this._lineHeight!==t&&(this._lineHeight=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"leading",{get:function(){return this._leading},set:function(t){this._leading!==t&&(this._leading=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"lineJoin",{get:function(){return this._lineJoin},set:function(t){this._lineJoin!==t&&(this._lineJoin=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"miterLimit",{get:function(){return this._miterLimit},set:function(t){this._miterLimit!==t&&(this._miterLimit=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"padding",{get:function(){return this._padding},set:function(t){this._padding!==t&&(this._padding=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"stroke",{get:function(){return this._stroke},set:function(t){t=d(t);this._stroke!==t&&(this._stroke=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"strokeThickness",{get:function(){return this._strokeThickness},set:function(t){this._strokeThickness!==t&&(this._strokeThickness=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"textBaseline",{get:function(){return this._textBaseline},set:function(t){this._textBaseline!==t&&(this._textBaseline=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"trim",{get:function(){return this._trim},set:function(t){this._trim!==t&&(this._trim=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"whiteSpace",{get:function(){return this._whiteSpace},set:function(t){this._whiteSpace!==t&&(this._whiteSpace=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"wordWrap",{get:function(){return this._wordWrap},set:function(t){this._wordWrap!==t&&(this._wordWrap=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"wordWrapWidth",{get:function(){return this._wordWrapWidth},set:function(t){this._wordWrapWidth!==t&&(this._wordWrapWidth=t,this.styleID++)},enumerable:!1,configurable:!0}),l.prototype.toFontString=function(){for(var t="number"==typeof this.fontSize?this.fontSize+"px":this.fontSize,e=this.fontFamily,r=(e=!Array.isArray(this.fontFamily)?this.fontFamily.split(","):e).length-1;0<=r;r--){var i=e[r].trim();!/([\"\'])[^\'\"]+\1/.test(i)&&o.indexOf(i)<0&&(i='"'+i+'"'),e[r]=i}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+t+" "+e.join(",")},l);function l(t){this.styleID=0,this.reset(),f(this,t,t)}function c(t){return"number"==typeof t?Object(x.n)(t):t="string"==typeof t&&0===t.indexOf("0x")?t.replace("0x","#"):t}function d(t){if(Array.isArray(t)){for(var e=0;e<t.length;++e)t[e]=c(t[e]);return t}return c(t)}function f(t,e,r){for(var i in r)Array.isArray(e[i])?t[i]=e[i].slice():t[i]=e[i]}var v=(A.measureText=function(t,e,r,i){void 0===i&&(i=A._canvas),r=null==r?e.wordWrap:r;var n=e.toFontString(),o=A.measureFont(n);0===o.fontSize&&(o.fontSize=e.fontSize,o.ascent=e.fontSize);var a=i.getContext("2d");a.font=n;for(var s=(r?A.wordWrap(t,e,i):t).split(/(?:\r\n|\r|\n)/),h=new Array(s.length),u=0,l=0;l<s.length;l++){var c=a.measureText(s[l]).width+(s[l].length-1)*e.letterSpacing;h[l]=c,u=Math.max(u,c)}n=u+e.strokeThickness;e.dropShadow&&(n+=e.dropShadowDistance);r=e.lineHeight||o.fontSize+e.strokeThickness,i=Math.max(r,o.fontSize+e.strokeThickness)+(s.length-1)*(r+e.leading);return e.dropShadow&&(i+=e.dropShadowDistance),new A(t,e,n,i,s,h,r+e.leading,u,o)},A.wordWrap=function(t,e,r){for(var i=(r=void 0===r?A._canvas:r).getContext("2d"),n=0,o="",a="",s=Object.create(null),h=e.letterSpacing,r=e.whiteSpace,u=A.collapseSpaces(r),l=A.collapseNewlines(r),c=!u,d=e.wordWrapWidth+h,f=A.tokenize(t),p=0;p<f.length;p++){var g=f[p];if(A.isNewline(g)){if(!l){a+=A.addLine(o),c=!u,o="",n=0;continue}g=" "}if(u){var _=A.isBreakingSpace(g),m=A.isBreakingSpace(o[o.length-1]);if(_&&m)continue}_=A.getFromCache(g,h,s,i);if(d<_)if(""!==o&&(a+=A.addLine(o),o="",n=0),A.canBreakWords(g,e.breakWords))for(var y=A.wordWrapSplit(g),x=0;x<y.length;x++){for(var v=y[x],b=1;y[x+b];){var T=y[x+b],S=v[v.length-1];if(A.canBreakChars(S,T,g,x,e.breakWords))break;v+=T,b++}x+=v.length-1;var w=A.getFromCache(v,h,s,i);d<w+n&&(a+=A.addLine(o),c=!1,o="",n=0),o+=v,n+=w}else{0<o.length&&(a+=A.addLine(o),o="",n=0);m=p===f.length-1;a+=A.addLine(g,!m),c=!1,o="",n=0}else d<_+n&&(c=!1,a+=A.addLine(o),o="",n=0),(0<o.length||!A.isBreakingSpace(g)||c)&&(o+=g,n+=_)}return a+=A.addLine(o,!1)},A.addLine=function(t,e){return void 0===e&&(e=!0),t=A.trimRight(t),t=e?t+"\n":t},A.getFromCache=function(t,e,r,i){var n=r[t];return"number"!=typeof n&&(e=t.length*e,n=i.measureText(t).width+e,r[t]=n),n},A.collapseSpaces=function(t){return"normal"===t||"pre-line"===t},A.collapseNewlines=function(t){return"normal"===t},A.trimRight=function(t){if("string"!=typeof t)return"";for(var e=t.length-1;0<=e;e--){var r=t[e];if(!A.isBreakingSpace(r))break;t=t.slice(0,-1)}return t},A.isNewline=function(t){return"string"==typeof t&&0<=A._newlines.indexOf(t.charCodeAt(0))},A.isBreakingSpace=function(t,e){return"string"==typeof t&&0<=A._breakingSpaces.indexOf(t.charCodeAt(0))},A.tokenize=function(t){var e=[],r="";if("string"!=typeof t)return e;for(var i=0;i<t.length;i++){var n=t[i],o=t[i+1];A.isBreakingSpace(n,o)||A.isNewline(n)?(""!==r&&(e.push(r),r=""),e.push(n)):r+=n}return""!==r&&e.push(r),e},A.canBreakWords=function(t,e){return e},A.canBreakChars=function(t,e,r,i,n){return!0},A.wordWrapSplit=function(t){return t.split("")},A.measureFont=function(t){if(A._fonts[t])return A._fonts[t];var e={ascent:0,descent:0,fontSize:0},r=A._canvas,i=A._context;i.font=t;var n=A.METRICS_STRING+A.BASELINE_SYMBOL,o=Math.ceil(i.measureText(n).width),a=Math.ceil(i.measureText(A.BASELINE_SYMBOL).width),s=Math.ceil(A.HEIGHT_MULTIPLIER*a),a=a*A.BASELINE_MULTIPLIER|0;r.width=o,r.height=s,i.fillStyle="#f00",i.fillRect(0,0,o,s),i.font=t,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText(n,0,a);for(var h=i.getImageData(0,0,o,s).data,i=h.length,u=4*o,l=0,c=0,d=!1,l=0;l<a;++l){for(var f=0;f<u;f+=4)if(255!==h[c+f]){d=!0;break}if(d)break;c+=u}for(e.ascent=a-l,c=i-u,d=!1,l=s;a<l;--l){for(f=0;f<u;f+=4)if(255!==h[c+f]){d=!0;break}if(d)break;c-=u}return e.descent=l-a,e.fontSize=e.ascent+e.descent,A._fonts[t]=e},A.clearMetrics=function(t){(t=void 0===t?"":t)?delete A._fonts[t]:A._fonts={}},A),r=function(){try{var t=new OffscreenCanvas(0,0),e=t.getContext("2d");return e&&e.measureText?t:document.createElement("canvas")}catch(t){return document.createElement("canvas")}}();function A(t,e,r,i,n,o,a,s,h){this.text=t,this.style=e,this.width=r,this.height=i,this.lines=n,this.lineWidths=o,this.lineHeight=a,this.maxLineWidth=s,this.fontProperties=h}r.width=r.height=10,v._canvas=r,v._context=r.getContext("2d"),v._fonts={},v.METRICS_STRING="|ÉqÅ",v.BASELINE_SYMBOL="M",v.BASELINE_MULTIPLIER=1.4,v.HEIGHT_MULTIPLIER=2,v._newlines=[10,13];var p,g,_={texture:!0,children:!(v._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288]),baseTexture:!0},m=(p=e.a,i(g=b,e=p),g.prototype=null===e?Object.create(e):(y.prototype=e.prototype,new y),b.prototype.updateText=function(t){var e=this._style;if(this.localStyleID!==e.styleID&&(this.dirty=!0,this.localStyleID=e.styleID),this.dirty||!t){this._font=this._style.toFontString();var r,i,n=this.context,o=v.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),t=o.width,a=o.height,s=o.lines,h=o.lineHeight,u=o.lineWidths,l=o.maxLineWidth,c=o.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,t)+2*e.padding)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,a)+2*e.padding)*this._resolution),n.scale(this._resolution,this._resolution),n.clearRect(0,0,this.canvas.width,this.canvas.height),n.font=this._font,n.lineWidth=e.strokeThickness,n.textBaseline=e.textBaseline,n.lineJoin=e.lineJoin,n.miterLimit=e.miterLimit;for(var d=e.dropShadow?2:1,f=0;f<d;++f){var p=e.dropShadow&&0===f,g=p?Math.ceil(Math.max(1,a)+2*e.padding):0,_=g*this._resolution;p?(n.fillStyle="black",n.strokeStyle="black",p=e.dropShadowColor,p=Object(x.m)("number"==typeof p?p:Object(x.B)(p)),n.shadowColor="rgba("+255*p[0]+","+255*p[1]+","+255*p[2]+","+e.dropShadowAlpha+")",n.shadowBlur=e.dropShadowBlur,n.shadowOffsetX=Math.cos(e.dropShadowAngle)*e.dropShadowDistance,n.shadowOffsetY=Math.sin(e.dropShadowAngle)*e.dropShadowDistance+_):(n.fillStyle=this._generateFillStyle(e,s,o),n.strokeStyle=e.stroke,n.shadowColor="black",n.shadowBlur=0,n.shadowOffsetX=0,n.shadowOffsetY=0);var m=(h-c.fontSize)/2;(!b.nextLineHeightBehavior||h-c.fontSize<0)&&(m=0);for(var y=0;y<s.length;y++)r=e.strokeThickness/2,i=e.strokeThickness/2+y*h+c.ascent+m,"right"===e.align?r+=l-u[y]:"center"===e.align&&(r+=(l-u[y])/2),e.stroke&&e.strokeThickness&&this.drawLetterSpacing(s[y],r+e.padding,i+e.padding-g,!0),e.fill&&this.drawLetterSpacing(s[y],r+e.padding,i+e.padding-g)}this.updateTexture()}},b.prototype.drawLetterSpacing=function(t,e,r,i){void 0===i&&(i=!1);var n=this._style.letterSpacing,o="letterSpacing"in CanvasRenderingContext2D.prototype||"textLetterSpacing"in CanvasRenderingContext2D.prototype;if(0===n||o)return o&&(this.context.letterSpacing=n,this.context.textLetterSpacing=n),void(i?this.context.strokeText(t,e,r):this.context.fillText(t,e,r));for(var a=e,s=Array.from?Array.from(t):t.split(""),h=this.context.measureText(t).width,u=0;u<s.length;++u){var l=s[u];i?this.context.strokeText(l,a,r):this.context.fillText(l,a,r),a+=h-(l=this.context.measureText(t.substring(u+1)).width)+n,h=l}},b.prototype.updateTexture=function(){var t=this.canvas;!this._style.trim||(i=Object(x.C)(t)).data&&(t.width=i.width,t.height=i.height,this.context.putImageData(i.data,0,0));var e=this._texture,r=this._style,i=r.trim?0:r.padding,r=e.baseTexture;e.trim.width=e._frame.width=t.width/this._resolution,e.trim.height=e._frame.height=t.height/this._resolution,e.trim.x=-i,e.trim.y=-i,e.orig.width=e._frame.width-2*i,e.orig.height=e._frame.height-2*i,this._onTextureUpdate(),r.setRealSize(t.width,t.height,this._resolution),e.updateUvs(),this._recursivePostUpdateTransform(),this.dirty=!1},b.prototype._render=function(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0),this.updateText(!0),p.prototype._render.call(this,t)},b.prototype.getLocalBounds=function(t){return this.updateText(!0),p.prototype.getLocalBounds.call(this,t)},b.prototype._calculateBounds=function(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)},b.prototype._generateFillStyle=function(t,e,r){var i=t.fill;if(!Array.isArray(i))return i;if(1===i.length)return i[0];var n=t.dropShadow?t.dropShadowDistance:0,o=t.padding||0,a=this.canvas.width/this._resolution-n-2*o,s=this.canvas.height/this._resolution-n-2*o,h=i.slice(),u=t.fillGradientStops.slice();if(!u.length)for(var l=h.length+1,c=1;c<l;++c)u.push(c/l);if(h.unshift(i[0]),u.unshift(0),h.push(i[i.length-1]),u.push(1),t.fillGradientType===O.LINEAR_VERTICAL)for(var d=this.context.createLinearGradient(a/2,o,a/2,s+o),f=r.fontProperties.fontSize+t.strokeThickness,c=0;c<e.length;c++)for(var p=r.lineHeight*(c-1)+f,g=r.lineHeight*c,_=g,m=g+f,y=r.lineHeight*(c+1),x=m,v=((x=c+1<e.length&&y<m?(m+y)/2:x)-(_=0<c&&g<p?(g+p)/2:_))/s,b=0;b<h.length;b++){var T="number"==typeof u[b]?u[b]:b/h.length,T=Math.min(1,Math.max(0,_/s+T*v)),T=Number(T.toFixed(5));d.addColorStop(T,h[b])}else{d=this.context.createLinearGradient(o,s/2,a+o,s/2);var S=h.length+1,w=1;for(c=0;c<h.length;c++){var A="number"==typeof u[c]?u[c]:w/S;d.addColorStop(A,h[c]),w++}}return d},b.prototype.destroy=function(t){"boolean"==typeof t&&(t={children:t}),t=Object.assign({},_,t),p.prototype.destroy.call(this,t),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null},Object.defineProperty(b.prototype,"width",{get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},set:function(t){this.updateText(!0);var e=Object(x.A)(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"height",{get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function(t){this.updateText(!0);var e=Object(x.A)(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"style",{get:function(){return this._style},set:function(t){this._style=(t=t||{})instanceof u?t:new u(t),this.localStyleID=-1,this.dirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"text",{get:function(){return this._text},set:function(t){t=String(null==t?"":t),this._text!==t&&(this._text=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"resolution",{get:function(){return this._resolution},set:function(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)},enumerable:!1,configurable:!0}),b.nextLineHeightBehavior=!1,b);function b(t,e,r){var i=this,n=!1;r||(r=document.createElement("canvas"),n=!0),r.width=3,r.height=3;var o=a.q.from(r);return o.orig=new h.j,o.trim=new h.j,(i=p.call(this,o)||this)._ownCanvas=n,i.canvas=r,i.context=i.canvas.getContext("2d"),i._resolution=s.b.RESOLUTION,i._autoResolution=!0,i._text=null,i._style=null,i._styleListener=null,i._font="",i.text=t,i.style=e,i.localStyleID=-1,i}function y(){this.constructor=g}},d1a3:function(t,e,r){"use strict";r.d(e,"a",function(){return f});var $=r("a47c"),h=r("0e1d"),tt=r("0d10"),et=r("214a"),rt=r("758d"),P=r("d005"),it=r("0a92"),i=r("a96b"),p=r("5d77"),n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};var M=function(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]},e=(l.test=function(t){return"string"==typeof t&&0===t.indexOf("info face=")},l.parse=function(t){var e,r=t.match(/^[a-z]+\s+.+$/gm),i={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(e in r){var n,o=r[e].match(/^[a-z]+/gm)[0],a=r[e].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),s={};for(n in a){var h=a[n].split("="),u=h[0],l=h[1].replace(/"/gm,""),h=parseFloat(l),h=isNaN(h)?l:h;s[u]=h}i[o].push(s)}var c=new M;return i.info.forEach(function(t){return c.info.push({face:t.face,size:parseInt(t.size,10)})}),i.common.forEach(function(t){return c.common.push({lineHeight:parseInt(t.lineHeight,10)})}),i.page.forEach(function(t){return c.page.push({id:parseInt(t.id,10),file:t.file})}),i.char.forEach(function(t){return c.char.push({id:parseInt(t.id,10),page:parseInt(t.page,10),x:parseInt(t.x,10),y:parseInt(t.y,10),width:parseInt(t.width,10),height:parseInt(t.height,10),xoffset:parseInt(t.xoffset,10),yoffset:parseInt(t.yoffset,10),xadvance:parseInt(t.xadvance,10)})}),i.kerning.forEach(function(t){return c.kerning.push({first:parseInt(t.first,10),second:parseInt(t.second,10),amount:parseInt(t.amount,10)})}),i.distanceField.forEach(function(t){return c.distanceField.push({distanceRange:parseInt(t.distanceRange,10),fieldType:t.fieldType})}),c},l),o=(u.test=function(t){return t instanceof XMLDocument&&t.getElementsByTagName("page").length&&null!==t.getElementsByTagName("info")[0].getAttribute("face")},u.parse=function(t){for(var e=new M,r=t.getElementsByTagName("info"),i=t.getElementsByTagName("common"),n=t.getElementsByTagName("page"),o=t.getElementsByTagName("char"),a=t.getElementsByTagName("kerning"),s=t.getElementsByTagName("distanceField"),h=0;h<r.length;h++)e.info.push({face:r[h].getAttribute("face"),size:parseInt(r[h].getAttribute("size"),10)});for(h=0;h<i.length;h++)e.common.push({lineHeight:parseInt(i[h].getAttribute("lineHeight"),10)});for(h=0;h<n.length;h++)e.page.push({id:parseInt(n[h].getAttribute("id"),10)||0,file:n[h].getAttribute("file")});for(h=0;h<o.length;h++){var u=o[h];e.char.push({id:parseInt(u.getAttribute("id"),10),page:parseInt(u.getAttribute("page"),10)||0,x:parseInt(u.getAttribute("x"),10),y:parseInt(u.getAttribute("y"),10),width:parseInt(u.getAttribute("width"),10),height:parseInt(u.getAttribute("height"),10),xoffset:parseInt(u.getAttribute("xoffset"),10),yoffset:parseInt(u.getAttribute("yoffset"),10),xadvance:parseInt(u.getAttribute("xadvance"),10)})}for(h=0;h<a.length;h++)e.kerning.push({first:parseInt(a[h].getAttribute("first"),10),second:parseInt(a[h].getAttribute("second"),10),amount:parseInt(a[h].getAttribute("amount"),10)});for(h=0;h<s.length;h++)e.distanceField.push({fieldType:s[h].getAttribute("fieldType"),distanceRange:parseInt(s[h].getAttribute("distanceRange"),10)});return e},u),r=(s.test=function(t){if("string"==typeof t&&-1<t.indexOf("<font>")){t=(new self.DOMParser).parseFromString(t,"text/xml");return o.test(t)}return!1},s.parse=function(t){t=(new self.DOMParser).parseFromString(t,"text/xml");return o.parse(t)},s),a=[e,o,r];function s(){}function u(){}function l(){}function g(t){for(var e=0;e<a.length;e++)if(a[e].test(t))return a[e];return null}function L(t,e,r,i,n,o,a){var s=r.text,h=r.fontProperties;e.translate(i,n),e.scale(o,o);i=a.strokeThickness/2,n=-a.strokeThickness/2;e.font=a.toFontString(),e.lineWidth=a.strokeThickness,e.textBaseline=a.textBaseline,e.lineJoin=a.lineJoin,e.miterLimit=a.miterLimit,e.fillStyle=function(t,e,r,i,n,o){var a=r.fill;if(!Array.isArray(a))return a;if(1===a.length)return a[0];var s=r.dropShadow?r.dropShadowDistance:0,h=r.padding||0,u=t.width/i-s-2*h,l=t.height/i-s-2*h,c=a.slice(),d=r.fillGradientStops.slice();if(!d.length)for(var f=c.length+1,p=1;p<f;++p)d.push(p/f);if(c.unshift(a[0]),d.unshift(0),c.push(a[a.length-1]),d.push(1),r.fillGradientType===P.a.LINEAR_VERTICAL)for(var g=e.createLinearGradient(u/2,h,u/2,l+h),_=0,m=(o.fontProperties.fontSize+r.strokeThickness)/l,p=0;p<n.length;p++)for(var y=o.lineHeight*p,x=0;x<c.length;x++){var v="number"==typeof d[x]?d[x]:x/c.length,v=Math.max(_,y/l+v*m),v=Math.min(v,1);g.addColorStop(v,c[x]),_=v}else{g=e.createLinearGradient(h,l/2,u+h,l/2);var b=c.length+1,T=1;for(p=0;p<c.length;p++){var S="number"==typeof d[p]?d[p]:T/b;g.addColorStop(S,c[p]),T++}}return g}(t,e,a,o,[s],r),e.strokeStyle=a.stroke;o=a.dropShadowColor,o=Object(et.m)("number"==typeof o?o:Object(et.B)(o));a.dropShadow?(e.shadowColor="rgba("+255*o[0]+","+255*o[1]+","+255*o[2]+","+a.dropShadowAlpha+")",e.shadowBlur=a.dropShadowBlur,e.shadowOffsetX=Math.cos(a.dropShadowAngle)*a.dropShadowDistance,e.shadowOffsetY=Math.sin(a.dropShadowAngle)*a.dropShadowDistance):(e.shadowColor="black",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0),a.stroke&&a.strokeThickness&&e.strokeText(s,i,n+r.lineHeight-h.descent),a.fill&&e.fillText(s,i,n+r.lineHeight-h.descent),e.setTransform(1,0,0,1,0,0),e.fillStyle="rgba(0, 0, 0, 0)"}function nt(t){return Array.from?Array.from(t):t.split("")}function ot(t){return t.codePointAt?t.codePointAt(0):t.charCodeAt(0)}var c,d,at=(D.prototype.destroy=function(){for(var t in this.chars)this.chars[t].texture.destroy(),this.chars[t].texture=null;for(var t in this.pageTextures)this._ownsTextures&&this.pageTextures[t].destroy(!0),this.pageTextures[t]=null;this.chars=null,this.pageTextures=null},D.install=function(t,e,r){var i;if(t instanceof M)i=t;else{var n=g(t);if(!n)throw new Error("Unrecognized data format for font.");i=n.parse(t)}r=new D(i,e=e instanceof rt.q?[e]:e,r);return D.available[r.font]=r},D.uninstall=function(t){var e=D.available[t];if(!e)throw new Error("No font found named '"+t+"'");e.destroy(),delete D.available[t]},D.from=function(t,e,r){if(!t)throw new Error("[BitmapFont] Property `name` is required.");var i=Object.assign({},D.defaultOptions,r),r=i.chars,n=i.padding,o=i.resolution,a=i.textureWidth,s=i.textureHeight,h=function(t){for(var e=[],r=0,i=(t="string"==typeof t?[t]:t).length;r<i;r++){var n=t[r];if(Array.isArray(n)){if(2!==n.length)throw new Error("[BitmapFont]: Invalid character range length, expecting 2 got "+n.length+".");var o=n[0].charCodeAt(0),a=n[1].charCodeAt(0);if(a<o)throw new Error("[BitmapFont]: Invalid character range.");for(var s=o,h=a;s<=h;s++)e.push(String.fromCharCode(s))}else e.push.apply(e,nt(n))}if(0===e.length)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}(r),u=e instanceof P.d?e:new P.d(e),l=a,c=new M;c.info[0]={face:u.fontFamily,size:u.fontSize},c.common[0]={lineHeight:u.fontSize};for(var d,f,p,g=0,_=0,m=0,y=[],x=0;x<h.length;x++){d||((d=document.createElement("canvas")).width=a,d.height=s,f=d.getContext("2d"),p=new rt.a(d,{resolution:o}),y.push(new rt.q(p)),c.page.push({id:y.length-1,file:""}));var v=P.c.measureText(h[x],u,!1,d),b=v.width,T=Math.ceil(v.height),S=Math.ceil(("italic"===u.fontStyle?2:1)*b);if(s-T*o<=_){if(0===_)throw new Error("[BitmapFont] textureHeight "+s+"px is too small for "+u.fontSize+"px fonts");--x,p=f=d=null,m=g=_=0}else m=Math.max(T+v.fontProperties.descent,m),l<=S*o+g?(--x,_+=m*o,_=Math.ceil(_),m=g=0):(L(d,f,v,g,_,o,u),v=ot(v.text),c.char.push({id:v,page:y.length-1,x:g/o,y:_/o,width:S,height:T,xoffset:0,yoffset:0,xadvance:Math.ceil(b-(u.dropShadow?u.dropShadowDistance:0)-(u.stroke?u.strokeThickness:0))}),g+=(S+2*n)*o,g=Math.ceil(g))}for(var x=0,w=h.length;x<w;x++)for(var A=h[x],O=0;O<w;O++){var I=h[O],E=f.measureText(A).width,C=f.measureText(I).width,C=f.measureText(A+I).width-(E+C);C&&c.kerning.push({first:ot(A),second:ot(I),amount:C})}e=new D(c,y,!0);return void 0!==D.available[t]&&D.uninstall(t),D.available[t]=e},D.ALPHA=[["a","z"],["A","Z"]," "],D.NUMERIC=[["0","9"]],D.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],D.ASCII=[[" ","~"]],D.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:D.ALPHANUMERIC},D.available={},D),st=[],ht=[],ut=[],f=(c=i.b,n(d=m,i=c),d.prototype=null===i?Object.create(i):(y.prototype=i.prototype,new y),m.prototype.updateText=function(){for(var t=at.available[this._fontName],e=this._fontSize/t.size,r=new $.g,i=[],n=[],o=[],a=nt(this._text.replace(/(?:\r\n|\r)/g,"\n")||" "),s=this._maxWidth*t.size/this._fontSize,h="none"===t.distanceFieldType?st:ht,u=null,l=0,c=0,d=0,f=-1,p=0,g=0,_=0,m=0,y=0;y<a.length;y++){var x,v,b=a[y],T=ot(b);/(?:\s)/.test(b)&&(f=y,p=l,m++),"\r"!==b&&"\n"!==b?(x=t.chars[T])&&(u&&x.kerning[u]&&(r.x+=x.kerning[u]),(v=ut.pop()||{texture:rt.q.EMPTY,line:0,charCode:0,prevSpaces:0,position:new $.g}).texture=x.texture,v.line=d,v.charCode=T,v.position.x=r.x+x.xOffset+this._letterSpacing/2,v.position.y=r.y+x.yOffset,v.prevSpaces=m,i.push(v),l=v.position.x+x.texture.orig.width,r.x+=x.xAdvance+this._letterSpacing,_=Math.max(_,x.yOffset+x.texture.height),u=T,-1!==f&&0<s&&r.x>s&&(++g,Object(et.x)(i,1+f-g,1+y-f),y=f,f=-1,n.push(p),o.push(0<i.length?i[i.length-1].prevSpaces:0),c=Math.max(c,p),d++,r.x=0,r.y+=t.lineHeight,u=null,m=0)):(n.push(l),o.push(-1),c=Math.max(c,l),++d,++g,r.x=0,r.y+=t.lineHeight,u=null,m=0)}var S=a[a.length-1];"\r"!==S&&"\n"!==S&&(/(?:\s)/.test(S)&&(l=p),n.push(l),c=Math.max(c,l),o.push(-1));var w=[];for(y=0;y<=d;y++){var A=0;"right"===this._align?A=c-n[y]:"center"===this._align?A=(c-n[y])/2:"justify"===this._align&&(A=o[y]<0?0:(c-n[y])/o[y]),w.push(A)}var O=i.length,I={},E=[],C=this._activePagesMeshData;for(y=0;y<C.length;y++)h.push(C[y]);for(y=0;y<O;y++){var P,M,L,D=i[y].texture,R=D.baseTexture.uid;I[R]||((N=h.pop())||(P=new tt.b,M=L=void 0,M="none"===t.distanceFieldType?(L=new tt.c(rt.q.EMPTY),it.b.NORMAL):(L=new tt.c(rt.q.EMPTY,{program:rt.k.from("// Mesh material default fragment\r\nattribute vec2 aVertexPosition;\r\nattribute vec2 aTextureCoord;\r\n\r\nuniform mat3 projectionMatrix;\r\nuniform mat3 translationMatrix;\r\nuniform mat3 uTextureMatrix;\r\n\r\nvarying vec2 vTextureCoord;\r\n\r\nvoid main(void)\r\n{\r\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r\n\r\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r\n}\r\n","// Pixi texture info\r\nvarying vec2 vTextureCoord;\r\nuniform sampler2D uSampler;\r\n\r\n// Tint\r\nuniform vec4 uColor;\r\n\r\n// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r\nuniform float uFWidth;\r\n\r\nvoid main(void) {\r\n\r\n  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r\n  vec4 texColor = texture2D(uSampler, vTextureCoord);\r\n\r\n  // MSDF\r\n  float median = texColor.r + texColor.g + texColor.b -\r\n                  min(texColor.r, min(texColor.g, texColor.b)) -\r\n                  max(texColor.r, max(texColor.g, texColor.b));\r\n  // SDF\r\n  median = min(median, texColor.a);\r\n\r\n  float screenPxDistance = uFWidth * (median - 0.5);\r\n  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r\n\r\n  // NPM Textures, NPM outputs\r\n  gl_FragColor = vec4(uColor.rgb, uColor.a * alpha);\r\n\r\n}\r\n"),uniforms:{uFWidth:0}}),it.b.NORMAL_NPM),(L=new tt.a(P,L)).blendMode=M,N={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:L,vertices:null,uvs:null,indices:null}),N.index=0,N.indexCount=0,N.vertexCount=0,N.uvsCount=0,N.total=0,(L=this._textureCache)[R]=L[R]||new rt.q(D.baseTexture),N.mesh.texture=L[R],N.mesh.tint=this._tint,E.push(N),I[R]=N),I[R].total++}for(y=0;y<C.length;y++)-1===E.indexOf(C[y])&&this.removeChild(C[y].mesh);for(y=0;y<E.length;y++)E[y].mesh.parent!==this&&this.addChild(E[y].mesh);for(y in this._activePagesMeshData=E,I){var N,k=(N=I[y]).total;if(!((null===(F=N.indices)||void 0===F?void 0:F.length)>6*k)||N.vertices.length<2*tt.a.BATCHABLE_SIZE)N.vertices=new Float32Array(8*k),N.uvs=new Float32Array(8*k),N.indices=new Uint16Array(6*k);else for(var F=N.total,j=N.vertices,B=4*F*2;B<j.length;B++)j[B]=0;N.mesh.size=6*k}for(y=0;y<O;y++){var U=(b=i[y]).position.x+w[b.line]*("justify"===this._align?b.prevSpaces:1),H=(U=this._roundPixels?Math.round(U):U)*e,W=b.position.y*e,z=I[(D=b.texture).baseTexture.uid],G=D.frame,V=D._uvs,U=z.index++;z.indices[6*U+0]=0+4*U,z.indices[6*U+1]=1+4*U,z.indices[6*U+2]=2+4*U,z.indices[6*U+3]=0+4*U,z.indices[6*U+4]=2+4*U,z.indices[6*U+5]=3+4*U,z.vertices[8*U+0]=H,z.vertices[8*U+1]=W,z.vertices[8*U+2]=H+G.width*e,z.vertices[8*U+3]=W,z.vertices[8*U+4]=H+G.width*e,z.vertices[8*U+5]=W+G.height*e,z.vertices[8*U+6]=H,z.vertices[8*U+7]=W+G.height*e,z.uvs[8*U+0]=V.x0,z.uvs[8*U+1]=V.y0,z.uvs[8*U+2]=V.x1,z.uvs[8*U+3]=V.y1,z.uvs[8*U+4]=V.x2,z.uvs[8*U+5]=V.y2,z.uvs[8*U+6]=V.x3,z.uvs[8*U+7]=V.y3}for(y in this._textWidth=c*e,this._textHeight=(r.y+t.lineHeight)*e,I){if(N=I[y],0!==this.anchor.x||0!==this.anchor.y)for(var Y=0,X=this._textWidth*this.anchor.x,q=this._textHeight*this.anchor.y,J=0;J<N.total;J++)N.vertices[Y++]-=X,N.vertices[Y++]-=q,N.vertices[Y++]-=X,N.vertices[Y++]-=q,N.vertices[Y++]-=X,N.vertices[Y++]-=q,N.vertices[Y++]-=X,N.vertices[Y++]-=q;this._maxLineHeight=_*e;var Z=N.mesh.geometry.getBuffer("aVertexPosition"),K=N.mesh.geometry.getBuffer("aTextureCoord"),Q=N.mesh.geometry.getIndex();Z.data=N.vertices,K.data=N.uvs,Q.data=N.indices,Z.update(),K.update(),Q.update()}for(y=0;y<i.length;y++)ut.push(i[y])},m.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},m.prototype._render=function(t){var e=at.available[this._fontName],r=e.distanceFieldRange,i=e.distanceFieldType,n=e.size;if("none"!==i)for(var o=this.worldTransform,a=o.a,e=o.b,i=o.c,o=o.d,e=Math.sqrt(a*a+e*e),o=Math.sqrt(i*i+o*o),s=(Math.abs(e)+Math.abs(o))/2,h=this._fontSize/n,u=0,l=this._activePagesMeshData;u<l.length;u++)l[u].mesh.shader.uniforms.uFWidth=s*r*h*t.resolution;c.prototype._render.call(this,t)},m.prototype.getLocalBounds=function(){return this.validate(),c.prototype.getLocalBounds.call(this)},m.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},Object.defineProperty(m.prototype,"tint",{get:function(){return this._tint},set:function(t){if(this._tint!==t){this._tint=t;for(var e=0;e<this._activePagesMeshData.length;e++)this._activePagesMeshData[e].mesh.tint=t}},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"align",{get:function(){return this._align},set:function(t){this._align!==t&&(this._align=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"fontName",{get:function(){return this._fontName},set:function(t){if(!at.available[t])throw new Error('Missing BitmapFont "'+t+'"');this._fontName!==t&&(this._fontName=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"fontSize",{get:function(){return this._fontSize},set:function(t){this._fontSize!==t&&(this._fontSize=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"anchor",{get:function(){return this._anchor},set:function(t){"number"==typeof t?this._anchor.set(t):this._anchor.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"text",{get:function(){return this._text},set:function(t){t=String(null==t?"":t),this._text!==t&&(this._text=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"maxWidth",{get:function(){return this._maxWidth},set:function(t){this._maxWidth!==t&&(this._maxWidth=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"maxLineHeight",{get:function(){return this.validate(),this._maxLineHeight},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"textWidth",{get:function(){return this.validate(),this._textWidth},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(t){t!==this._roundPixels&&(this._roundPixels=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"textHeight",{get:function(){return this.validate(),this._textHeight},enumerable:!1,configurable:!0}),m.prototype.destroy=function(t){var e,r=this._textureCache;for(e in r)r[e].destroy(),delete r[e];this._textureCache=null,c.prototype.destroy.call(this,t)},m.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0},_.add=function(){p.c.setExtensionXhrType("fnt",p.c.XHR_RESPONSE_TYPE.TEXT)},_.use=function(e,r){var t=g(e.data);if(t)for(var i=_.getBaseUrl(this,e),n=t.parse(e.data),o={},a=function(t){o[t.metadata.pageFile]=t.texture,Object.keys(o).length===n.page.length&&(e.bitmapFont=at.install(n,o,!0),r())},s=0;s<n.page.length;++s){var h,u,l=n.page[s].file,c=i+l,d=!1;for(h in this.resources){var f=this.resources[h];if(f.url===c){f.metadata.pageFile=l,f.texture?a(f):f.onAfterMiddleware.add(a),d=!0;break}}d||(u={crossOrigin:e.crossOrigin,loadType:p.c.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:l},e.metadata.imageMetadata),parentResource:e},this.add(c,u,a))}else r()},_.getBaseUrl=function(t,e){var r=e.isDataUrl?"":_.dirname(e.url);return e.isDataUrl&&("."===r&&(r=""),t.baseUrl&&r&&"/"===t.baseUrl.charAt(t.baseUrl.length-1)&&(r+="/")),(r=r.replace(t.baseUrl,""))&&"/"!==r.charAt(r.length-1)&&(r+="/"),r},_.dirname=function(t){var e=t.replace(/\\/g,"/").replace(/\/$/,"").replace(/\/[^\/]*$/,"");return e===t?".":""===e?"/":e},_);function _(){}function m(t,e){void 0===e&&(e={});var r=c.call(this)||this;r._tint=16777215;var i=Object.assign({},m.styleDefaults,e),n=i.align,o=i.tint,a=i.maxWidth,s=i.letterSpacing,e=i.fontName,i=i.fontSize;if(!at.available[e])throw new Error('Missing BitmapFont "'+e+'"');return r._activePagesMeshData=[],r._textWidth=0,r._textHeight=0,r._align=n,r._tint=o,r._fontName=e,r._fontSize=i||at.available[e].size,r._text=t,r._maxWidth=a,r._maxLineHeight=0,r._letterSpacing=s,r._anchor=new $.e(function(){r.dirty=!0},r,0,0),r._roundPixels=h.b.ROUND_PIXELS,r.dirty=!0,r._textureCache={},r}function y(){this.constructor=d}function D(t,e,r){var i=t.info[0],n=t.common[0],o=t.page[0],a=t.distanceField[0],s=Object(et.l)(o.file),h={};this._ownsTextures=r,this.font=i.face,this.size=i.size,this.lineHeight=n.lineHeight/s,this.chars={},this.pageTextures=h;for(var u=0;u<t.page.length;u++){var l=t.page[u],c=l.id,l=l.file;h[c]=e instanceof Array?e[u]:e[l],null!=a&&a.fieldType&&"none"!==a.fieldType&&(h[c].baseTexture.alphaMode=it.a.NO_PREMULTIPLIED_ALPHA)}for(u=0;u<t.char.length;u++){var d=t.char[u],f=(c=d.id,d.page),p=t.char[u],g=p.x,_=p.y,m=p.width,y=p.height,x=p.xoffset,d=p.yoffset,p=p.xadvance;g/=s,_/=s,m/=s,y/=s,x/=s,d/=s,p/=s;y=new $.j(g+h[f].frame.x/s,_+h[f].frame.y/s,m,y);this.chars[c]={xOffset:x,yOffset:d,xAdvance:p,kerning:{},texture:new rt.q(h[f].baseTexture,y),page:f}}for(u=0;u<t.kerning.length;u++){var v=t.kerning[u],b=v.first,T=v.second,v=v.amount;b/=s,T/=s,v/=s,this.chars[T]&&(this.chars[T].kerning[b]=v)}this.distanceFieldRange=null==a?void 0:a.distanceRange,this.distanceFieldType=null!==(n=null===(n=null==a?void 0:a.fieldType)||void 0===n?void 0:n.toLowerCase())&&void 0!==n?n:"none"}}}]);
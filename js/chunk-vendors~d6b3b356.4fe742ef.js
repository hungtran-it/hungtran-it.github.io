(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-vendors~d6b3b356"],{2606:function(e,r,t){"use strict";t.r(r),t.d(r,"Provider",function(){return i.b}),t.d(r,"BaseProvider",function(){return Z}),t.d(r,"Resolver",function(){return z}),t.d(r,"UrlJsonRpcProvider",function(){return wt}),t.d(r,"FallbackProvider",function(){return Zt}),t.d(r,"AlchemyProvider",function(){return Nt}),t.d(r,"AlchemyWebSocketProvider",function(){return Et}),t.d(r,"CloudflareProvider",function(){return jt}),t.d(r,"EtherscanProvider",function(){return Lt}),t.d(r,"InfuraProvider",function(){return ne}),t.d(r,"InfuraWebSocketProvider",function(){return re}),t.d(r,"JsonRpcProvider",function(){return ht}),t.d(r,"JsonRpcBatchProvider",function(){return oe}),t.d(r,"NodesmithProvider",function(){return se}),t.d(r,"PocketProvider",function(){return le}),t.d(r,"StaticJsonRpcProvider",function(){return kt}),t.d(r,"Web3Provider",function(){return fe}),t.d(r,"WebSocketProvider",function(){return bt}),t.d(r,"IpcProvider",function(){return Yt}),t.d(r,"JsonRpcSigner",function(){return ct}),t.d(r,"getDefaultProvider",function(){return pe}),t.d(r,"getNetwork",function(){return d}),t.d(r,"isCommunityResource",function(){return I}),t.d(r,"isCommunityResourcable",function(){return R}),t.d(r,"showThrottleMessage",function(){return x}),t.d(r,"Formatter",function(){return T});var i=t("edaa"),h=t("ffb2");const o=new h.b("networks/5.5.2");function n(o){function t(e,r){null==r&&(r={});const n=[];if(e.InfuraProvider)try{n.push(new e.InfuraProvider(o,r.infura))}catch(t){}if(e.EtherscanProvider)try{n.push(new e.EtherscanProvider(o,r.etherscan))}catch(t){}if(e.AlchemyProvider)try{n.push(new e.AlchemyProvider(o,r.alchemy))}catch(t){}if(e.PocketProvider){const r=["goerli","ropsten","rinkeby"];try{var t=new e.PocketProvider(o);t.network&&-1===r.indexOf(t.network.name)&&n.push(t)}catch(t){}}if(e.CloudflareProvider)try{n.push(new e.CloudflareProvider(o))}catch(t){}if(0===n.length)return null;if(e.FallbackProvider){let t=1;return null!=r.quorum?t=r.quorum:"homestead"===o&&(t=2),new e.FallbackProvider(n,t)}return n[0]}return t.renetwork=n,t}function s(r,n){function t(t,e){return t.JsonRpcProvider?new t.JsonRpcProvider(r,n):null}return t.renetwork=function(t){return s(r,t)},t}const a={chainId:1,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"homestead",_defaultProvider:n("homestead")},c={chainId:3,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"ropsten",_defaultProvider:n("ropsten")},l={chainId:63,name:"classicMordor",_defaultProvider:s("https://www.ethercluster.com/mordor","classicMordor")},u={unspecified:{chainId:0,name:"unspecified"},homestead:a,mainnet:a,morden:{chainId:2,name:"morden"},ropsten:c,testnet:c,rinkeby:{chainId:4,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"rinkeby",_defaultProvider:n("rinkeby")},kovan:{chainId:42,name:"kovan",_defaultProvider:n("kovan")},goerli:{chainId:5,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"goerli",_defaultProvider:n("goerli")},kintsugi:{chainId:1337702,name:"kintsugi"},classic:{chainId:61,name:"classic",_defaultProvider:s("https://www.ethercluster.com/etc","classic")},classicMorden:{chainId:62,name:"classicMorden"},classicMordor:l,classicTestnet:l,classicKotti:{chainId:6,name:"classicKotti",_defaultProvider:s("https://www.ethercluster.com/kotti","classicKotti")},xdai:{chainId:100,name:"xdai"},matic:{chainId:137,name:"matic"},maticmum:{chainId:80001,name:"maticmum"},optimism:{chainId:10,name:"optimism"},"optimism-kovan":{chainId:69,name:"optimism-kovan"},"optimism-goerli":{chainId:420,name:"optimism-goerli"},arbitrum:{chainId:42161,name:"arbitrum"},"arbitrum-rinkeby":{chainId:421611,name:"arbitrum-rinkeby"},bnb:{chainId:56,name:"bnb"},bnbt:{chainId:97,name:"bnbt"}};function d(t){if(null==t)return null;if("number"==typeof t){for(const e in u){const r=u[e];if(r.chainId===t)return{name:r.name,chainId:r.chainId,ensAddress:r.ensAddress||null,_defaultProvider:r._defaultProvider||null}}return{chainId:t,name:"unknown"}}if("string"==typeof t){const e=u[t];return null==e?null:{name:e.name,chainId:e.chainId,ensAddress:e.ensAddress,_defaultProvider:e._defaultProvider||null}}const e=u[t.name];if(!e)return"number"!=typeof t.chainId&&o.throwArgumentError("invalid network chainId","network",t),t;0!==t.chainId&&t.chainId!==e.chainId&&o.throwArgumentError("network chainId mismatch","network",t);let r=t._defaultProvider||null;return null==r&&e._defaultProvider&&(r=(n=e._defaultProvider)&&"function"==typeof n.renetwork?e._defaultProvider.renetwork(t):e._defaultProvider),{name:t.name,chainId:e.chainId,ensAddress:t.ensAddress||e.ensAddress||null,_defaultProvider:r};var n}var f=t("2cf2"),p=t("e36d"),b=t("549e"),m=t("4877"),g=t("0a7f"),v=t("9bda"),k=t("3796"),w=t("5273"),y=t("baf7"),_=t("bf2b"),E=t.n(_),r="providers/5.5.3",N=t("3b1c"),O=t("c00b"),P=t("5ac3");const j=new h.b(r);class T{constructor(){j.checkNew(new.target,T),this.formats=this.getDefaultFormats()}getDefaultFormats(){const t={},e=this.address.bind(this),r=this.bigNumber.bind(this),n=this.blockTag.bind(this),o=this.data.bind(this),i=this.hash.bind(this),s=this.hex.bind(this),a=this.number.bind(this),c=this.type.bind(this);return t.transaction={hash:i,type:c,accessList:T.allowNull(this.accessList.bind(this),null),blockHash:T.allowNull(i,null),blockNumber:T.allowNull(a,null),transactionIndex:T.allowNull(a,null),confirmations:T.allowNull(a,null),from:e,gasPrice:T.allowNull(r),maxPriorityFeePerGas:T.allowNull(r),maxFeePerGas:T.allowNull(r),gasLimit:r,to:T.allowNull(e,null),value:r,nonce:a,data:o,r:T.allowNull(this.uint256),s:T.allowNull(this.uint256),v:T.allowNull(a),creates:T.allowNull(e,null),raw:T.allowNull(o)},t.transactionRequest={from:T.allowNull(e),nonce:T.allowNull(a),gasLimit:T.allowNull(r),gasPrice:T.allowNull(r),maxPriorityFeePerGas:T.allowNull(r),maxFeePerGas:T.allowNull(r),to:T.allowNull(e),value:T.allowNull(r),data:T.allowNull(t=>this.data(t,!0)),type:T.allowNull(a),accessList:T.allowNull(this.accessList.bind(this),null)},t.receiptLog={transactionIndex:a,blockNumber:a,transactionHash:i,address:e,topics:T.arrayOf(i),data:o,logIndex:a,blockHash:i},t.receipt={to:T.allowNull(this.address,null),from:T.allowNull(this.address,null),contractAddress:T.allowNull(e,null),transactionIndex:a,root:T.allowNull(s),gasUsed:r,logsBloom:T.allowNull(o),blockHash:i,transactionHash:i,logs:T.arrayOf(this.receiptLog.bind(this)),blockNumber:a,confirmations:T.allowNull(a,null),cumulativeGasUsed:r,effectiveGasPrice:T.allowNull(r),status:T.allowNull(a),type:c},t.block={hash:i,parentHash:i,number:a,timestamp:a,nonce:T.allowNull(s),difficulty:this.difficulty.bind(this),gasLimit:r,gasUsed:r,miner:e,extraData:o,transactions:T.allowNull(T.arrayOf(i)),baseFeePerGas:T.allowNull(r)},t.blockWithTransactions=Object(v.g)(t.block),t.blockWithTransactions.transactions=T.allowNull(T.arrayOf(this.transactionResponse.bind(this))),t.filter={fromBlock:T.allowNull(n,void 0),toBlock:T.allowNull(n,void 0),blockHash:T.allowNull(i,void 0),address:T.allowNull(e,void 0),topics:T.allowNull(this.topics.bind(this),void 0)},t.filterLog={blockNumber:T.allowNull(a),blockHash:T.allowNull(i),transactionIndex:a,removed:T.allowNull(this.boolean.bind(this)),address:e,data:T.allowFalsish(o,"0x"),topics:T.arrayOf(i),transactionHash:i,logIndex:a},t}accessList(t){return Object(P.accessListify)(t||[])}number(t){return"0x"===t?0:p.a.from(t).toNumber()}type(t){return"0x"===t||null==t?0:p.a.from(t).toNumber()}bigNumber(t){return p.a.from(t)}boolean(t){if("boolean"==typeof t)return t;if("string"==typeof t){if("true"===(t=t.toLowerCase()))return!0;if("false"===t)return!1}throw new Error("invalid boolean - "+t)}hex(t,e){return"string"==typeof t&&(e||"0x"===t.substring(0,2)||(t="0x"+t),Object(b.l)(t))?t.toLowerCase():j.throwArgumentError("invalid hash","value",t)}data(t,e){e=this.hex(t,e);if(e.length%2!=0)throw new Error("invalid data; odd-length - "+t);return e}address(t){return Object(N.a)(t)}callAddress(t){if(!Object(b.l)(t,32))return null;t=Object(N.a)(Object(b.e)(t,12));return t===O.a?null:t}contractAddress(t){return Object(N.b)(t)}blockTag(t){if(null==t)return"latest";if("earliest"===t)return"0x0";if("latest"===t||"pending"===t)return t;if("number"==typeof t||Object(b.l)(t))return Object(b.g)(t);throw new Error("invalid blockTag")}hash(t,e){e=this.hex(t,e);return 32!==Object(b.d)(e)?j.throwArgumentError("invalid hash","value",t):e}difficulty(t){if(null==t)return null;const e=p.a.from(t);try{return e.toNumber()}catch(t){}return null}uint256(t){if(!Object(b.l)(t))throw new Error("invalid uint256");return Object(b.h)(t,32)}_block(t,e){null!=t.author&&null==t.miner&&(t.miner=t.author);const r=null!=t._difficulty?t._difficulty:t.difficulty,n=T.check(e,t);return n._difficulty=null==r?null:p.a.from(r),n}block(t){return this._block(t,this.formats.block)}blockWithTransactions(t){return this._block(t,this.formats.blockWithTransactions)}transactionRequest(t){return T.check(this.formats.transactionRequest,t)}transactionResponse(e){null!=e.gas&&null==e.gasLimit&&(e.gasLimit=e.gas),e.to&&p.a.from(e.to).isZero()&&(e.to="0x0000000000000000000000000000000000000000"),null!=e.input&&null==e.data&&(e.data=e.input),null==e.to&&null==e.creates&&(e.creates=this.contractAddress(e)),1!==e.type&&2!==e.type||null!=e.accessList||(e.accessList=[]);const r=T.check(this.formats.transaction,e);if(null!=e.chainId){let t=e.chainId;Object(b.l)(t)&&(t=p.a.from(t).toNumber()),r.chainId=t}else{let t=e.networkId;null==t&&null==r.v&&(t=e.chainId),Object(b.l)(t)&&(t=p.a.from(t).toNumber()),"number"!=typeof t&&null!=r.v&&(t=(r.v-35)/2,t<0&&(t=0),t=parseInt(t)),"number"!=typeof t&&(t=0),r.chainId=t}return r.blockHash&&"x"===r.blockHash.replace(/0/g,"")&&(r.blockHash=null),r}transaction(t){return Object(P.parse)(t)}receiptLog(t){return T.check(this.formats.receiptLog,t)}receipt(t){const e=T.check(this.formats.receipt,t);if(null!=e.root)if(e.root.length<=4){const t=p.a.from(e.root).toNumber();0===t||1===t?(null!=e.status&&e.status!==t&&j.throwArgumentError("alt-root-status/status mismatch","value",{root:e.root,status:e.status}),e.status=t,delete e.root):j.throwArgumentError("invalid alt-root-status","value.root",e.root)}else 66!==e.root.length&&j.throwArgumentError("invalid root hash","value.root",e.root);return null!=e.status&&(e.byzantium=!0),e}topics(t){return Array.isArray(t)?t.map(t=>this.topics(t)):null!=t?this.hash(t,!0):null}filter(t){return T.check(this.formats.filter,t)}filterLog(t){return T.check(this.formats.filterLog,t)}static check(t,e){const r={};for(const o in t)try{var n=t[o](e[o]);void 0!==n&&(r[o]=n)}catch(t){throw t.checkKey=o,t.checkValue=e[o],t}return r}static allowNull(e,r){return function(t){return null==t?r:e(t)}}static allowFalsish(e,r){return function(t){return t?e(t):r}}static arrayOf(r){return function(t){if(!Array.isArray(t))throw new Error("not an array");const e=[];return t.forEach(function(t){e.push(r(t))}),e}}}function R(t){return t&&"function"==typeof t.isCommunityResource}function I(t){return R(t)&&t.isCommunityResource()}let A=!1;function x(){A=A||!0}function B(t,s,a,c){return new(a=a||Promise)(function(r,e){function n(t){try{i(c.next(t))}catch(t){e(t)}}function o(t){try{i(c.throw(t))}catch(t){e(t)}}function i(t){var e;t.done?r(t.value):((e=t.value)instanceof a?e:new a(function(t){t(e)})).then(n,o)}i((c=c.apply(t,s||[])).next())})}const S=new h.b(r);function C(t){return null==t?"null":(32!==Object(b.d)(t)&&S.throwArgumentError("invalid topic","topic",t),t.toLowerCase())}function L(t){for(t=t.slice();0<t.length&&null==t[t.length-1];)t.pop();return t.map(t=>{if(Array.isArray(t)){const e={};t.forEach(t=>{e[C(t)]=!0});const r=Object.keys(e);return r.sort(),r.join("|")}return C(t)}).join("&")}function U(t){if("string"==typeof t){if(t=t.toLowerCase(),32===Object(b.d)(t))return"tx:"+t;if(-1===t.indexOf(":"))return t}else{if(Array.isArray(t))return"filter:*:"+L(t);if(i.a.isForkEvent(t))throw S.warn("not implemented"),new Error("not implemented");if(t&&"object"==typeof t)return"filter:"+(t.address||"*")+":"+L(t.topics||[])}throw new Error("invalid event - "+t)}function F(){return(new Date).getTime()}function D(e){return new Promise(t=>{setTimeout(t,e)})}const q=["block","network","pending","poll"];class K{constructor(t,e,r){Object(v.d)(this,"tag",t),Object(v.d)(this,"listener",e),Object(v.d)(this,"once",r)}get event(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter}return this.tag}get type(){return this.tag.split(":")[0]}get hash(){var t=this.tag.split(":");return"tx"!==t[0]?null:t[1]}get filter(){var t=this.tag.split(":");if("filter"!==t[0])return null;const e=t[1],r=""===(t=t[2])?[]:t.split(/&/g).map(t=>{if(""===t)return[];t=t.split("|").map(t=>"null"===t?null:t);return 1===t.length?t[0]:t}),n={};return 0<r.length&&(n.topics=r),e&&"*"!==e&&(n.address=e),n}pollable(){return 0<=this.tag.indexOf(":")||0<=q.indexOf(this.tag)}}const G={0:{symbol:"btc",p2pkh:0,p2sh:5,prefix:"bc"},2:{symbol:"ltc",p2pkh:48,p2sh:50,prefix:"ltc"},3:{symbol:"doge",p2pkh:30,p2sh:22},60:{symbol:"eth",ilk:"eth"},61:{symbol:"etc",ilk:"eth"},700:{symbol:"xdai",ilk:"eth"}};function H(t){return Object(b.h)(p.a.from(t).toHexString(),32)}function M(t){return f.a.encode(Object(b.b)([t,Object(b.e)(Object(k.c)(Object(k.c)(t)),0,4)]))}const W=new RegExp("^(ipfs)://(.*)$","i"),J=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),W,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];function V(t){if("0x"===t)return null;var e=p.a.from(Object(b.e)(t,0,32)).toNumber(),r=p.a.from(Object(b.e)(t,e,e+32)).toNumber();return Object(b.e)(t,e+32,e+32+r)}function $(t){return t.match(/^ipfs:\/\/ipfs\//i)?t=t.substring(12):t.match(/^ipfs:\/\//i)?t=t.substring(7):S.throwArgumentError("unsupported IPFS format","link",t),"https://gateway.ipfs.io/ipfs/"+t}class z{constructor(t,e,r,n){Object(v.d)(this,"provider",t),Object(v.d)(this,"name",r),Object(v.d)(this,"address",t.formatter.address(e)),Object(v.d)(this,"_resolvedAddress",n)}_fetchBytes(e,r){return B(this,void 0,void 0,function*(){var t={to:this.address,data:Object(b.c)([e,Object(g.b)(this.name),r||"0x"])};try{return V(yield this.provider.call(t))}catch(t){return t.code,h.b.errors.CALL_EXCEPTION,null}})}_getAddress(e,t){var r=G[String(e)];if(null==r&&S.throwError("unsupported coin type: "+e,h.b.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`}),"eth"===r.ilk)return this.provider.formatter.address(t);const n=Object(b.a)(t);if(null!=r.p2pkh){const e=t.match(/^0x76a9([0-9a-f][0-9a-f])([0-9a-f]*)88ac$/);if(e){const t=parseInt(e[1],16);if(e[2].length===2*t&&1<=t&&t<=75)return M(Object(b.b)([[r.p2pkh],"0x"+e[2]]))}}if(null!=r.p2sh){const e=t.match(/^0xa9([0-9a-f][0-9a-f])([0-9a-f]*)87$/);if(e){const t=parseInt(e[1],16);if(e[2].length===2*t&&1<=t&&t<=75)return M(Object(b.b)([[r.p2sh],"0x"+e[2]]))}}if(null!=r.prefix){const e=n[1];let t=n[0];if((0!==t||20!==e&&32!==e)&&(t=-1),0<=t&&n.length===2+e&&1<=e&&e<=75){const e=E.a.toWords(n.slice(2));return e.unshift(t),E.a.encode(r.prefix,e)}}return null}getAddress(r){return B(this,void 0,void 0,function*(){if(60===(r=null==r?60:r))try{const r={to:this.address,data:"0x3b3b57de"+Object(g.b)(this.name).substring(2)},t=yield this.provider.call(r);return"0x"===t||t===m.a?null:this.provider.formatter.callAddress(t)}catch(t){if(t.code===h.b.errors.CALL_EXCEPTION)return null;throw t}const t=yield this._fetchBytes("0xf1cb7e06",H(r));if(null==t||"0x"===t)return null;var e=this._getAddress(r,t);return null==e&&S.throwError("invalid or unsupported coin data",h.b.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${r})`,coinType:r,data:t}),e})}getAvatar(){return B(this,void 0,void 0,function*(){const r=[{type:"name",content:this.name}];try{const u=yield this.getText("avatar");if(null==u)return null;for(let t=0;t<J.length;t++){const h=u.match(J[t]);if(null!=h){var n=h[1].toLowerCase();switch(n){case"https":return r.push({type:"url",content:u}),{linkage:r,url:u};case"data":return r.push({type:"data",content:u}),{linkage:r,url:u};case"ipfs":return r.push({type:"ipfs",content:u}),{linkage:r,url:$(u)};case"erc721":case"erc1155":{var o="erc721"===n?"0xc87b56dd":"0x0e89341c";r.push({type:n,content:u});var i=this._resolvedAddress||(yield this.getAddress()),s=(h[2]||"").split("/");if(2!==s.length)return null;const d=yield this.provider.formatter.address(s[0]),f=Object(b.h)(p.a.from(s[1]).toHexString(),32);if("erc721"===n){var a=this.provider.formatter.callAddress(yield this.provider.call({to:d,data:Object(b.c)(["0x6352211e",f])}));if(i!==a)return null;r.push({type:"owner",content:a})}else if("erc1155"===n){const m=p.a.from(yield this.provider.call({to:d,data:Object(b.c)(["0x00fdd58e",Object(b.h)(i,32),f])}));if(m.isZero())return null;r.push({type:"balance",content:m.toString()})}var c={to:this.provider.formatter.address(s[0]),data:Object(b.c)([o,f])};let t=function(t){try{return Object(w.h)(V(t))}catch(t){}return null}(yield this.provider.call(c));if(null==t)return null;r.push({type:"metadata-url-base",content:t}),"erc1155"===n&&(t=t.replace("{id}",f.substring(2)),r.push({type:"metadata-url-expanded",content:t})),t.match(/^ipfs:/i)&&(t=$(t)),r.push({type:"metadata-url",content:t});var l=yield Object(y.b)(t);if(!l)return null;r.push({type:"metadata",content:JSON.stringify(l)});let e=l.image;if("string"!=typeof e)return null;if(!e.match(/^(https:\/\/|data:)/i)){if(null==e.match(W))return null;r.push({type:"url-ipfs",content:e}),e=$(e)}return r.push({type:"url",content:e}),{linkage:r,url:e}}}}}}catch(t){}return null})}getContentHash(){return B(this,void 0,void 0,function*(){const t=yield this._fetchBytes("0xbc1c58d1");if(null==t||"0x"===t)return null;var e=t.match(/^0xe3010170(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(e){const t=parseInt(e[3],16);if(e[4].length===2*t)return"ipfs://"+f.a.encode("0x"+e[1])}e=t.match(/^0xe40101fa011b20([0-9a-f]*)$/);return e&&64===e[1].length?"bzz://"+e[1]:S.throwError("invalid or unsupported content hash data",h.b.errors.UNSUPPORTED_OPERATION,{operation:"getContentHash()",data:t})})}getText(r){return B(this,void 0,void 0,function*(){let t=Object(w.f)(r);t=Object(b.b)([H(64),H(t.length),t]),t.length%32!=0&&(t=Object(b.b)([t,Object(b.h)("0x",32-r.length%32)]));var e=yield this._fetchBytes("0x59d1d43c",Object(b.i)(t));return null==e||"0x"===e?null:Object(w.h)(e)})}}let X=null,Q=1;class Z extends i.b{constructor(t){var e;S.checkNew(new.target,i.b),super(),this._events=[],this._emitted={block:-2},this.formatter=new.target.getFormatter(),Object(v.d)(this,"anyNetwork","any"===t),(t=this.anyNetwork?this.detectNetwork():t)instanceof Promise?((this._networkPromise=t).catch(t=>{}),this._ready().catch(t=>{})):(e=Object(v.e)(new.target,"getNetwork")(t))?(Object(v.d)(this,"_network",e),this.emit("network",e,null)):S.throwArgumentError("invalid network","network",t),this._maxInternalBlockNumber=-1024,this._lastBlockNumber=-2,this._pollingInterval=4e3,this._fastQueryDate=0}_ready(){return B(this,void 0,void 0,function*(){if(null==this._network){let t=null;if(this._networkPromise)try{t=yield this._networkPromise}catch(t){}null==t&&(t=yield this.detectNetwork()),t||S.throwError("no network detected",h.b.errors.UNKNOWN_ERROR,{}),null==this._network&&(this.anyNetwork?this._network=t:Object(v.d)(this,"_network",t),this.emit("network",t,null))}return this._network})}get ready(){return Object(y.c)(()=>this._ready().then(t=>t,t=>{if(t.code!==h.b.errors.NETWORK_ERROR||"noNetwork"!==t.event)throw t}))}static getFormatter(){return null==X&&(X=new T),X}static getNetwork(t){return d(null==t?"homestead":t)}_getInternalBlockNumber(t){return B(this,void 0,void 0,function*(){if(yield this._ready(),0<t)for(;this._internalBlockNumber;){const r=this._internalBlockNumber;try{const n=yield r;if(F()-n.respTime<=t)return n.blockNumber;break}catch(t){if(this._internalBlockNumber===r)break}}const r=F(),n=Object(v.f)({blockNumber:this.perform("getBlockNumber",{}),networkError:this.getNetwork().then(t=>null,t=>t)}).then(({blockNumber:t,networkError:e})=>{if(e)throw this._internalBlockNumber===n&&(this._internalBlockNumber=null),e;e=F();return(t=p.a.from(t).toNumber())<this._maxInternalBlockNumber&&(t=this._maxInternalBlockNumber),this._maxInternalBlockNumber=t,this._setFastBlockNumber(t),{blockNumber:t,reqTime:r,respTime:e}});return this._internalBlockNumber=n,n.catch(t=>{this._internalBlockNumber===n&&(this._internalBlockNumber=null)}),(yield n).blockNumber})}poll(){return B(this,void 0,void 0,function*(){const t=Q++,n=[];let o=null;try{o=yield this._getInternalBlockNumber(100+this.pollingInterval/2)}catch(t){return void this.emit("error",t)}if(this._setFastBlockNumber(o),this.emit("poll",t,o),o!==this._lastBlockNumber){if(-2===this._emitted.block&&(this._emitted.block=o-1),1e3<Math.abs(this._emitted.block-o))S.warn(`network block skew detected; skipping block events (emitted=${this._emitted.block} blockNumber${o})`),this.emit("error",S.makeError("network block skew detected",h.b.errors.NETWORK_ERROR,{blockNumber:o,event:"blockSkew",previousBlockNumber:this._emitted.block})),this.emit("block",o);else for(let t=this._emitted.block+1;t<=o;t++)this.emit("block",t);this._emitted.block!==o&&(this._emitted.block=o,Object.keys(this._emitted).forEach(t=>{var e;"block"===t||"pending"!==(e=this._emitted[t])&&12<o-e&&delete this._emitted[t]})),-2===this._lastBlockNumber&&(this._lastBlockNumber=o-1),this._events.forEach(t=>{switch(t.type){case"tx":{const o=t.hash;var e=this.getTransactionReceipt(o).then(t=>(t&&null!=t.blockNumber&&(this._emitted["t:"+o]=t.blockNumber,this.emit(o,t)),null)).catch(t=>{this.emit("error",t)});n.push(e);break}case"filter":{const r=t.filter;r.fromBlock=this._lastBlockNumber+1,r.toBlock=o;e=this.getLogs(r).then(t=>{0!==t.length&&t.forEach(t=>{this._emitted["b:"+t.blockHash]=t.blockNumber,this._emitted["t:"+t.transactionHash]=t.blockNumber,this.emit(r,t)})}).catch(t=>{this.emit("error",t)});n.push(e);break}}}),this._lastBlockNumber=o,Promise.all(n).then(()=>{this.emit("didPoll",t)}).catch(t=>{this.emit("error",t)})}else this.emit("didPoll",t)})}resetEventsBlock(t){this._lastBlockNumber=t-1,this.polling&&this.poll()}get network(){return this._network}detectNetwork(){return B(this,void 0,void 0,function*(){return S.throwError("provider does not support network detection",h.b.errors.UNSUPPORTED_OPERATION,{operation:"provider.detectNetwork"})})}getNetwork(){return B(this,void 0,void 0,function*(){var t=yield this._ready(),e=yield this.detectNetwork();if(t.chainId===e.chainId)return t;if(this.anyNetwork)return this._network=e,this._lastBlockNumber=-2,this._fastBlockNumber=null,this._fastBlockNumberPromise=null,this._fastQueryDate=0,this._emitted.block=-2,this._maxInternalBlockNumber=-1024,this._internalBlockNumber=null,this.emit("network",e,t),yield D(0),this._network;e=S.makeError("underlying network changed",h.b.errors.NETWORK_ERROR,{event:"changed",network:t,detectedNetwork:e});throw this.emit("error",e),e})}get blockNumber(){return this._getInternalBlockNumber(100+this.pollingInterval/2).then(t=>{this._setFastBlockNumber(t)},t=>{}),null!=this._fastBlockNumber?this._fastBlockNumber:-1}get polling(){return null!=this._poller}set polling(t){t&&!this._poller?(this._poller=setInterval(()=>{this.poll()},this.pollingInterval),this._bootstrapPoll||(this._bootstrapPoll=setTimeout(()=>{this.poll(),this._bootstrapPoll=setTimeout(()=>{this._poller||this.poll(),this._bootstrapPoll=null},this.pollingInterval)},0))):!t&&this._poller&&(clearInterval(this._poller),this._poller=null)}get pollingInterval(){return this._pollingInterval}set pollingInterval(t){if("number"!=typeof t||t<=0||parseInt(String(t))!=t)throw new Error("invalid polling interval");this._pollingInterval=t,this._poller&&(clearInterval(this._poller),this._poller=setInterval(()=>{this.poll()},this._pollingInterval))}_getFastBlockNumber(){var t=F();return t-this._fastQueryDate>2*this._pollingInterval&&(this._fastQueryDate=t,this._fastBlockNumberPromise=this.getBlockNumber().then(t=>((null==this._fastBlockNumber||t>this._fastBlockNumber)&&(this._fastBlockNumber=t),this._fastBlockNumber))),this._fastBlockNumberPromise}_setFastBlockNumber(t){null!=this._fastBlockNumber&&t<this._fastBlockNumber||(this._fastQueryDate=F(),(null==this._fastBlockNumber||t>this._fastBlockNumber)&&(this._fastBlockNumber=t,this._fastBlockNumberPromise=Promise.resolve(t)))}waitForTransaction(t,e,r){return B(this,void 0,void 0,function*(){return this._waitForTransaction(t,null==e?1:e,r||0,null)})}_waitForTransaction(c,l,r,u){return B(this,void 0,void 0,function*(){var t=yield this.getTransactionReceipt(c);return(t?t.confirmations:0)>=l?t:new Promise((e,o)=>{const t=[];let i=!1;function s(){return!!i||(i=!0,t.forEach(t=>{t()}),!1)}const a=t=>{t.confirmations<l||s()||e(t)};if(this.on(c,a),t.push(()=>{this.removeListener(c,a)}),u){let r=u.startBlock,n=null;const a=e=>B(this,void 0,void 0,function*(){i||(yield D(1e3),this.getTransactionCount(u.from).then(t=>B(this,void 0,void 0,function*(){if(!i){if(t<=u.nonce)r=e;else{{const l=yield this.getTransaction(c);if(l&&null!=l.blockNumber)return}for(null==n&&(n=r-3,n<u.startBlock&&(n=u.startBlock));n<=e;){if(i)return;const r=yield this.getBlockWithTransactions(n);for(let t=0;t<r.transactions.length;t++){const e=r.transactions[t];if(e.hash===c)return;if(e.from===u.from&&e.nonce===u.nonce){if(i)return;const r=yield this.waitForTransaction(e.hash,l);if(s())return;let t="replaced";return e.data===u.data&&e.to===u.to&&e.value.eq(u.value)?t="repriced":"0x"===e.data&&e.from===e.to&&e.value.isZero()&&(t="cancelled"),void o(S.makeError("transaction was replaced",h.b.errors.TRANSACTION_REPLACED,{cancelled:"replaced"===t||"cancelled"===t,reason:t,replacement:this._wrapTransaction(e),hash:c,receipt:r}))}}n++}}i||this.once("block",a)}}),t=>{i||this.once("block",a)}))});if(i)return;this.once("block",a),t.push(()=>{this.removeListener("block",a)})}if("number"==typeof r&&0<r){const c=setTimeout(()=>{s()||o(S.makeError("timeout exceeded",h.b.errors.TIMEOUT,{timeout:r}))},r);c.unref&&c.unref(),t.push(()=>{clearTimeout(c)})}})})}getBlockNumber(){return B(this,void 0,void 0,function*(){return this._getInternalBlockNumber(0)})}getGasPrice(){return B(this,void 0,void 0,function*(){yield this.getNetwork();var e=yield this.perform("getGasPrice",{});try{return p.a.from(e)}catch(t){return S.throwError("bad result from backend",h.b.errors.SERVER_ERROR,{method:"getGasPrice",result:e,error:t})}})}getBalance(t,n){return B(this,void 0,void 0,function*(){yield this.getNetwork();var e=yield Object(v.f)({address:this._getAddress(t),blockTag:this._getBlockTag(n)}),r=yield this.perform("getBalance",e);try{return p.a.from(r)}catch(t){return S.throwError("bad result from backend",h.b.errors.SERVER_ERROR,{method:"getBalance",params:e,result:r,error:t})}})}getTransactionCount(t,n){return B(this,void 0,void 0,function*(){yield this.getNetwork();var e=yield Object(v.f)({address:this._getAddress(t),blockTag:this._getBlockTag(n)}),r=yield this.perform("getTransactionCount",e);try{return p.a.from(r).toNumber()}catch(t){return S.throwError("bad result from backend",h.b.errors.SERVER_ERROR,{method:"getTransactionCount",params:e,result:r,error:t})}})}getCode(t,n){return B(this,void 0,void 0,function*(){yield this.getNetwork();var e=yield Object(v.f)({address:this._getAddress(t),blockTag:this._getBlockTag(n)}),r=yield this.perform("getCode",e);try{return Object(b.i)(r)}catch(t){return S.throwError("bad result from backend",h.b.errors.SERVER_ERROR,{method:"getCode",params:e,result:r,error:t})}})}getStorageAt(t,n,o){return B(this,void 0,void 0,function*(){yield this.getNetwork();var e=yield Object(v.f)({address:this._getAddress(t),blockTag:this._getBlockTag(o),position:Promise.resolve(n).then(t=>Object(b.g)(t))}),r=yield this.perform("getStorageAt",e);try{return Object(b.i)(r)}catch(t){return S.throwError("bad result from backend",h.b.errors.SERVER_ERROR,{method:"getStorageAt",params:e,result:r,error:t})}})}_wrapTransaction(o,t,i){if(null!=t&&32!==Object(b.d)(t))throw new Error("invalid response - sendTransaction");const e=o;return null!=t&&o.hash!==t&&S.throwError("Transaction hash mismatch from Provider.sendTransaction.",h.b.errors.UNKNOWN_ERROR,{expectedHash:o.hash,returnedHash:t}),e.wait=(r,n)=>B(this,void 0,void 0,function*(){null==n&&(n=0);let t=void 0;0!==(r=null==r?1:r)&&null!=i&&(t={data:o.data,from:o.from,nonce:o.nonce,to:o.to,value:o.value,startBlock:i});var e=yield this._waitForTransaction(o.hash,r,n,t);return null==e&&0===r?null:(this._emitted["t:"+o.hash]=e.blockNumber,0===e.status&&S.throwError("transaction failed",h.b.errors.CALL_EXCEPTION,{transactionHash:o.hash,transaction:o,receipt:e}),e)}),e}sendTransaction(n){return B(this,void 0,void 0,function*(){yield this.getNetwork();const t=yield Promise.resolve(n).then(t=>Object(b.i)(t)),e=this.formatter.transaction(n);null==e.confirmations&&(e.confirmations=0);var r=yield this._getInternalBlockNumber(100+2*this.pollingInterval);try{const n=yield this.perform("sendTransaction",{signedTransaction:t});return this._wrapTransaction(e,n,r)}catch(t){throw t.transaction=e,t.transactionHash=e.hash,t}})}_getTransactionRequest(t){return B(this,void 0,void 0,function*(){const e=yield t,r={};return["from","to"].forEach(t=>{null!=e[t]&&(r[t]=Promise.resolve(e[t]).then(t=>t?this._getAddress(t):null))}),["gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","value"].forEach(t=>{null!=e[t]&&(r[t]=Promise.resolve(e[t]).then(t=>t?p.a.from(t):null))}),["type"].forEach(t=>{null!=e[t]&&(r[t]=Promise.resolve(e[t]).then(t=>null!=t?t:null))}),e.accessList&&(r.accessList=this.formatter.accessList(e.accessList)),["data"].forEach(t=>{null!=e[t]&&(r[t]=Promise.resolve(e[t]).then(t=>t?Object(b.i)(t):null))}),this.formatter.transactionRequest(yield Object(v.f)(r))})}_getFilter(r){return B(this,void 0,void 0,function*(){r=yield r;const e={};return null!=r.address&&(e.address=this._getAddress(r.address)),["blockHash","topics"].forEach(t=>{null!=r[t]&&(e[t]=r[t])}),["fromBlock","toBlock"].forEach(t=>{null!=r[t]&&(e[t]=this._getBlockTag(r[t]))}),this.formatter.filter(yield Object(v.f)(e))})}call(t,n){return B(this,void 0,void 0,function*(){yield this.getNetwork();var e=yield Object(v.f)({transaction:this._getTransactionRequest(t),blockTag:this._getBlockTag(n)}),r=yield this.perform("call",e);try{return Object(b.i)(r)}catch(t){return S.throwError("bad result from backend",h.b.errors.SERVER_ERROR,{method:"call",params:e,result:r,error:t})}})}estimateGas(t){return B(this,void 0,void 0,function*(){yield this.getNetwork();var e=yield Object(v.f)({transaction:this._getTransactionRequest(t)}),r=yield this.perform("estimateGas",e);try{return p.a.from(r)}catch(t){return S.throwError("bad result from backend",h.b.errors.SERVER_ERROR,{method:"estimateGas",params:e,result:r,error:t})}})}_getAddress(e){return B(this,void 0,void 0,function*(){"string"!=typeof(e=yield e)&&S.throwArgumentError("invalid address or ENS name","name",e);var t=yield this.resolveName(e);return null==t&&S.throwError("ENS name not configured",h.b.errors.UNSUPPORTED_OPERATION,{operation:`resolveName(${JSON.stringify(e)})`}),t})}_getBlock(e,o){return B(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;let n=-128;const t={includeTransactions:!!o};if(Object(b.l)(e,32))t.blockHash=e;else try{t.blockTag=yield this._getBlockTag(e),Object(b.l)(t.blockTag)&&(n=parseInt(t.blockTag.substring(2),16))}catch(t){S.throwArgumentError("invalid block hash or block tag","blockHashOrBlockTag",e)}return Object(y.c)(()=>B(this,void 0,void 0,function*(){var r=yield this.perform("getBlock",t);if(null==r)return null!=t.blockHash&&null==this._emitted["b:"+t.blockHash]||null!=t.blockTag&&n>this._emitted.block?null:void 0;if(o){let e=null;for(let t=0;t<r.transactions.length;t++){const n=r.transactions[t];if(null==n.blockNumber)n.confirmations=0;else if(null==n.confirmations){null==e&&(e=yield this._getInternalBlockNumber(100+2*this.pollingInterval));let t=e-n.blockNumber+1;t<=0&&(t=1),n.confirmations=t}}const n=this.formatter.blockWithTransactions(r);return n.transactions=n.transactions.map(t=>this._wrapTransaction(t)),n}return this.formatter.block(r)}),{oncePoll:this})})}getBlock(t){return this._getBlock(t,!1)}getBlockWithTransactions(t){return this._getBlock(t,!0)}getTransaction(n){return B(this,void 0,void 0,function*(){yield this.getNetwork(),n=yield n;const r={transactionHash:this.formatter.hash(n,!0)};return Object(y.c)(()=>B(this,void 0,void 0,function*(){var t=yield this.perform("getTransaction",r);if(null==t)return null==this._emitted["t:"+n]?null:void 0;const e=this.formatter.transactionResponse(t);if(null==e.blockNumber)e.confirmations=0;else if(null==e.confirmations){const n=yield this._getInternalBlockNumber(100+2*this.pollingInterval);let t=n-e.blockNumber+1;t<=0&&(t=1),e.confirmations=t}return this._wrapTransaction(e)}),{oncePoll:this})})}getTransactionReceipt(n){return B(this,void 0,void 0,function*(){yield this.getNetwork(),n=yield n;const r={transactionHash:this.formatter.hash(n,!0)};return Object(y.c)(()=>B(this,void 0,void 0,function*(){var t=yield this.perform("getTransactionReceipt",r);if(null==t)return null==this._emitted["t:"+n]?null:void 0;if(null!=t.blockHash){const e=this.formatter.receipt(t);if(null==e.blockNumber)e.confirmations=0;else if(null==e.confirmations){const n=yield this._getInternalBlockNumber(100+2*this.pollingInterval);let t=n-e.blockNumber+1;t<=0&&(t=1),e.confirmations=t}return e}}),{oncePoll:this})})}getLogs(r){return B(this,void 0,void 0,function*(){yield this.getNetwork();const t=yield Object(v.f)({filter:this._getFilter(r)}),e=yield this.perform("getLogs",t);return e.forEach(t=>{null==t.removed&&(t.removed=!1)}),T.arrayOf(this.formatter.filterLog.bind(this.formatter))(e)})}getEtherPrice(){return B(this,void 0,void 0,function*(){return yield this.getNetwork(),this.perform("getEtherPrice",{})})}_getBlockTag(e){return B(this,void 0,void 0,function*(){if("number"==typeof(e=yield e)&&e<0){e%1&&S.throwArgumentError("invalid BlockTag","blockTag",e);let t=yield this._getInternalBlockNumber(100+2*this.pollingInterval);return t+=e,t<0&&(t=0),this.formatter.blockTag(t)}return this.formatter.blockTag(e)})}getResolver(e){return B(this,void 0,void 0,function*(){try{var t=yield this._getResolver(e);return null==t?null:new z(this,t,e)}catch(t){if(t.code===h.b.errors.CALL_EXCEPTION)return null;throw t}})}_getResolver(e){return B(this,void 0,void 0,function*(){var t=yield this.getNetwork();t.ensAddress||S.throwError("network does not support ENS",h.b.errors.UNSUPPORTED_OPERATION,{operation:"ENS",network:t.name});t={to:t.ensAddress,data:"0x0178b8bf"+Object(g.b)(e).substring(2)};try{return this.formatter.callAddress(yield this.call(t))}catch(t){if(t.code===h.b.errors.CALL_EXCEPTION)return null;throw t}})}resolveName(e){return B(this,void 0,void 0,function*(){e=yield e;try{return Promise.resolve(this.formatter.address(e))}catch(t){if(Object(b.l)(e))throw t}"string"!=typeof e&&S.throwArgumentError("invalid ENS name","name",e);const t=yield this.getResolver(e);return t?yield t.getAddress():null})}lookupAddress(n){return B(this,void 0,void 0,function*(){n=yield n;var t=(n=this.formatter.address(n)).substring(2).toLowerCase()+".addr.reverse",e=yield this._getResolver(t);if(!e)return null;let r=Object(b.a)(yield this.call({to:e,data:"0x691f3431"+Object(g.b)(t).substring(2)}));if(r.length<32||!p.a.from(r.slice(0,32)).eq(32))return null;if(r=r.slice(32),r.length<32)return null;t=p.a.from(r.slice(0,32)).toNumber();if(r=r.slice(32),t>r.length)return null;t=Object(w.h)(r.slice(0,t));return(yield this.resolveName(t))!=n?null:t})}getAvatar(o){return B(this,void 0,void 0,function*(){let t=null;if(Object(b.l)(o)){const e=this.formatter.address(o),r=e.substring(2).toLowerCase()+".addr.reverse",n=yield this._getResolver(r);if(!n)return null;t=new z(this,n,"_",e)}else if(t=yield this.getResolver(o),!t)return null;const e=yield t.getAvatar();return null==e?null:e.url})}perform(t,e){return S.throwError(t+" not implemented",h.b.errors.NOT_IMPLEMENTED,{operation:t})}_startEvent(t){this.polling=0<this._events.filter(t=>t.pollable()).length}_stopEvent(t){this.polling=0<this._events.filter(t=>t.pollable()).length}_addEventListener(t,e,r){r=new K(U(t),e,r);return this._events.push(r),this._startEvent(r),this}on(t,e){return this._addEventListener(t,e,!1)}once(t,e){return this._addEventListener(t,e,!0)}emit(t,...e){let r=!1,n=[],o=U(t);return this._events=this._events.filter(t=>t.tag!==o||(setTimeout(()=>{t.listener.apply(this,e)},0),r=!0,!t.once||(n.push(t),!1))),n.forEach(t=>{this._stopEvent(t)}),r}listenerCount(t){if(!t)return this._events.length;let e=U(t);return this._events.filter(t=>t.tag===e).length}listeners(t){if(null==t)return this._events.map(t=>t.listener);let e=U(t);return this._events.filter(t=>t.tag===e).map(t=>t.listener)}off(t,e){if(null==e)return this.removeAllListeners(t);const r=[];let n=!1,o=U(t);return this._events=this._events.filter(t=>t.tag!==o||t.listener!=e||!!n||(n=!0,r.push(t),!1)),r.forEach(t=>{this._stopEvent(t)}),this}removeAllListeners(t){let e=[];if(null==t)e=this._events,this._events=[];else{const r=U(t);this._events=this._events.filter(t=>t.tag!==r||(e.push(t),!1))}return e.forEach(t=>{this._stopEvent(t)}),this}}function Y(t,s,a,c){return new(a=a||Promise)(function(r,e){function n(t){try{i(c.next(t))}catch(t){e(t)}}function o(t){try{i(c.throw(t))}catch(t){e(t)}}function i(t){var e;t.done?r(t.value):((e=t.value)instanceof a?e:new a(function(t){t(e)})).then(n,o)}i((c=c.apply(t,s||[])).next())})}var _=t("7ca5"),tt=t("e108");const et=new h.b(r),rt=["call","estimateGas"];function nt(t,e,r){if("call"===t&&e.code===h.b.errors.SERVER_ERROR){const t=e.error;if(t&&t.message.match("reverted")&&Object(b.l)(t.data))return t.data;et.throwError("missing revert data in call exception",h.b.errors.CALL_EXCEPTION,{error:e,data:"0x"})}let n=e.message;e.code===h.b.errors.SERVER_ERROR&&e.error&&"string"==typeof e.error.message?n=e.error.message:"string"==typeof e.body?n=e.body:"string"==typeof e.responseText&&(n=e.responseText),n=(n||"").toLowerCase();r=r.transaction||r.signedTransaction;throw n.match(/insufficient funds|base fee exceeds gas limit/)&&et.throwError("insufficient funds for intrinsic transaction cost",h.b.errors.INSUFFICIENT_FUNDS,{error:e,method:t,transaction:r}),n.match(/nonce too low/)&&et.throwError("nonce has already been used",h.b.errors.NONCE_EXPIRED,{error:e,method:t,transaction:r}),n.match(/replacement transaction underpriced/)&&et.throwError("replacement fee too low",h.b.errors.REPLACEMENT_UNDERPRICED,{error:e,method:t,transaction:r}),n.match(/only replay-protected/)&&et.throwError("legacy pre-eip-155 transactions not supported",h.b.errors.UNSUPPORTED_OPERATION,{error:e,method:t,transaction:r}),0<=rt.indexOf(t)&&n.match(/gas required exceeds allowance|always failing transaction|execution reverted/)&&et.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",h.b.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,method:t,transaction:r}),e}function ot(e){return new Promise(function(t){setTimeout(t,e)})}function it(t){if(t.error){const e=new Error(t.error.message);throw e.code=t.error.code,e.data=t.error.data,e}return t.result}function st(t){return t&&t.toLowerCase()}const at={};class ct extends _.a{constructor(t,e,r){if(et.checkNew(new.target,ct),super(),t!==at)throw new Error("do not call the JsonRpcSigner constructor directly; use provider.getSigner");Object(v.d)(this,"provider",e),"string"==typeof(r=null==r?0:r)?(Object(v.d)(this,"_address",this.provider.formatter.address(r)),Object(v.d)(this,"_index",null)):"number"==typeof r?(Object(v.d)(this,"_index",r),Object(v.d)(this,"_address",null)):et.throwArgumentError("invalid address or index","addressOrIndex",r)}connect(t){return et.throwError("cannot alter JSON-RPC Signer connection",h.b.errors.UNSUPPORTED_OPERATION,{operation:"connect"})}connectUnchecked(){return new lt(at,this.provider,this._address||this._index)}getAddress(){return this._address?Promise.resolve(this._address):this.provider.send("eth_accounts",[]).then(t=>(t.length<=this._index&&et.throwError("unknown account #"+this._index,h.b.errors.UNSUPPORTED_OPERATION,{operation:"getAddress"}),this.provider.formatter.address(t[this._index])))}sendUncheckedTransaction(n){n=Object(v.g)(n);var t=this.getAddress().then(t=>t=t&&t.toLowerCase());if(null==n.gasLimit){const e=Object(v.g)(n);e.from=t,n.gasLimit=this.provider.estimateGas(e)}return null!=n.to&&(n.to=Promise.resolve(n.to).then(e=>Y(this,void 0,void 0,function*(){if(null==e)return null;var t=yield this.provider.resolveName(e);return null==t&&et.throwArgumentError("provided ENS name resolves to null","tx.to",e),t}))),Object(v.f)({tx:Object(v.f)(n),sender:t}).then(({tx:t,sender:e})=>{null!=t.from?t.from.toLowerCase()!==e&&et.throwArgumentError("from address mismatch","transaction",n):t.from=e;const r=this.provider.constructor.hexlifyTransaction(t,{from:!0});return this.provider.send("eth_sendTransaction",[r]).then(t=>t,t=>nt("sendTransaction",t,r))})}signTransaction(t){return et.throwError("signing transactions is unsupported",h.b.errors.UNSUPPORTED_OPERATION,{operation:"signTransaction"})}sendTransaction(t){return Y(this,void 0,void 0,function*(){const e=yield this.provider._getInternalBlockNumber(100+2*this.provider.pollingInterval),r=yield this.sendUncheckedTransaction(t);try{return yield Object(y.c)(()=>Y(this,void 0,void 0,function*(){var t=yield this.provider.getTransaction(r);if(null!==t)return this.provider._wrapTransaction(t,r,e)}),{oncePoll:this.provider})}catch(t){throw t.transactionHash=r,t}})}signMessage(r){return Y(this,void 0,void 0,function*(){const t="string"==typeof r?Object(w.f)(r):r,e=yield this.getAddress();return yield this.provider.send("personal_sign",[Object(b.i)(t),e.toLowerCase()])})}_legacySignMessage(r){return Y(this,void 0,void 0,function*(){const t="string"==typeof r?Object(w.f)(r):r,e=yield this.getAddress();return yield this.provider.send("eth_sign",[e.toLowerCase(),Object(b.i)(t)])})}_signTypedData(r,n,o){return Y(this,void 0,void 0,function*(){const t=yield tt.a.resolveNames(r,n,o,t=>this.provider.resolveName(t)),e=yield this.getAddress();return yield this.provider.send("eth_signTypedData_v4",[e.toLowerCase(),JSON.stringify(tt.a.getPayload(t.domain,n,t.value))])})}unlock(r){return Y(this,void 0,void 0,function*(){const t=this.provider,e=yield this.getAddress();return t.send("personal_unlockAccount",[e.toLowerCase(),r,null])})}}class lt extends ct{sendTransaction(t){return this.sendUncheckedTransaction(t).then(e=>({hash:e,nonce:null,gasLimit:null,gasPrice:null,data:null,value:null,chainId:null,confirmations:0,from:null,wait:t=>this.provider.waitForTransaction(e,t)}))}}const ut={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0};class ht extends Z{constructor(t,e){et.checkNew(new.target,ht);let r=e;null==r&&(r=new Promise((e,r)=>{setTimeout(()=>{this.detectNetwork().then(t=>{e(t)},t=>{r(t)})},0)})),super(r),"string"==typeof(t=t||Object(v.e)(this.constructor,"defaultUrl")())?Object(v.d)(this,"connection",Object.freeze({url:t})):Object(v.d)(this,"connection",Object.freeze(Object(v.g)(t))),this._nextId=42}get _cache(){return null==this._eventLoopCache&&(this._eventLoopCache={}),this._eventLoopCache}static defaultUrl(){return"http://localhost:8545"}detectNetwork(){return this._cache.detectNetwork||(this._cache.detectNetwork=this._uncachedDetectNetwork(),setTimeout(()=>{this._cache.detectNetwork=null},0)),this._cache.detectNetwork}_uncachedDetectNetwork(){return Y(this,void 0,void 0,function*(){yield ot(0);let e=null;try{e=yield this.send("eth_chainId",[])}catch(t){try{e=yield this.send("net_version",[])}catch(t){}}if(null!=e){const t=Object(v.e)(this.constructor,"getNetwork");try{return t(p.a.from(e).toNumber())}catch(t){return et.throwError("could not detect network",h.b.errors.NETWORK_ERROR,{chainId:e,event:"invalidNetwork",serverError:t})}}return et.throwError("could not detect network",h.b.errors.NETWORK_ERROR,{event:"noNetwork"})})}getSigner(t){return new ct(at,this,t)}getUncheckedSigner(t){return this.getSigner(t).connectUnchecked()}listAccounts(){return this.send("eth_accounts",[]).then(t=>t.map(t=>this.formatter.address(t)))}send(t,e){const r={method:t,params:e,id:this._nextId++,jsonrpc:"2.0"};this.emit("debug",{action:"request",request:Object(v.c)(r),provider:this});var n=0<=["eth_chainId","eth_blockNumber"].indexOf(t);if(n&&this._cache[t])return this._cache[t];e=Object(y.b)(this.connection,JSON.stringify(r),it).then(t=>(this.emit("debug",{action:"response",request:r,response:t,provider:this}),t),t=>{throw this.emit("debug",{action:"response",error:t,request:r,provider:this}),t});return n&&(this._cache[t]=e,setTimeout(()=>{this._cache[t]=null},0)),e}prepareRequest(t,e){switch(t){case"getBlockNumber":return["eth_blockNumber",[]];case"getGasPrice":return["eth_gasPrice",[]];case"getBalance":return["eth_getBalance",[st(e.address),e.blockTag]];case"getTransactionCount":return["eth_getTransactionCount",[st(e.address),e.blockTag]];case"getCode":return["eth_getCode",[st(e.address),e.blockTag]];case"getStorageAt":return["eth_getStorageAt",[st(e.address),e.position,e.blockTag]];case"sendTransaction":return["eth_sendRawTransaction",[e.signedTransaction]];case"getBlock":return e.blockTag?["eth_getBlockByNumber",[e.blockTag,!!e.includeTransactions]]:e.blockHash?["eth_getBlockByHash",[e.blockHash,!!e.includeTransactions]]:null;case"getTransaction":return["eth_getTransactionByHash",[e.transactionHash]];case"getTransactionReceipt":return["eth_getTransactionReceipt",[e.transactionHash]];case"call":{const t=Object(v.e)(this.constructor,"hexlifyTransaction");return["eth_call",[t(e.transaction,{from:!0}),e.blockTag]]}case"estimateGas":{const t=Object(v.e)(this.constructor,"hexlifyTransaction");return["eth_estimateGas",[t(e.transaction,{from:!0})]]}case"getLogs":return e.filter&&null!=e.filter.address&&(e.filter.address=st(e.filter.address)),["eth_getLogs",[e.filter]]}return null}perform(e,r){return Y(this,void 0,void 0,function*(){if("call"===e||"estimateGas"===e){const e=r.transaction;if(e&&null!=e.type&&p.a.from(e.type).isZero()&&null==e.maxFeePerGas&&null==e.maxPriorityFeePerGas){const t=yield this.getFeeData();null==t.maxFeePerGas&&null==t.maxPriorityFeePerGas&&((r=Object(v.g)(r)).transaction=Object(v.g)(e),delete r.transaction.type)}}const t=this.prepareRequest(e,r);null==t&&et.throwError(e+" not implemented",h.b.errors.NOT_IMPLEMENTED,{operation:e});try{return yield this.send(t[0],t[1])}catch(t){return nt(e,t,r)}})}_startEvent(t){"pending"===t.tag&&this._startPending(),super._startEvent(t)}_startPending(){if(null==this._pendingFilter){const r=this,n=this.send("eth_newPendingTransactionFilter",[]);this._pendingFilter=n,n.then(function(e){return function t(){r.send("eth_getFilterChanges",[e]).then(function(t){if(r._pendingFilter!=n)return null;let e=Promise.resolve();return t.forEach(function(t){r._emitted["t:"+t.toLowerCase()]="pending",e=e.then(function(){return r.getTransaction(t).then(function(t){return r.emit("pending",t),null})})}),e.then(function(){return ot(1e3)})}).then(function(){return r._pendingFilter==n?(setTimeout(function(){t()},0),null):void r.send("eth_uninstallFilter",[e])}).catch(t=>{})}(),e}).catch(t=>{})}}_stopEvent(t){"pending"===t.tag&&0===this.listenerCount("pending")&&(this._pendingFilter=null),super._stopEvent(t)}static hexlifyTransaction(r,t){const e=Object(v.g)(ut);if(t)for(const o in t)t[o]&&(e[o]=!0);Object(v.b)(r,e);const n={};return["gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(function(t){var e;null!=r[t]&&(e=Object(b.g)(r[t]),"gasLimit"===t&&(t="gas"),n[t]=e)}),["from","to","data"].forEach(function(t){null!=r[t]&&(n[t]=Object(b.i)(r[t]))}),r.accessList&&(n.accessList=Object(P.accessListify)(r.accessList)),n}}let dt=null;try{if(dt=WebSocket,null==dt)throw new Error("inject please")}catch(t){const e=new h.b(r);dt=function(){e.throwError("WebSockets not supported in this environment",h.b.errors.UNSUPPORTED_OPERATION,{operation:"new WebSocket()"})}}function ft(t,s,a,c){return new(a=a||Promise)(function(r,e){function n(t){try{i(c.next(t))}catch(t){e(t)}}function o(t){try{i(c.throw(t))}catch(t){e(t)}}function i(t){var e;t.done?r(t.value):((e=t.value)instanceof a?e:new a(function(t){t(e)})).then(n,o)}i((c=c.apply(t,s||[])).next())})}const mt=new h.b(r);let pt=1;class bt extends ht{constructor(t,e){"any"===e&&mt.throwError("WebSocketProvider does not support 'any' network yet",h.b.errors.UNSUPPORTED_OPERATION,{operation:"network:any"}),super(t,e),this._pollingInterval=-1,this._wsReady=!1,Object(v.d)(this,"_websocket",new dt(this.connection.url)),Object(v.d)(this,"_requests",{}),Object(v.d)(this,"_subs",{}),Object(v.d)(this,"_subIds",{}),Object(v.d)(this,"_detectNetwork",super.detectNetwork()),this._websocket.onopen=()=>{this._wsReady=!0,Object.keys(this._requests).forEach(t=>{this._websocket.send(this._requests[t].payload)})},this._websocket.onmessage=e=>{var r=e.data,e=JSON.parse(r);if(null!=e.id){const t=String(e.id),n=this._requests[t];if(delete this._requests[t],void 0!==e.result)n.callback(null,e.result),this.emit("debug",{action:"response",request:JSON.parse(n.payload),response:e.result,provider:this});else{let t=null;e.error?(t=new Error(e.error.message||"unknown error"),Object(v.d)(t,"code",e.error.code||null),Object(v.d)(t,"response",r)):t=new Error("unknown error"),n.callback(t,void 0),this.emit("debug",{action:"response",error:t,request:JSON.parse(n.payload),provider:this})}}else if("eth_subscription"===e.method){const t=this._subs[e.params.subscription];t&&t.processFunc(e.params.result)}};const r=setInterval(()=>{this.emit("poll")},1e3);r.unref&&r.unref()}detectNetwork(){return this._detectNetwork}get pollingInterval(){return 0}resetEventsBlock(t){mt.throwError("cannot reset events block on WebSocketProvider",h.b.errors.UNSUPPORTED_OPERATION,{operation:"resetEventBlock"})}set pollingInterval(t){mt.throwError("cannot set polling interval on WebSocketProvider",h.b.errors.UNSUPPORTED_OPERATION,{operation:"setPollingInterval"})}poll(){return ft(this,void 0,void 0,function*(){return null})}set polling(t){t&&mt.throwError("cannot set polling on WebSocketProvider",h.b.errors.UNSUPPORTED_OPERATION,{operation:"setPolling"})}send(e,o){const i=pt++;return new Promise((r,n)=>{var t=JSON.stringify({method:e,params:o,id:i,jsonrpc:"2.0"});this.emit("debug",{action:"request",request:JSON.parse(t),provider:this}),this._requests[String(i)]={callback:function(t,e){return t?n(t):r(e)},payload:t},this._wsReady&&this._websocket.send(t)})}static defaultUrl(){return"ws://localhost:8546"}_subscribe(r,n,o){return ft(this,void 0,void 0,function*(){let t=this._subIds[r];null==t&&(t=Promise.all(n).then(t=>this.send("eth_subscribe",t)),this._subIds[r]=t);var e=yield t;this._subs[e]={tag:r,processFunc:o}})}_startEvent(e){switch(e.type){case"block":this._subscribe("block",["newHeads"],t=>{t=p.a.from(t.number).toNumber();this._emitted.block=t,this.emit("block",t)});break;case"pending":this._subscribe("pending",["newPendingTransactions"],t=>{this.emit("pending",t)});break;case"filter":this._subscribe(e.tag,["logs",this._getFilter(e.filter)],t=>{null==t.removed&&(t.removed=!1),this.emit(e.filter,this.formatter.filterLog(t))});break;case"tx":{const r=t=>{const e=t.hash;this.getTransactionReceipt(e).then(t=>{t&&this.emit(e,t)})};r(e),this._subscribe("tx",["newHeads"],t=>{this._events.filter(t=>"tx"===t.type).forEach(r)});break}}}_stopEvent(t){let e=t.tag;if("tx"===t.type){if(this._events.filter(t=>"tx"===t.type).length)return;e="tx"}else if(this.listenerCount(t.event))return;const r=this._subIds[e];r&&(delete this._subIds[e],r.then(t=>{this._subs[t]&&(delete this._subs[t],this.send("eth_unsubscribe",[t]))}))}destroy(){return ft(this,void 0,void 0,function*(){this._websocket.readyState===dt.CONNECTING&&(yield new Promise(t=>{this._websocket.onopen=function(){t(!0)},this._websocket.onerror=function(){t(!1)}})),this._websocket.close(1e3)})}}function gt(t,s,a,c){return new(a=a||Promise)(function(r,e){function n(t){try{i(c.next(t))}catch(t){e(t)}}function o(t){try{i(c.throw(t))}catch(t){e(t)}}function i(t){var e;t.done?r(t.value):((e=t.value)instanceof a?e:new a(function(t){t(e)})).then(n,o)}i((c=c.apply(t,s||[])).next())})}const vt=new h.b(r);class kt extends ht{detectNetwork(){const e=Object.create(null,{detectNetwork:{get:()=>super.detectNetwork}});return gt(this,void 0,void 0,function*(){let t=this.network;return null==t&&(t=yield e.detectNetwork.call(this),t||vt.throwError("no network detected",h.b.errors.UNKNOWN_ERROR,{}),null==this._network&&(Object(v.d)(this,"_network",t),this.emit("network",t,null))),t})}}class wt extends kt{constructor(t,e){vt.checkAbstract(new.target,wt),t=Object(v.e)(new.target,"getNetwork")(t),e=Object(v.e)(new.target,"getApiKey")(e),super(Object(v.e)(new.target,"getUrl")(t,e),t),"string"==typeof e?Object(v.d)(this,"apiKey",e):null!=e&&Object.keys(e).forEach(t=>{Object(v.d)(this,t,e[t])})}_startPending(){vt.warn("WARNING: API provider does not support pending filters")}isCommunityResource(){return!1}getSigner(t){return vt.throwError("API provider does not support signing",h.b.errors.UNSUPPORTED_OPERATION,{operation:"getSigner"})}listAccounts(){return Promise.resolve([])}static getApiKey(t){return t}static getUrl(t,e){return vt.throwError("not implemented; sub-classes must override getUrl",h.b.errors.NOT_IMPLEMENTED,{operation:"getUrl"})}}const yt=new h.b(r),_t="_gg7wSSi0KMBsdKnGVfHDueq6xMB9EkC";class Et extends bt{constructor(t,e){const r=new Nt(t,e),n=r.connection.url.replace(/^http/i,"ws").replace(".alchemyapi.",".ws.alchemyapi.");super(n,r.network),Object(v.d)(this,"apiKey",r.apiKey)}isCommunityResource(){return this.apiKey===_t}}class Nt extends wt{static getWebSocketProvider(t,e){return new Et(t,e)}static getApiKey(t){return null==t?_t:(t&&"string"!=typeof t&&yt.throwArgumentError("invalid apiKey","apiKey",t),t)}static getUrl(t,r){let e=null;switch(t.name){case"homestead":e="eth-mainnet.alchemyapi.io/v2/";break;case"ropsten":e="eth-ropsten.alchemyapi.io/v2/";break;case"rinkeby":e="eth-rinkeby.alchemyapi.io/v2/";break;case"goerli":e="eth-goerli.alchemyapi.io/v2/";break;case"kovan":e="eth-kovan.alchemyapi.io/v2/";break;case"matic":e="polygon-mainnet.g.alchemy.com/v2/";break;case"maticmum":e="polygon-mumbai.g.alchemy.com/v2/";break;case"arbitrum":e="arb-mainnet.g.alchemy.com/v2/";break;case"arbitrum-rinkeby":e="arb-rinkeby.g.alchemy.com/v2/";break;case"optimism":e="opt-mainnet.g.alchemy.com/v2/";break;case"optimism-kovan":e="opt-kovan.g.alchemy.com/v2/";break;default:yt.throwArgumentError("unsupported network","network",t)}return{allowGzip:!0,url:"https://"+e+r,throttleCallback:(t,e)=>(r===_t&&x(),Promise.resolve(!0))}}isCommunityResource(){return this.apiKey===_t}}function Ot(t,s,a,c){return new(a=a||Promise)(function(r,e){function n(t){try{i(c.next(t))}catch(t){e(t)}}function o(t){try{i(c.throw(t))}catch(t){e(t)}}function i(t){var e;t.done?r(t.value):((e=t.value)instanceof a?e:new a(function(t){t(e)})).then(n,o)}i((c=c.apply(t,s||[])).next())})}const Pt=new h.b(r);class jt extends wt{static getApiKey(t){return null!=t&&Pt.throwArgumentError("apiKey not supported for cloudflare","apiKey",t),null}static getUrl(t,e){let r=null;return"homestead"===t.name?r="https://cloudflare-eth.com/":Pt.throwArgumentError("unsupported network","network",t),r}perform(t,e){const r=Object.create(null,{perform:{get:()=>super.perform}});return Ot(this,void 0,void 0,function*(){if("getBlockNumber"!==t)return r.perform.call(this,t,e);{const t=yield r.perform.call(this,"getBlock",{blockTag:"latest"});return t.number}})}}function Tt(t,s,a,c){return new(a=a||Promise)(function(r,e){function n(t){try{i(c.next(t))}catch(t){e(t)}}function o(t){try{i(c.throw(t))}catch(t){e(t)}}function i(t){var e;t.done?r(t.value):((e=t.value)instanceof a?e:new a(function(t){t(e)})).then(n,o)}i((c=c.apply(t,s||[])).next())})}const Rt=new h.b(r);function It(e){const r={};for(var n in e)if(null!=e[n]){let t=e[n];"type"===n&&0===t||(t={type:!0,gasLimit:!0,gasPrice:!0,maxFeePerGs:!0,maxPriorityFeePerGas:!0,nonce:!0,value:!0}[n]?Object(b.g)(Object(b.i)(t)):"accessList"===n?"["+Object(P.accessListify)(t).map(t=>`{address:"${t.address}",storageKeys:["${t.storageKeys.join('","')}"]}`).join(",")+"]":Object(b.i)(t),r[n]=t)}return r}function At(t){if(0==t.status&&("No records found"===t.message||"No transactions found"===t.message))return t.result;if(1==t.status&&"OK"==t.message)return t.result;{const e=new Error("invalid response");throw e.result=JSON.stringify(t),0<=(t.result||"").toLowerCase().indexOf("rate limit")&&(e.throttleRetry=!0),e}}function xt(t){if(t&&0==t.status&&"NOTOK"==t.message&&0<=(t.result||"").toLowerCase().indexOf("rate limit")){const e=new Error("throttled response");throw e.result=JSON.stringify(t),e.throttleRetry=!0,e}if("2.0"!=t.jsonrpc){const r=new Error("invalid response");throw r.result=JSON.stringify(t),r}if(t.error){const n=new Error(t.error.message||"unknown error");throw t.error.code&&(n.code=t.error.code),t.error.data&&(n.data=t.error.data),n}return t.result}function Bt(t){if("pending"===t)throw new Error("pending not supported");return"latest"===t?t:parseInt(t.substring(2),16)}const St="9D13ZE7XSBTJ94N9BNJ2MA33VMAY2YPIRB";function Ct(e,r,t){if("call"===e&&r.code===h.b.errors.SERVER_ERROR){const e=r.error;if(e&&(e.message.match(/reverted/i)||e.message.match(/VM execution error/i))){let t=e.data;if(t=t&&"0x"+t.replace(/^.*0x/i,""),Object(b.l)(t))return t;Rt.throwError("missing revert data in call exception",h.b.errors.CALL_EXCEPTION,{error:r,data:"0x"})}}let n=r.message;throw r.code===h.b.errors.SERVER_ERROR&&(r.error&&"string"==typeof r.error.message?n=r.error.message:"string"==typeof r.body?n=r.body:"string"==typeof r.responseText&&(n=r.responseText)),n=(n||"").toLowerCase(),n.match(/insufficient funds/)&&Rt.throwError("insufficient funds for intrinsic transaction cost",h.b.errors.INSUFFICIENT_FUNDS,{error:r,method:e,transaction:t}),n.match(/same hash was already imported|transaction nonce is too low|nonce too low/)&&Rt.throwError("nonce has already been used",h.b.errors.NONCE_EXPIRED,{error:r,method:e,transaction:t}),n.match(/another transaction with same nonce/)&&Rt.throwError("replacement fee too low",h.b.errors.REPLACEMENT_UNDERPRICED,{error:r,method:e,transaction:t}),n.match(/execution failed due to an exception|execution reverted/)&&Rt.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",h.b.errors.UNPREDICTABLE_GAS_LIMIT,{error:r,method:e,transaction:t}),r}class Lt extends Z{constructor(t,e){Rt.checkNew(new.target,Lt),super(t),Object(v.d)(this,"baseUrl",this.getBaseUrl()),Object(v.d)(this,"apiKey",e||St)}getBaseUrl(){switch(this.network?this.network.name:"invalid"){case"homestead":return"https://api.etherscan.io";case"ropsten":return"https://api-ropsten.etherscan.io";case"rinkeby":return"https://api-rinkeby.etherscan.io";case"kovan":return"https://api-kovan.etherscan.io";case"goerli":return"https://api-goerli.etherscan.io"}return Rt.throwArgumentError("unsupported network","network",name)}getUrl(t,n){var e=Object.keys(n).reduce((t,e)=>{var r=n[e];return null!=r&&(t+=`&${e}=`+r),t},""),r=this.apiKey?"&apikey="+this.apiKey:"";return this.baseUrl+"/api?module="+t+e+r}getPostUrl(){return this.baseUrl+"/api"}getPostData(t,e){return e.module=t,e.apikey=this.apiKey,e}fetch(s,a,c){return Tt(this,void 0,void 0,function*(){const t=c?this.getPostUrl():this.getUrl(s,a),e=c?this.getPostData(s,a):null,r="proxy"===s?xt:At;this.emit("debug",{action:"request",request:t,provider:this});const n={url:t,throttleSlotInterval:1e3,throttleCallback:(t,e)=>(this.isCommunityResource()&&x(),Promise.resolve(!0))};let o=null;e&&(n.headers={"content-type":"application/x-www-form-urlencoded; charset=UTF-8"},o=Object.keys(e).map(t=>t+"="+e[t]).join("&"));var i=yield Object(y.b)(n,o,r||xt);return this.emit("debug",{action:"response",request:t,response:Object(v.c)(i),provider:this}),i})}detectNetwork(){return Tt(this,void 0,void 0,function*(){return this.network})}perform(r,n){const o=Object.create(null,{perform:{get:()=>super.perform}});return Tt(this,void 0,void 0,function*(){switch(r){case"getBlockNumber":return this.fetch("proxy",{action:"eth_blockNumber"});case"getGasPrice":return this.fetch("proxy",{action:"eth_gasPrice"});case"getBalance":return this.fetch("account",{action:"balance",address:n.address,tag:n.blockTag});case"getTransactionCount":return this.fetch("proxy",{action:"eth_getTransactionCount",address:n.address,tag:n.blockTag});case"getCode":return this.fetch("proxy",{action:"eth_getCode",address:n.address,tag:n.blockTag});case"getStorageAt":return this.fetch("proxy",{action:"eth_getStorageAt",address:n.address,position:n.position,tag:n.blockTag});case"sendTransaction":return this.fetch("proxy",{action:"eth_sendRawTransaction",hex:n.signedTransaction},!0).catch(t=>Ct("sendTransaction",t,n.signedTransaction));case"getBlock":if(n.blockTag)return this.fetch("proxy",{action:"eth_getBlockByNumber",tag:n.blockTag,boolean:n.includeTransactions?"true":"false"});throw new Error("getBlock by blockHash not implemented");case"getTransaction":return this.fetch("proxy",{action:"eth_getTransactionByHash",txhash:n.transactionHash});case"getTransactionReceipt":return this.fetch("proxy",{action:"eth_getTransactionReceipt",txhash:n.transactionHash});case"call":{if("latest"!==n.blockTag)throw new Error("EtherscanProvider does not support blockTag for call");const r=It(n.transaction);r.module="proxy",r.action="eth_call";try{return yield this.fetch("proxy",r,!0)}catch(t){return Ct("call",t,n.transaction)}}case"estimateGas":{const r=It(n.transaction);r.module="proxy",r.action="eth_estimateGas";try{return yield this.fetch("proxy",r,!0)}catch(t){return Ct("estimateGas",t,n.transaction)}}case"getLogs":{const r={action:"getLogs"};if(n.filter.fromBlock&&(r.fromBlock=Bt(n.filter.fromBlock)),n.filter.toBlock&&(r.toBlock=Bt(n.filter.toBlock)),n.filter.address&&(r.address=n.filter.address),n.filter.topics&&0<n.filter.topics.length&&(1<n.filter.topics.length&&Rt.throwError("unsupported topic count",h.b.errors.UNSUPPORTED_OPERATION,{topics:n.filter.topics}),1===n.filter.topics.length)){const o=n.filter.topics[0];"string"==typeof o&&66===o.length||Rt.throwError("unsupported topic format",h.b.errors.UNSUPPORTED_OPERATION,{topic0:o}),r.topic0=o}const o=yield this.fetch("logs",r);let e={};for(let t=0;t<o.length;t++){const r=o[t];if(null==r.blockHash){if(null==e[r.blockNumber]){const n=yield this.getBlock(r.blockNumber);n&&(e[r.blockNumber]=n.hash)}r.blockHash=e[r.blockNumber]}}return o}case"getEtherPrice":return"homestead"!==this.network.name?0:parseFloat((yield this.fetch("stats",{action:"ethprice"})).ethusd)}return o.perform.call(this,r,n)})}getHistory(r,n,o){return Tt(this,void 0,void 0,function*(){const t={action:"txlist",address:yield this.resolveName(r),startblock:null==n?0:n,endblock:null==o?99999999:o,sort:"asc"},e=yield this.fetch("account",t);return e.map(e=>{["contractAddress","to"].forEach(function(t){""==e[t]&&delete e[t]}),null==e.creates&&null!=e.contractAddress&&(e.creates=e.contractAddress);const t=this.formatter.transactionResponse(e);return e.timeStamp&&(t.timestamp=parseInt(e.timeStamp)),t})})}isCommunityResource(){return this.apiKey===St}}var Ut=t("5553"),Ft=function(t,s,a,c){return new(a=a||Promise)(function(r,e){function n(t){try{i(c.next(t))}catch(t){e(t)}}function o(t){try{i(c.throw(t))}catch(t){e(t)}}function i(t){var e;t.done?r(t.value):((e=t.value)instanceof a?e:new a(function(t){t(e)})).then(n,o)}i((c=c.apply(t,s||[])).next())})};const Dt=new h.b(r);function qt(){return(new Date).getTime()}function Kt(e){let r=null;for(let t=0;t<e.length;t++){var n=e[t];if(null==n)return null;r?r.name===n.name&&r.chainId===n.chainId&&(r.ensAddress===n.ensAddress||null==r.ensAddress&&null==n.ensAddress)||Dt.throwArgumentError("provider mismatch","networks",e):r=n}return r}function Gt(t,e){t=t.slice().sort();var r=Math.floor(t.length/2);if(t.length%2)return t[r];var n=t[r-1],r=t[r];return null!=e&&Math.abs(n-r)>e?null:(n+r)/2}function Ht(r){if(null===r)return"null";if("number"==typeof r||"boolean"==typeof r)return JSON.stringify(r);if("string"==typeof r)return r;if(p.a.isBigNumber(r))return r.toString();if(Array.isArray(r))return JSON.stringify(r.map(t=>Ht(t)));if("object"!=typeof r)throw new Error("unknown value type: "+typeof r);{const t=Object.keys(r);return t.sort(),"{"+t.map(t=>{let e=r[t];return e="function"==typeof e?"[function]":Ht(e),JSON.stringify(t)+":"+e}).join(",")+"}"}}let Mt=1;function Wt(e){let r=null,n=null,o=new Promise(t=>{r=function(){n&&(clearTimeout(n),n=null),t()},n=setTimeout(r,e)});return{cancel:r,getPromise:function(){return o},wait:t=>(o=o.then(t),o)}}const Jt=[h.b.errors.CALL_EXCEPTION,h.b.errors.INSUFFICIENT_FUNDS,h.b.errors.NONCE_EXPIRED,h.b.errors.REPLACEMENT_UNDERPRICED,h.b.errors.UNPREDICTABLE_GAS_LIMIT],Vt=["address","args","errorArgs","errorSignature","method","transaction"];function $t(t,e){const r={weight:t.weight};return Object.defineProperty(r,"provider",{get:()=>t.provider}),t.start&&(r.start=t.start),e&&(r.duration=e-t.start),t.done&&(t.error?r.error=t.error:r.result=t.result||null),r}function zt(n,t,e){let r=Ht;switch(t){case"getBlockNumber":return function(t){const e=t.map(t=>t.result);let r=Gt(t.map(t=>t.result),2);if(null!=r)return r=Math.ceil(r),0<=e.indexOf(r+1)&&r++,r>=n._highestBlockNumber&&(n._highestBlockNumber=r),n._highestBlockNumber};case"getGasPrice":return function(t){const e=t.map(t=>t.result);return e.sort(),e[Math.floor(e.length/2)]};case"getEtherPrice":return function(t){return Gt(t.map(t=>t.result))};case"getBalance":case"getTransactionCount":case"getCode":case"getStorageAt":case"call":case"estimateGas":case"getLogs":break;case"getTransaction":case"getTransactionReceipt":r=function(t){return null==t?null:((t=Object(v.g)(t)).confirmations=-1,Ht(t))};break;case"getBlock":r=e.includeTransactions?function(t){return null==t?null:((t=Object(v.g)(t)).transactions=t.transactions.map(t=>((t=Object(v.g)(t)).confirmations=-1,t)),Ht(t))}:function(t){return null==t?null:Ht(t)};break;default:throw new Error("unknown method: "+t)}return o=r,i=n.quorum,function(e){const r={};e.forEach(t=>{var e=o(t.result);r[e]||(r[e]={count:0,result:t.result}),r[e].count++});var n=Object.keys(r);for(let t=0;t<n.length;t++){const e=r[n[t]];if(e.count>=i)return e.result}};var o,i}function Xt(n,o){return Ft(this,void 0,void 0,function*(){const r=n.provider;return null!=r.blockNumber&&r.blockNumber>=o||-1===o?r:Object(y.c)(()=>new Promise((t,e)=>{setTimeout(function(){return r.blockNumber>=o?t(r):n.cancelled?t(null):t(void 0)},0)}),{oncePoll:r})})}function Qt(r,n,o,i){return Ft(this,void 0,void 0,function*(){let t=r.provider;switch(o){case"getBlockNumber":case"getGasPrice":return t[o]();case"getEtherPrice":if(t.getEtherPrice)return t.getEtherPrice();break;case"getBalance":case"getTransactionCount":case"getCode":return i.blockTag&&Object(b.l)(i.blockTag)&&(t=yield Xt(r,n)),t[o](i.address,i.blockTag||"latest");case"getStorageAt":return i.blockTag&&Object(b.l)(i.blockTag)&&(t=yield Xt(r,n)),t.getStorageAt(i.address,i.position,i.blockTag||"latest");case"getBlock":return i.blockTag&&Object(b.l)(i.blockTag)&&(t=yield Xt(r,n)),t[i.includeTransactions?"getBlockWithTransactions":"getBlock"](i.blockTag||i.blockHash);case"call":case"estimateGas":return i.blockTag&&Object(b.l)(i.blockTag)&&(t=yield Xt(r,n)),t[o](i.transaction);case"getTransaction":case"getTransactionReceipt":return t[o](i.transactionHash);case"getLogs":var e=i.filter;return(e.fromBlock&&Object(b.l)(e.fromBlock)||e.toBlock&&Object(b.l)(e.toBlock))&&(t=yield Xt(r,n)),t.getLogs(e)}return Dt.throwError("unknown method error",h.b.errors.UNKNOWN_ERROR,{method:o,params:i})})}class Zt extends Z{constructor(t,e){Dt.checkNew(new.target,Zt),0===t.length&&Dt.throwArgumentError("missing providers","providers",t);const r=t.map((t,e)=>{if(i.b.isProvider(t)){const e=I(t)?2e3:750,r=1;return Object.freeze({provider:t,weight:1,stallTimeout:e,priority:1})}const r=Object(v.g)(t);null==r.priority&&(r.priority=1),null==r.stallTimeout&&(r.stallTimeout=I(t)?2e3:750),null==r.weight&&(r.weight=1);t=r.weight;return(t%1||512<t||t<1)&&Dt.throwArgumentError("invalid weight; must be integer in [1, 512]",`providers[${e}].weight`,t),Object.freeze(r)}),n=r.reduce((t,e)=>t+e.weight,0);null==e?e=n/2:n<e&&Dt.throwArgumentError("quorum will always fail; larger than total weight","quorum",e);let o=Kt(r.map(t=>t.provider.network));null==o&&(o=new Promise((t,e)=>{setTimeout(()=>{this.detectNetwork().then(t,e)},0)})),super(o),Object(v.d)(this,"providerConfigs",Object.freeze(r)),Object(v.d)(this,"quorum",e),this._highestBlockNumber=-1}detectNetwork(){return Ft(this,void 0,void 0,function*(){return Kt(yield Promise.all(this.providerConfigs.map(t=>t.provider.getNetwork())))})}perform(l,u){return Ft(this,void 0,void 0,function*(){if("sendTransaction"===l){const l=yield Promise.all(this.providerConfigs.map(t=>t.provider.sendTransaction(u.signedTransaction).then(t=>t.hash,t=>t)));for(let t=0;t<l.length;t++){const e=l[t];if("string"==typeof e)return e}throw l[0]}-1===this._highestBlockNumber&&"getBlockNumber"!==l&&(yield this.getBlockNumber());const e=zt(this,l,u),o=Object(Ut.a)(this.providerConfigs.map(v.g));o.sort((t,e)=>t.priority-e.priority);var r=this._highestBlockNumber;let n=0,i=!0;for(;;){const h=qt();let t=o.filter(t=>t.runner&&h-t.start<t.stallTimeout).reduce((t,e)=>t+e.weight,0);for(;t<this.quorum&&n<o.length;){const e=o[n++],h=Mt++;e.start=qt(),e.staller=Wt(e.stallTimeout),e.staller.wait(()=>{e.staller=null}),e.runner=Qt(e,r,l,u).then(t=>{e.done=!0,e.result=t,this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:h,backend:$t(e,qt()),request:{method:l,params:Object(v.c)(u)},provider:this})},t=>{e.done=!0,e.error=t,this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:h,backend:$t(e,qt()),request:{method:l,params:Object(v.c)(u)},provider:this})}),this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:h,backend:$t(e,null),request:{method:l,params:Object(v.c)(u)},provider:this}),t+=e.weight}const a=[];o.forEach(t=>{!t.done&&t.runner&&(a.push(t.runner),t.staller&&a.push(t.staller.getPromise()))}),a.length&&(yield Promise.race(a));var s=o.filter(t=>t.done&&null==t.error);if(s.length>=this.quorum){const l=e(s);if(void 0!==l)return o.forEach(t=>{t.staller&&t.staller.cancel(),t.cancelled=!0}),l;i||(yield Wt(100).getPromise()),i=!1}const c=o.reduce((t,e)=>{if(!e.done||null==e.error)return t;var r=e.error.code;return 0<=Jt.indexOf(r)&&(t[r]||(t[r]={error:e.error,weight:0}),t[r].weight+=e.weight),t},{});if(Object.keys(c).forEach(t=>{var e=c[t];if(!(e.weight<this.quorum)){o.forEach(t=>{t.staller&&t.staller.cancel(),t.cancelled=!0});const r=e.error,n={};Vt.forEach(t=>{null!=r[t]&&(n[t]=r[t])}),Dt.throwError(r.reason||r.message,t,n)}}),0===o.filter(t=>!t.done).length)break}return o.forEach(t=>{t.staller&&t.staller.cancel(),t.cancelled=!0}),Dt.throwError("failed to meet quorum",h.b.errors.SERVER_ERROR,{method:l,params:u,results:o.map(t=>$t(t)),provider:this})})}}const Yt=null,te=new h.b(r),ee="84842078b09946638c03157f83405213";class re extends bt{constructor(t,e){const r=new ne(t,e),n=r.connection;n.password&&te.throwError("INFURA WebSocket project secrets unsupported",h.b.errors.UNSUPPORTED_OPERATION,{operation:"InfuraProvider.getWebSocketProvider()"}),super(n.url.replace(/^http/i,"ws").replace("/v3/","/ws/v3/"),t),Object(v.d)(this,"apiKey",r.projectId),Object(v.d)(this,"projectId",r.projectId),Object(v.d)(this,"projectSecret",r.projectSecret)}isCommunityResource(){return this.projectId===ee}}class ne extends wt{static getWebSocketProvider(t,e){return new re(t,e)}static getApiKey(t){const e={apiKey:ee,projectId:ee,projectSecret:null};return null==t||("string"==typeof t?e.projectId=t:null!=t.projectSecret?(te.assertArgument("string"==typeof t.projectId,"projectSecret requires a projectId","projectId",t.projectId),te.assertArgument("string"==typeof t.projectSecret,"invalid projectSecret","projectSecret","[REDACTED]"),e.projectId=t.projectId,e.projectSecret=t.projectSecret):t.projectId&&(e.projectId=t.projectId),e.apiKey=e.projectId),e}static getUrl(t,r){let e=null;switch(t?t.name:"unknown"){case"homestead":e="mainnet.infura.io";break;case"ropsten":e="ropsten.infura.io";break;case"rinkeby":e="rinkeby.infura.io";break;case"kovan":e="kovan.infura.io";break;case"goerli":e="goerli.infura.io";break;case"matic":e="polygon-mainnet.infura.io";break;case"maticmum":e="polygon-mumbai.infura.io";break;case"optimism":e="optimism-mainnet.infura.io";break;case"optimism-kovan":e="optimism-kovan.infura.io";break;case"arbitrum":e="arbitrum-mainnet.infura.io";break;case"arbitrum-rinkeby":e="arbitrum-rinkeby.infura.io";break;default:te.throwError("unsupported network",h.b.errors.INVALID_ARGUMENT,{argument:"network",value:t})}const n={allowGzip:!0,url:"https://"+e+"/v3/"+r.projectId,throttleCallback:(t,e)=>(r.projectId===ee&&x(),Promise.resolve(!0))};return null!=r.projectSecret&&(n.user="",n.password=r.projectSecret),n}isCommunityResource(){return this.projectId===ee}}class oe extends ht{send(t,e){e={method:t,params:e,id:this._nextId++,jsonrpc:"2.0"};null==this._pendingBatch&&(this._pendingBatch=[]);const r={request:e,resolve:null,reject:null},n=new Promise((t,e)=>{r.resolve=t,r.reject=e});return this._pendingBatch.push(r),this._pendingBatchAggregator||(this._pendingBatchAggregator=setTimeout(()=>{const t=this._pendingBatch;this._pendingBatch=null,this._pendingBatchAggregator=null;const r=t.map(t=>t.request);return this.emit("debug",{action:"requestBatch",request:Object(v.c)(r),provider:this}),Object(y.b)(this.connection,JSON.stringify(r)).then(n=>{this.emit("debug",{action:"response",request:r,response:n,provider:this}),t.forEach((t,e)=>{e=n[e];if(e.error){const r=new Error(e.error.message);r.code=e.error.code,r.data=e.error.data,t.reject(r)}else t.resolve(e.result)})},e=>{this.emit("debug",{action:"response",error:e,request:r,provider:this}),t.forEach(t=>{t.reject(e)})})},10)),n}}const ie=new h.b(r);class se extends wt{static getApiKey(t){return t&&"string"!=typeof t&&ie.throwArgumentError("invalid apiKey","apiKey",t),t||"ETHERS_JS_SHARED"}static getUrl(t,e){ie.warn("NodeSmith will be discontinued on 2019-12-20; please migrate to another platform.");let r=null;switch(t.name){case"homestead":r="https://ethereum.api.nodesmith.io/v1/mainnet/jsonrpc";break;case"ropsten":r="https://ethereum.api.nodesmith.io/v1/ropsten/jsonrpc";break;case"rinkeby":r="https://ethereum.api.nodesmith.io/v1/rinkeby/jsonrpc";break;case"goerli":r="https://ethereum.api.nodesmith.io/v1/goerli/jsonrpc";break;case"kovan":r="https://ethereum.api.nodesmith.io/v1/kovan/jsonrpc";break;default:ie.throwArgumentError("unsupported network","network",t)}return r+"?apiKey="+e}}const ae=new h.b(r),ce={homestead:"6004bcd10040261633ade990",ropsten:"6004bd4d0040261633ade991",rinkeby:"6004bda20040261633ade994",goerli:"6004bd860040261633ade992"};class le extends wt{constructor(t,e){if(null==e){var r=Object(v.e)(new.target,"getNetwork")(t);if(r){const t=ce[r.name];t&&(e={applicationId:t,loadBalancer:!0})}null==e&&ae.throwError("unsupported network",h.b.errors.INVALID_ARGUMENT,{argument:"network",value:t})}super(t,e)}static getApiKey(t){null==t&&ae.throwArgumentError("PocketProvider.getApiKey does not support null apiKey","apiKey",t);const e={applicationId:null,loadBalancer:!1,applicationSecretKey:null};return"string"==typeof t?e.applicationId=t:null!=t.applicationSecretKey?(ae.assertArgument("string"==typeof t.applicationId,"applicationSecretKey requires an applicationId","applicationId",t.applicationId),ae.assertArgument("string"==typeof t.applicationSecretKey,"invalid applicationSecretKey","applicationSecretKey","[REDACTED]"),e.applicationId=t.applicationId,e.applicationSecretKey=t.applicationSecretKey,e.loadBalancer=!!t.loadBalancer):t.applicationId?(ae.assertArgument("string"==typeof t.applicationId,"apiKey.applicationId must be a string","apiKey.applicationId",t.applicationId),e.applicationId=t.applicationId,e.loadBalancer=!!t.loadBalancer):ae.throwArgumentError("unsupported PocketProvider apiKey","apiKey",t),e}static getUrl(t,e){let r=null;switch(t?t.name:"unknown"){case"homestead":r="eth-mainnet.gateway.pokt.network";break;case"ropsten":r="eth-ropsten.gateway.pokt.network";break;case"rinkeby":r="eth-rinkeby.gateway.pokt.network";break;case"goerli":r="eth-goerli.gateway.pokt.network";break;default:ae.throwError("unsupported network",h.b.errors.INVALID_ARGUMENT,{argument:"network",value:t})}const n={url:e.loadBalancer?`https://${r}/v1/lb/`+e.applicationId:`https://${r}/v1/`+e.applicationId,headers:{}};return null!=e.applicationSecretKey&&(n.user="",n.password=e.applicationSecretKey),n}isCommunityResource(){return this.applicationId===ce[this.network.name]}}const ue=new h.b(r);let he=1;function de(t,i){const s="Web3LegacyFetcher";return function(t,e){const o={method:t,params:e,id:he++,jsonrpc:"2.0"};return new Promise((r,n)=>{this.emit("debug",{action:"request",fetcher:s,request:Object(v.c)(o),provider:this}),i(o,(t,e)=>{if(t)return this.emit("debug",{action:"response",fetcher:s,error:t,request:o,provider:this}),n(t);if(this.emit("debug",{action:"response",fetcher:s,request:o,response:e,provider:this}),e.error){const r=new Error(e.error.message);return r.code=e.error.code,r.data=e.error.data,n(r)}r(e.result)})})}}class fe extends ht{constructor(t,e){ue.checkNew(new.target,fe),null==t&&ue.throwArgumentError("missing provider","provider",t);let r=null,n=null,o=null;var i;"function"==typeof t?(r="unknown:",n=t):(r=t.host||t.path||"",!r&&t.isMetaMask&&(r="metamask"),(o=t).request?(""===r&&(r="eip-1193:"),n=(i=t,function(t,e){const r={method:t,params:e=null==e?[]:e};return this.emit("debug",{action:"request",fetcher:"Eip1193Fetcher",request:Object(v.c)(r),provider:this}),i.request(r).then(t=>(this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:r,response:t,provider:this}),t),t=>{throw this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:r,error:t,provider:this}),t})})):t.sendAsync?n=de(0,t.sendAsync.bind(t)):t.send?n=de(0,t.send.bind(t)):ue.throwArgumentError("unsupported provider","provider",t),r=r||"unknown:"),super(r,e),Object(v.d)(this,"jsonRpcFetchFunc",n),Object(v.d)(this,"provider",o)}send(t,e){return this.jsonRpcFetchFunc(t,e)}}const me=new h.b(r);function pe(t,e){if("string"==typeof(t=null==t?"homestead":t)){const e=t.match(/^(ws|http)s?:/i);if(e)switch(e[1]){case"http":return new ht(t);case"ws":return new bt(t);default:me.throwArgumentError("unsupported URL scheme","network",t)}}const r=d(t);return r&&r._defaultProvider||me.throwError("unsupported getDefaultProvider network",h.b.errors.NETWORK_ERROR,{operation:"getDefaultProvider",network:t}),r._defaultProvider({FallbackProvider:Zt,AlchemyProvider:Nt,CloudflareProvider:jt,EtherscanProvider:Lt,InfuraProvider:ne,JsonRpcProvider:ht,NodesmithProvider:se,PocketProvider:le,Web3Provider:fe,IpcProvider:Yt},e)}},4105:function(t,e,r){"use strict";r.d(e,"a",function(){return n});var p=r("549e"),b=r("3796");function n(r,n,o,i,s){let a;r=Object(p.a)(r),n=Object(p.a)(n);let c=1;const l=new Uint8Array(i),u=new Uint8Array(n.length+4);let h,d;u.set(n);for(let t=1;t<=c;t++){u[n.length]=t>>24&255,u[n.length+1]=t>>16&255,u[n.length+2]=t>>8&255,u[n.length+3]=255&t;let e=Object(p.a)(Object(b.a)(s,r,u));a||(a=e.length,d=new Uint8Array(a),c=Math.ceil(i/a),h=i-(c-1)*a),d.set(e);for(let t=1;t<o;t++){e=Object(p.a)(Object(b.a)(s,r,e));for(let t=0;t<a;t++)d[t]^=e[t]}var f=(t-1)*a,m=t===c?h:a;l.set(Object(p.a)(d).slice(0,m),f)}return Object(p.i)(l)}},5553:function(t,e,r){"use strict";function n(e){for(let t=(e=e.slice()).length-1;0<t;t--){var r=Math.floor(Math.random()*(t+1)),n=e[t];e[t]=e[r],e[r]=n}return e}r.d(e,"a",function(){return n})},"6e45":function(t,a,c){"use strict";!function(t){c.d(a,"a",function(){return s});var e=c("549e"),r=c("ffb2"),n=c("ff09");const o=new r.b(n.a);n=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==t)return t;throw new Error("unable to locate global object")}();let i=n.crypto||n.msCrypto;function s(t){(t<=0||1024<t||t%1||t!=t)&&o.throwArgumentError("invalid length","length",t);t=new Uint8Array(t);return i.getRandomValues(t),Object(e.a)(t)}i&&i.getRandomValues||(o.warn("WARNING: Missing strong random number source"),i={getRandomValues:function(t){return o.throwError("no secure random source avaialble",r.b.errors.UNSUPPORTED_OPERATION,{operation:"crypto.getRandomValues"})}})}.call(this,c("c8ba"))},"9bda":function(t,e,r){"use strict";r.d(e,"d",function(){return o}),r.d(e,"e",function(){return s}),r.d(e,"f",function(){return a}),r.d(e,"b",function(){return c}),r.d(e,"g",function(){return l}),r.d(e,"c",function(){return d}),r.d(e,"a",function(){return f});var r=r("ffb2"),n=function(t,s,a,c){return new(a=a||Promise)(function(r,e){function n(t){try{i(c.next(t))}catch(t){e(t)}}function o(t){try{i(c.throw(t))}catch(t){e(t)}}function i(t){var e;t.done?r(t.value):((e=t.value)instanceof a?e:new a(function(t){t(e)})).then(n,o)}i((c=c.apply(t,s||[])).next())})};const i=new r.b("properties/5.5.0");function o(t,e,r){Object.defineProperty(t,e,{enumerable:!0,value:r,writable:!1})}function s(e,r){for(let t=0;t<32;t++){if(e[r])return e[r];if(!e.prototype||"object"!=typeof e.prototype)break;e=Object.getPrototypeOf(e.prototype).constructor}return null}function a(r){return n(this,void 0,void 0,function*(){const t=Object.keys(r).map(e=>{var t=r[e];return Promise.resolve(t).then(t=>({key:e,value:t}))}),e=yield Promise.all(t);return e.reduce((t,e)=>(t[e.key]=e.value,t),{})})}function c(e,r){e&&"object"==typeof e||i.throwArgumentError("invalid object","object",e),Object.keys(e).forEach(t=>{r[t]||i.throwArgumentError("invalid object key - "+t,"transaction:"+t,e)})}function l(t){const e={};for(const r in t)e[r]=t[r];return e}const u={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function h(t){if(function r(n){if(null==n||u[typeof n])return 1;if(Array.isArray(n)||"object"==typeof n){if(!Object.isFrozen(n))return;var o=Object.keys(n);for(let e=0;e<o.length;e++){let t=null;try{t=n[o[e]]}catch(t){continue}if(!r(t))return}return 1}return i.throwArgumentError("Cannot deepCopy "+typeof n,"object",n)}(t))return t;if(Array.isArray(t))return Object.freeze(t.map(t=>d(t)));if("object"!=typeof t)return i.throwArgumentError("Cannot deepCopy "+typeof t,"object",t);var e={};for(const n in t){var r=t[n];void 0!==r&&o(e,n,d(r))}return e}function d(t){return h(t)}class f{constructor(t){for(const e in t)this[e]=d(t[e])}}},e165:function(t,e,r){"use strict";r.r(e),r.d(e,"encode",function(){return n}),r.d(e,"decode",function(){return h});var i=r("549e"),s=r("ffb2");const a=new s.b("rlp/5.5.0");function o(t){const e=[];for(;t;)e.unshift(255&t),t>>=8;return e}function c(e,r,n){let o=0;for(let t=0;t<n;t++)o=256*o+e[r+t];return o}function n(t){return Object(i.i)(function r(t){if(Array.isArray(t)){let e=[];if(t.forEach(function(t){e=e.concat(r(t))}),e.length<=55)return e.unshift(192+e.length),e;const n=o(e.length);return n.unshift(247+n.length),n.concat(e)}Object(i.k)(t)||a.throwArgumentError("RLP object must be BytesLike","object",t);const e=Array.prototype.slice.call(Object(i.a)(t));if(1===e.length&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const n=o(e.length);return n.unshift(183+n.length),n.concat(e)}(t))}function l(t,e,r,n){const o=[];for(;r<e+1+n;){var i=u(t,r);o.push(i.result),e+1+n<(r+=i.consumed)&&a.throwError("child data too short",s.b.errors.BUFFER_OVERRUN,{})}return{consumed:1+n,result:o}}function u(t,e){if(0===t.length&&a.throwError("data too short",s.b.errors.BUFFER_OVERRUN,{}),248<=t[e]){var r=t[e]-247;e+1+r>t.length&&a.throwError("data short segment too short",s.b.errors.BUFFER_OVERRUN,{});const i=c(t,e+1,r);return e+1+r+i>t.length&&a.throwError("data long segment too short",s.b.errors.BUFFER_OVERRUN,{}),l(t,e,e+1+r,r+i)}if(192<=t[e]){var n=t[e]-192;return e+1+n>t.length&&a.throwError("data array too short",s.b.errors.BUFFER_OVERRUN,{}),l(t,e,e+1,n)}if(184<=t[e]){n=t[e]-183;e+1+n>t.length&&a.throwError("data array too short",s.b.errors.BUFFER_OVERRUN,{});var o=c(t,e+1,n);return e+1+n+o>t.length&&a.throwError("data array too short",s.b.errors.BUFFER_OVERRUN,{}),{consumed:1+n+o,result:Object(i.i)(t.slice(e+1+n,e+1+n+o))}}if(128<=t[e]){o=t[e]-128;return e+1+o>t.length&&a.throwError("data too short",s.b.errors.BUFFER_OVERRUN,{}),{consumed:1+o,result:Object(i.i)(t.slice(e+1,e+1+o))}}return{consumed:1,result:Object(i.i)(t[e])}}function h(t){var e=Object(i.a)(t),r=u(e,0);return r.consumed!==e.length&&a.throwArgumentError("invalid rlp data","data",t),r.result}},ff09:function(t,e,r){"use strict";r.d(e,"a",function(){return n});const n="random/5.5.1"}}]);